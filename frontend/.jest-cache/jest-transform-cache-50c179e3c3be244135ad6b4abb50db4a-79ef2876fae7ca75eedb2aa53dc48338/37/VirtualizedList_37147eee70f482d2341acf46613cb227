e6680e16c4a10cc66d53ba006213a644
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _toConsumableArray2 = _interopRequireDefault(require("@babel/runtime/helpers/toConsumableArray"));
var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));
var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));
var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));
var _possibleConstructorReturn2 = _interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));
var _getPrototypeOf2 = _interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));
var _inherits2 = _interopRequireDefault(require("@babel/runtime/helpers/inherits"));
var _reactNative = require("react-native");
var _Batchinator = _interopRequireDefault(require("../Interaction/Batchinator"));
var _clamp = _interopRequireDefault(require("../Utilities/clamp"));
var _infoLog = _interopRequireDefault(require("../Utilities/infoLog"));
var _CellRenderMask = require("./CellRenderMask");
var _ChildListCollection = _interopRequireDefault(require("./ChildListCollection"));
var _FillRateHelper = _interopRequireDefault(require("./FillRateHelper"));
var _StateSafePureComponent = _interopRequireDefault(require("./StateSafePureComponent"));
var _ViewabilityHelper = _interopRequireDefault(require("./ViewabilityHelper"));
var _VirtualizedListCellRenderer = _interopRequireDefault(require("./VirtualizedListCellRenderer"));
var _VirtualizedListContext = require("./VirtualizedListContext.js");
var _VirtualizeUtils = require("./VirtualizeUtils");
var _invariant = _interopRequireDefault(require("invariant"));
var _nullthrows = _interopRequireDefault(require("nullthrows"));
var React = _interopRequireWildcard(require("react"));
var _jsxRuntime = require("react/jsx-runtime");
function _interopRequireWildcard(e, t) { if ("function" == typeof WeakMap) var r = new WeakMap(), n = new WeakMap(); return (_interopRequireWildcard = function _interopRequireWildcard(e, t) { if (!t && e && e.__esModule) return e; var o, i, f = { __proto__: null, default: e }; if (null === e || "object" != typeof e && "function" != typeof e) return f; if (o = t ? n : r) { if (o.has(e)) return o.get(e); o.set(e, f); } for (var _t in e) "default" !== _t && {}.hasOwnProperty.call(e, _t) && ((i = (o = Object.defineProperty) && Object.getOwnPropertyDescriptor(e, _t)) && (i.get || i.set) ? o(f, _t, i) : f[_t] = e[_t]); return f; })(e, t); }
function _callSuper(t, o, e) { return o = (0, _getPrototypeOf2.default)(o), (0, _possibleConstructorReturn2.default)(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], (0, _getPrototypeOf2.default)(t).constructor) : o.apply(t, e)); }
function _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }
var ON_EDGE_REACHED_EPSILON = 0.001;
var _usedIndexForKey = false;
var _keylessItemComponentName = '';
function horizontalOrDefault(horizontal) {
  return horizontal != null ? horizontal : false;
}
function initialNumToRenderOrDefault(initialNumToRender) {
  return initialNumToRender != null ? initialNumToRender : 10;
}
function maxToRenderPerBatchOrDefault(maxToRenderPerBatch) {
  return maxToRenderPerBatch != null ? maxToRenderPerBatch : 10;
}
function onStartReachedThresholdOrDefault(onStartReachedThreshold) {
  return onStartReachedThreshold != null ? onStartReachedThreshold : 2;
}
function onEndReachedThresholdOrDefault(onEndReachedThreshold) {
  return onEndReachedThreshold != null ? onEndReachedThreshold : 2;
}
function getScrollingThreshold(threshold, visibleLength) {
  return threshold * visibleLength / 2;
}
function scrollEventThrottleOrDefault(scrollEventThrottle) {
  return scrollEventThrottle != null ? scrollEventThrottle : 50;
}
function windowSizeOrDefault(windowSize) {
  return windowSize != null ? windowSize : 21;
}
function findLastWhere(arr, predicate) {
  for (var i = arr.length - 1; i >= 0; i--) {
    if (predicate(arr[i])) {
      return arr[i];
    }
  }
  return null;
}
var VirtualizedList = function (_StateSafePureCompone) {
  function VirtualizedList(_props) {
    var _this$props$updateCel, _this$props$maintainV, _this$props$maintainV2;
    var _this;
    (0, _classCallCheck2.default)(this, VirtualizedList);
    _this = _callSuper(this, VirtualizedList, [_props]);
    _this._getScrollMetrics = function () {
      return _this._scrollMetrics;
    };
    _this._getOutermostParentListRef = function () {
      if (_this._isNestedWithSameOrientation()) {
        return _this.context.getOutermostParentListRef();
      } else {
        return _this;
      }
    };
    _this._registerAsNestedChild = function (childList) {
      _this._nestedChildLists.add(childList.ref, childList.cellKey);
      if (_this._hasInteracted) {
        childList.ref.recordInteraction();
      }
    };
    _this._unregisterAsNestedChild = function (childList) {
      _this._nestedChildLists.remove(childList.ref);
    };
    _this._onUpdateSeparators = function (keys, newProps) {
      keys.forEach(function (key) {
        var ref = key != null && _this._cellRefs[key];
        ref && ref.updateSeparatorProps(newProps);
      });
    };
    _this._getSpacerKey = function (isVertical) {
      return isVertical ? 'height' : 'width';
    };
    _this._averageCellLength = 0;
    _this._cellRefs = {};
    _this._frames = {};
    _this._footerLength = 0;
    _this._hasTriggeredInitialScrollToIndex = false;
    _this._hasInteracted = false;
    _this._hasMore = false;
    _this._hasWarned = {};
    _this._headerLength = 0;
    _this._hiPriInProgress = false;
    _this._highestMeasuredFrameIndex = 0;
    _this._indicesToKeys = new Map();
    _this._lastFocusedCellKey = null;
    _this._nestedChildLists = new _ChildListCollection.default();
    _this._offsetFromParentVirtualizedList = 0;
    _this._prevParentOffset = 0;
    _this._scrollMetrics = {
      contentLength: 0,
      dOffset: 0,
      dt: 10,
      offset: 0,
      timestamp: 0,
      velocity: 0,
      visibleLength: 0,
      zoomScale: 1
    };
    _this._scrollRef = null;
    _this._sentStartForContentLength = 0;
    _this._sentEndForContentLength = 0;
    _this._totalCellLength = 0;
    _this._totalCellsMeasured = 0;
    _this._viewabilityTuples = [];
    _this._captureScrollRef = function (ref) {
      _this._scrollRef = ref;
    };
    _this._defaultRenderScrollComponent = function (props) {
      var onRefresh = props.onRefresh;
      if (_this._isNestedWithSameOrientation()) {
        return (0, _jsxRuntime.jsx)(_reactNative.View, Object.assign({}, props));
      } else if (onRefresh) {
        var _props$refreshing;
        (0, _invariant.default)(typeof props.refreshing === 'boolean', '`refreshing` prop must be set as a boolean in order to use `onRefresh`, but got `' + JSON.stringify((_props$refreshing = props.refreshing) != null ? _props$refreshing : 'undefined') + '`');
        return ((0, _jsxRuntime.jsx)(_reactNative.ScrollView, Object.assign({}, props, {
            refreshControl: props.refreshControl == null ? (0, _jsxRuntime.jsx)(_reactNative.RefreshControl, {
              refreshing: props.refreshing,
              onRefresh: onRefresh,
              progressViewOffset: props.progressViewOffset
            }) : props.refreshControl
          }))
        );
      } else {
        return (0, _jsxRuntime.jsx)(_reactNative.ScrollView, Object.assign({}, props));
      }
    };
    _this._onCellLayout = function (e, cellKey, index) {
      var layout = e.nativeEvent.layout;
      var next = {
        offset: _this._selectOffset(layout),
        length: _this._selectLength(layout),
        index: index,
        inLayout: true
      };
      var curr = _this._frames[cellKey];
      if (!curr || next.offset !== curr.offset || next.length !== curr.length || index !== curr.index) {
        _this._totalCellLength += next.length - (curr ? curr.length : 0);
        _this._totalCellsMeasured += curr ? 0 : 1;
        _this._averageCellLength = _this._totalCellLength / _this._totalCellsMeasured;
        _this._frames[cellKey] = next;
        _this._highestMeasuredFrameIndex = Math.max(_this._highestMeasuredFrameIndex, index);
        _this._scheduleCellsToRenderUpdate();
      } else {
        _this._frames[cellKey].inLayout = true;
      }
      _this._triggerRemeasureForChildListsInCell(cellKey);
      _this._computeBlankness();
      _this._updateViewableItems(_this.props, _this.state.cellsAroundViewport);
    };
    _this._onCellUnmount = function (cellKey) {
      delete _this._cellRefs[cellKey];
      var curr = _this._frames[cellKey];
      if (curr) {
        _this._frames[cellKey] = Object.assign({}, curr, {
          inLayout: false
        });
      }
    };
    _this._onLayout = function (e) {
      if (_this._isNestedWithSameOrientation()) {
        _this.measureLayoutRelativeToContainingList();
      } else {
        _this._scrollMetrics.visibleLength = _this._selectLength(e.nativeEvent.layout);
      }
      _this.props.onLayout && _this.props.onLayout(e);
      _this._scheduleCellsToRenderUpdate();
      _this._maybeCallOnEdgeReached();
    };
    _this._onLayoutEmpty = function (e) {
      _this.props.onLayout && _this.props.onLayout(e);
    };
    _this._onLayoutFooter = function (e) {
      _this._triggerRemeasureForChildListsInCell(_this._getFooterCellKey());
      _this._footerLength = _this._selectLength(e.nativeEvent.layout);
    };
    _this._onLayoutHeader = function (e) {
      _this._headerLength = _this._selectLength(e.nativeEvent.layout);
    };
    _this._onContentSizeChange = function (width, height) {
      if (width > 0 && height > 0 && _this.props.initialScrollIndex != null && _this.props.initialScrollIndex > 0 && !_this._hasTriggeredInitialScrollToIndex) {
        if (_this.props.contentOffset == null) {
          if (_this.props.initialScrollIndex < _this.props.getItemCount(_this.props.data)) {
            _this.scrollToIndex({
              animated: false,
              index: (0, _nullthrows.default)(_this.props.initialScrollIndex)
            });
          } else {
            _this.scrollToEnd({
              animated: false
            });
          }
        }
        _this._hasTriggeredInitialScrollToIndex = true;
      }
      if (_this.props.onContentSizeChange) {
        _this.props.onContentSizeChange(width, height);
      }
      _this._scrollMetrics.contentLength = _this._selectLength({
        height: height,
        width: width
      });
      _this._scheduleCellsToRenderUpdate();
      _this._maybeCallOnEdgeReached();
    };
    _this._convertParentScrollMetrics = function (metrics) {
      var offset = metrics.offset - _this._offsetFromParentVirtualizedList;
      var visibleLength = metrics.visibleLength;
      var dOffset = offset - _this._scrollMetrics.offset;
      var contentLength = _this._scrollMetrics.contentLength;
      return {
        visibleLength: visibleLength,
        contentLength: contentLength,
        offset: offset,
        dOffset: dOffset
      };
    };
    _this._onScroll = function (e) {
      _this._nestedChildLists.forEach(function (childList) {
        childList._onScroll(e);
      });
      if (_this.props.onScroll) {
        _this.props.onScroll(e);
      }
      var timestamp = e.timeStamp;
      var visibleLength = _this._selectLength(e.nativeEvent.layoutMeasurement);
      var contentLength = _this._selectLength(e.nativeEvent.contentSize);
      var offset = _this._selectOffset(e.nativeEvent.contentOffset);
      var dOffset = offset - _this._scrollMetrics.offset;
      if (_this._isNestedWithSameOrientation()) {
        if (_this._scrollMetrics.contentLength === 0) {
          return;
        }
        var _this$_convertParentS = _this._convertParentScrollMetrics({
          visibleLength: visibleLength,
          offset: offset
        });
        visibleLength = _this$_convertParentS.visibleLength;
        contentLength = _this$_convertParentS.contentLength;
        offset = _this$_convertParentS.offset;
        dOffset = _this$_convertParentS.dOffset;
      }
      var dt = _this._scrollMetrics.timestamp ? Math.max(1, timestamp - _this._scrollMetrics.timestamp) : 1;
      var velocity = dOffset / dt;
      if (dt > 500 && _this._scrollMetrics.dt > 500 && contentLength > 5 * visibleLength && !_this._hasWarned.perf) {
        (0, _infoLog.default)('VirtualizedList: You have a large list that is slow to update - make sure your ' + 'renderItem function renders components that follow React performance best practices ' + 'like PureComponent, shouldComponentUpdate, etc.', {
          dt: dt,
          prevDt: _this._scrollMetrics.dt,
          contentLength: contentLength
        });
        _this._hasWarned.perf = true;
      }
      var zoomScale = e.nativeEvent.zoomScale < 0 ? 1 : e.nativeEvent.zoomScale;
      _this._scrollMetrics = {
        contentLength: contentLength,
        dt: dt,
        dOffset: dOffset,
        offset: offset,
        timestamp: timestamp,
        velocity: velocity,
        visibleLength: visibleLength,
        zoomScale: zoomScale
      };
      if (_this.state.pendingScrollUpdateCount > 0) {
        _this.setState(function (state) {
          return {
            pendingScrollUpdateCount: state.pendingScrollUpdateCount - 1
          };
        });
      }
      _this._updateViewableItems(_this.props, _this.state.cellsAroundViewport);
      if (!_this.props) {
        return;
      }
      _this._maybeCallOnEdgeReached();
      if (velocity !== 0) {
        _this._fillRateHelper.activate();
      }
      _this._computeBlankness();
      _this._scheduleCellsToRenderUpdate();
    };
    _this._onScrollBeginDrag = function (e) {
      _this._nestedChildLists.forEach(function (childList) {
        childList._onScrollBeginDrag(e);
      });
      _this._viewabilityTuples.forEach(function (tuple) {
        tuple.viewabilityHelper.recordInteraction();
      });
      _this._hasInteracted = true;
      _this.props.onScrollBeginDrag && _this.props.onScrollBeginDrag(e);
    };
    _this._onScrollEndDrag = function (e) {
      _this._nestedChildLists.forEach(function (childList) {
        childList._onScrollEndDrag(e);
      });
      var velocity = e.nativeEvent.velocity;
      if (velocity) {
        _this._scrollMetrics.velocity = _this._selectOffset(velocity);
      }
      _this._computeBlankness();
      _this.props.onScrollEndDrag && _this.props.onScrollEndDrag(e);
    };
    _this._onMomentumScrollBegin = function (e) {
      _this._nestedChildLists.forEach(function (childList) {
        childList._onMomentumScrollBegin(e);
      });
      _this.props.onMomentumScrollBegin && _this.props.onMomentumScrollBegin(e);
    };
    _this._onMomentumScrollEnd = function (e) {
      _this._nestedChildLists.forEach(function (childList) {
        childList._onMomentumScrollEnd(e);
      });
      _this._scrollMetrics.velocity = 0;
      _this._computeBlankness();
      _this.props.onMomentumScrollEnd && _this.props.onMomentumScrollEnd(e);
    };
    _this._updateCellsToRender = function () {
      _this._updateViewableItems(_this.props, _this.state.cellsAroundViewport);
      _this.setState(function (state, props) {
        var cellsAroundViewport = _this._adjustCellsAroundViewport(props, state.cellsAroundViewport, state.pendingScrollUpdateCount);
        var renderMask = VirtualizedList._createRenderMask(props, cellsAroundViewport, _this._getNonViewportRenderRegions(props));
        if (cellsAroundViewport.first === state.cellsAroundViewport.first && cellsAroundViewport.last === state.cellsAroundViewport.last && renderMask.equals(state.renderMask)) {
          return null;
        }
        return {
          cellsAroundViewport: cellsAroundViewport,
          renderMask: renderMask
        };
      });
    };
    _this._createViewToken = function (index, isViewable, props) {
      var data = props.data,
        getItem = props.getItem;
      var item = getItem(data, index);
      return {
        index: index,
        item: item,
        key: VirtualizedList._keyExtractor(item, index, props),
        isViewable: isViewable
      };
    };
    _this._getOffsetApprox = function (index, props) {
      if (Number.isInteger(index)) {
        return _this.__getFrameMetricsApprox(index, props).offset;
      } else {
        var frameMetrics = _this.__getFrameMetricsApprox(Math.floor(index), props);
        var remainder = index - Math.floor(index);
        return frameMetrics.offset + remainder * frameMetrics.length;
      }
    };
    _this.__getFrameMetricsApprox = function (index, props) {
      var frame = _this._getFrameMetrics(index, props);
      if (frame && frame.index === index) {
        return frame;
      } else {
        var data = props.data,
          getItemCount = props.getItemCount,
          getItemLayout = props.getItemLayout;
        (0, _invariant.default)(index >= 0 && index < getItemCount(data), 'Tried to get frame for out of range index ' + index);
        (0, _invariant.default)(!getItemLayout, 'Should not have to estimate frames when a measurement metrics function is provided');
        return {
          length: _this._averageCellLength,
          offset: _this._averageCellLength * index
        };
      }
    };
    _this._getFrameMetrics = function (index, props) {
      var data = props.data,
        getItemCount = props.getItemCount,
        getItemLayout = props.getItemLayout;
      (0, _invariant.default)(index >= 0 && index < getItemCount(data), 'Tried to get frame for out of range index ' + index);
      var frame = _this._frames[VirtualizedList._getItemKey(props, index)];
      if (!frame || frame.index !== index) {
        if (getItemLayout) {
          return getItemLayout(data, index);
        }
      }
      return frame;
    };
    _this._getNonViewportRenderRegions = function (props) {
      if (!(_this._lastFocusedCellKey && _this._cellRefs[_this._lastFocusedCellKey])) {
        return [];
      }
      var lastFocusedCellRenderer = _this._cellRefs[_this._lastFocusedCellKey];
      var focusedCellIndex = lastFocusedCellRenderer.props.index;
      var itemCount = props.getItemCount(props.data);
      if (focusedCellIndex >= itemCount || VirtualizedList._getItemKey(props, focusedCellIndex) !== _this._lastFocusedCellKey) {
        return [];
      }
      var first = focusedCellIndex;
      var heightOfCellsBeforeFocused = 0;
      for (var i = first - 1; i >= 0 && heightOfCellsBeforeFocused < _this._scrollMetrics.visibleLength; i--) {
        first--;
        heightOfCellsBeforeFocused += _this.__getFrameMetricsApprox(i, props).length;
      }
      var last = focusedCellIndex;
      var heightOfCellsAfterFocused = 0;
      for (var _i = last + 1; _i < itemCount && heightOfCellsAfterFocused < _this._scrollMetrics.visibleLength; _i++) {
        last++;
        heightOfCellsAfterFocused += _this.__getFrameMetricsApprox(_i, props).length;
      }
      return [{
        first: first,
        last: last
      }];
    };
    _this._checkProps(_props);
    _this._fillRateHelper = new _FillRateHelper.default(_this._getFrameMetrics);
    _this._updateCellsToRenderBatcher = new _Batchinator.default(_this._updateCellsToRender, (_this$props$updateCel = _this.props.updateCellsBatchingPeriod) != null ? _this$props$updateCel : 50);
    if (_this.props.viewabilityConfigCallbackPairs) {
      _this._viewabilityTuples = _this.props.viewabilityConfigCallbackPairs.map(function (pair) {
        return {
          viewabilityHelper: new _ViewabilityHelper.default(pair.viewabilityConfig),
          onViewableItemsChanged: pair.onViewableItemsChanged
        };
      });
    } else {
      var _this$props = _this.props,
        onViewableItemsChanged = _this$props.onViewableItemsChanged,
        viewabilityConfig = _this$props.viewabilityConfig;
      if (onViewableItemsChanged) {
        _this._viewabilityTuples.push({
          viewabilityHelper: new _ViewabilityHelper.default(viewabilityConfig),
          onViewableItemsChanged: onViewableItemsChanged
        });
      }
    }
    var initialRenderRegion = VirtualizedList._initialRenderRegion(_props);
    var minIndexForVisible = (_this$props$maintainV = (_this$props$maintainV2 = _this.props.maintainVisibleContentPosition) == null ? void 0 : _this$props$maintainV2.minIndexForVisible) != null ? _this$props$maintainV : 0;
    _this.state = {
      cellsAroundViewport: initialRenderRegion,
      renderMask: VirtualizedList._createRenderMask(_props, initialRenderRegion),
      firstVisibleItemKey: _this.props.getItemCount(_this.props.data) > minIndexForVisible ? VirtualizedList._getItemKey(_this.props, minIndexForVisible) : null,
      pendingScrollUpdateCount: _this.props.initialScrollIndex != null && _this.props.initialScrollIndex > 0 ? 1 : 0
    };
    return _this;
  }
  (0, _inherits2.default)(VirtualizedList, _StateSafePureCompone);
  return (0, _createClass2.default)(VirtualizedList, [{
    key: "scrollToEnd",
    value: function scrollToEnd(params) {
      var animated = params ? params.animated : true;
      var veryLast = this.props.getItemCount(this.props.data) - 1;
      if (veryLast < 0) {
        return;
      }
      var frame = this.__getFrameMetricsApprox(veryLast, this.props);
      var offset = Math.max(0, frame.offset + frame.length + this._footerLength - this._scrollMetrics.visibleLength);
      if (this._scrollRef == null) {
        return;
      }
      if (this._scrollRef.scrollTo == null) {
        console.warn('No scrollTo method provided. This may be because you have two nested ' + 'VirtualizedLists with the same orientation, or because you are ' + 'using a custom component that does not implement scrollTo.');
        return;
      }
      this._scrollRef.scrollTo(horizontalOrDefault(this.props.horizontal) ? {
        x: offset,
        animated: animated
      } : {
        y: offset,
        animated: animated
      });
    }
  }, {
    key: "scrollToIndex",
    value: function scrollToIndex(params) {
      var _this$props2 = this.props,
        data = _this$props2.data,
        horizontal = _this$props2.horizontal,
        getItemCount = _this$props2.getItemCount,
        getItemLayout = _this$props2.getItemLayout,
        onScrollToIndexFailed = _this$props2.onScrollToIndexFailed;
      var animated = params.animated,
        index = params.index,
        viewOffset = params.viewOffset,
        viewPosition = params.viewPosition;
      (0, _invariant.default)(index >= 0, `scrollToIndex out of range: requested index ${index} but minimum is 0`);
      (0, _invariant.default)(getItemCount(data) >= 1, `scrollToIndex out of range: item length ${getItemCount(data)} but minimum is 1`);
      (0, _invariant.default)(index < getItemCount(data), `scrollToIndex out of range: requested index ${index} is out of 0 to ${getItemCount(data) - 1}`);
      if (!getItemLayout && index > this._highestMeasuredFrameIndex) {
        (0, _invariant.default)(!!onScrollToIndexFailed, 'scrollToIndex should be used in conjunction with getItemLayout or onScrollToIndexFailed, ' + 'otherwise there is no way to know the location of offscreen indices or handle failures.');
        onScrollToIndexFailed({
          averageItemLength: this._averageCellLength,
          highestMeasuredFrameIndex: this._highestMeasuredFrameIndex,
          index: index
        });
        return;
      }
      var frame = this.__getFrameMetricsApprox(Math.floor(index), this.props);
      var offset = Math.max(0, this._getOffsetApprox(index, this.props) - (viewPosition || 0) * (this._scrollMetrics.visibleLength - frame.length)) - (viewOffset || 0);
      if (this._scrollRef == null) {
        return;
      }
      if (this._scrollRef.scrollTo == null) {
        console.warn('No scrollTo method provided. This may be because you have two nested ' + 'VirtualizedLists with the same orientation, or because you are ' + 'using a custom component that does not implement scrollTo.');
        return;
      }
      this._scrollRef.scrollTo(horizontal ? {
        x: offset,
        animated: animated
      } : {
        y: offset,
        animated: animated
      });
    }
  }, {
    key: "scrollToItem",
    value: function scrollToItem(params) {
      var item = params.item;
      var _this$props3 = this.props,
        data = _this$props3.data,
        getItem = _this$props3.getItem,
        getItemCount = _this$props3.getItemCount;
      var itemCount = getItemCount(data);
      for (var _index = 0; _index < itemCount; _index++) {
        if (getItem(data, _index) === item) {
          this.scrollToIndex(Object.assign({}, params, {
            index: _index
          }));
          break;
        }
      }
    }
  }, {
    key: "scrollToOffset",
    value: function scrollToOffset(params) {
      var animated = params.animated,
        offset = params.offset;
      if (this._scrollRef == null) {
        return;
      }
      if (this._scrollRef.scrollTo == null) {
        console.warn('No scrollTo method provided. This may be because you have two nested ' + 'VirtualizedLists with the same orientation, or because you are ' + 'using a custom component that does not implement scrollTo.');
        return;
      }
      this._scrollRef.scrollTo(horizontalOrDefault(this.props.horizontal) ? {
        x: offset,
        animated: animated
      } : {
        y: offset,
        animated: animated
      });
    }
  }, {
    key: "recordInteraction",
    value: function recordInteraction() {
      this._nestedChildLists.forEach(function (childList) {
        childList.recordInteraction();
      });
      this._viewabilityTuples.forEach(function (t) {
        t.viewabilityHelper.recordInteraction();
      });
      this._updateViewableItems(this.props, this.state.cellsAroundViewport);
    }
  }, {
    key: "flashScrollIndicators",
    value: function flashScrollIndicators() {
      if (this._scrollRef == null) {
        return;
      }
      this._scrollRef.flashScrollIndicators();
    }
  }, {
    key: "getScrollResponder",
    value: function getScrollResponder() {
      if (this._scrollRef && this._scrollRef.getScrollResponder) {
        return this._scrollRef.getScrollResponder();
      }
    }
  }, {
    key: "getScrollableNode",
    value: function getScrollableNode() {
      if (this._scrollRef && this._scrollRef.getScrollableNode) {
        return this._scrollRef.getScrollableNode();
      } else {
        return (0, _reactNative.findNodeHandle)(this._scrollRef);
      }
    }
  }, {
    key: "getScrollRef",
    value: function getScrollRef() {
      if (this._scrollRef && this._scrollRef.getScrollRef) {
        return this._scrollRef.getScrollRef();
      } else {
        return this._scrollRef;
      }
    }
  }, {
    key: "setNativeProps",
    value: function setNativeProps(props) {
      if (this._scrollRef) {
        this._scrollRef.setNativeProps(props);
      }
    }
  }, {
    key: "_getCellKey",
    value: function _getCellKey() {
      var _this$context;
      return ((_this$context = this.context) == null ? void 0 : _this$context.cellKey) || 'rootList';
    }
  }, {
    key: "hasMore",
    value: function hasMore() {
      return this._hasMore;
    }
  }, {
    key: "_checkProps",
    value: function _checkProps(props) {
      var onScroll = props.onScroll,
        windowSize = props.windowSize,
        getItemCount = props.getItemCount,
        data = props.data,
        initialScrollIndex = props.initialScrollIndex;
      (0, _invariant.default)(!onScroll || !onScroll.__isNative, 'Components based on VirtualizedList must be wrapped with Animated.createAnimatedComponent ' + 'to support native onScroll events with useNativeDriver');
      (0, _invariant.default)(windowSizeOrDefault(windowSize) > 0, 'VirtualizedList: The windowSize prop must be present and set to a value greater than 0.');
      (0, _invariant.default)(getItemCount, 'VirtualizedList: The "getItemCount" prop must be provided');
      var itemCount = getItemCount(data);
      if (initialScrollIndex != null && !this._hasTriggeredInitialScrollToIndex && (initialScrollIndex < 0 || itemCount > 0 && initialScrollIndex >= itemCount) && !this._hasWarned.initialScrollIndex) {
        console.warn(`initialScrollIndex "${initialScrollIndex}" is not valid (list has ${itemCount} items)`);
        this._hasWarned.initialScrollIndex = true;
      }
      if (__DEV__ && !this._hasWarned.flexWrap) {
        var flatStyles = _reactNative.StyleSheet.flatten(this.props.contentContainerStyle);
        if (flatStyles != null && flatStyles.flexWrap === 'wrap') {
          console.warn('`flexWrap: `wrap`` is not supported with the `VirtualizedList` components.' + 'Consider using `numColumns` with `FlatList` instead.');
          this._hasWarned.flexWrap = true;
        }
      }
    }
  }, {
    key: "_adjustCellsAroundViewport",
    value: function _adjustCellsAroundViewport(props, cellsAroundViewport, pendingScrollUpdateCount) {
      var data = props.data,
        getItemCount = props.getItemCount;
      var onEndReachedThreshold = onEndReachedThresholdOrDefault(props.onEndReachedThreshold);
      var _this$_scrollMetrics = this._scrollMetrics,
        contentLength = _this$_scrollMetrics.contentLength,
        offset = _this$_scrollMetrics.offset,
        visibleLength = _this$_scrollMetrics.visibleLength;
      var distanceFromEnd = contentLength - visibleLength - offset;
      if (visibleLength <= 0 || contentLength <= 0) {
        return cellsAroundViewport.last >= getItemCount(data) ? VirtualizedList._constrainToItemCount(cellsAroundViewport, props) : cellsAroundViewport;
      }
      var newCellsAroundViewport;
      if (props.disableVirtualization) {
        var renderAhead = distanceFromEnd < onEndReachedThreshold * visibleLength ? maxToRenderPerBatchOrDefault(props.maxToRenderPerBatch) : 0;
        newCellsAroundViewport = {
          first: 0,
          last: Math.min(cellsAroundViewport.last + renderAhead, getItemCount(data) - 1)
        };
      } else {
        if (pendingScrollUpdateCount > 0) {
          return cellsAroundViewport.last >= getItemCount(data) ? VirtualizedList._constrainToItemCount(cellsAroundViewport, props) : cellsAroundViewport;
        }
        newCellsAroundViewport = (0, _VirtualizeUtils.computeWindowedRenderLimits)(props, maxToRenderPerBatchOrDefault(props.maxToRenderPerBatch), windowSizeOrDefault(props.windowSize), cellsAroundViewport, this.__getFrameMetricsApprox, this._scrollMetrics);
        (0, _invariant.default)(newCellsAroundViewport.last < getItemCount(data), 'computeWindowedRenderLimits() should return range in-bounds');
      }
      if (this._nestedChildLists.size() > 0) {
        var childIdx = this._findFirstChildWithMore(newCellsAroundViewport.first, newCellsAroundViewport.last);
        newCellsAroundViewport.last = childIdx != null ? childIdx : newCellsAroundViewport.last;
      }
      return newCellsAroundViewport;
    }
  }, {
    key: "_findFirstChildWithMore",
    value: function _findFirstChildWithMore(first, last) {
      for (var ii = first; ii <= last; ii++) {
        var cellKeyForIndex = this._indicesToKeys.get(ii);
        if (cellKeyForIndex != null && this._nestedChildLists.anyInCell(cellKeyForIndex, function (childList) {
          return childList.hasMore();
        })) {
          return ii;
        }
      }
      return null;
    }
  }, {
    key: "componentDidMount",
    value: function componentDidMount() {
      if (this._isNestedWithSameOrientation()) {
        this.context.registerAsNestedChild({
          ref: this,
          cellKey: this.context.cellKey
        });
      }
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      if (this._isNestedWithSameOrientation()) {
        this.context.unregisterAsNestedChild({
          ref: this
        });
      }
      this._updateCellsToRenderBatcher.dispose({
        abort: true
      });
      this._viewabilityTuples.forEach(function (tuple) {
        tuple.viewabilityHelper.dispose();
      });
      this._fillRateHelper.deactivateAndFlush();
    }
  }, {
    key: "_pushCells",
    value: function _pushCells(cells, stickyHeaderIndices, stickyIndicesFromProps, first, last, inversionStyle) {
      var _this2 = this;
      var _this$props4 = this.props,
        CellRendererComponent = _this$props4.CellRendererComponent,
        ItemSeparatorComponent = _this$props4.ItemSeparatorComponent,
        ListHeaderComponent = _this$props4.ListHeaderComponent,
        ListItemComponent = _this$props4.ListItemComponent,
        data = _this$props4.data,
        debug = _this$props4.debug,
        getItem = _this$props4.getItem,
        getItemCount = _this$props4.getItemCount,
        getItemLayout = _this$props4.getItemLayout,
        horizontal = _this$props4.horizontal,
        renderItem = _this$props4.renderItem;
      var stickyOffset = ListHeaderComponent ? 1 : 0;
      var end = getItemCount(data) - 1;
      var prevCellKey;
      last = Math.min(end, last);
      var _loop = function _loop() {
        var item = getItem(data, ii);
        var key = VirtualizedList._keyExtractor(item, ii, _this2.props);
        _this2._indicesToKeys.set(ii, key);
        if (stickyIndicesFromProps.has(ii + stickyOffset)) {
          stickyHeaderIndices.push(cells.length);
        }
        var shouldListenForLayout = getItemLayout == null || debug || _this2._fillRateHelper.enabled();
        cells.push((0, _jsxRuntime.jsx)(_VirtualizedListCellRenderer.default, Object.assign({
          CellRendererComponent: CellRendererComponent,
          ItemSeparatorComponent: ii < end ? ItemSeparatorComponent : undefined,
          ListItemComponent: ListItemComponent,
          cellKey: key,
          horizontal: horizontal,
          index: ii,
          inversionStyle: inversionStyle,
          item: item,
          prevCellKey: prevCellKey,
          onUpdateSeparators: _this2._onUpdateSeparators,
          onCellFocusCapture: function onCellFocusCapture(e) {
            return _this2._onCellFocusCapture(key);
          },
          onUnmount: _this2._onCellUnmount,
          ref: function ref(_ref) {
            _this2._cellRefs[key] = _ref;
          },
          renderItem: renderItem
        }, shouldListenForLayout && {
          onCellLayout: _this2._onCellLayout
        }), key));
        prevCellKey = key;
      };
      for (var ii = first; ii <= last; ii++) {
        _loop();
      }
    }
  }, {
    key: "_isNestedWithSameOrientation",
    value: function _isNestedWithSameOrientation() {
      var nestedContext = this.context;
      return !!(nestedContext && !!nestedContext.horizontal === horizontalOrDefault(this.props.horizontal));
    }
  }, {
    key: "render",
    value: function render() {
      var _this3 = this;
      this._checkProps(this.props);
      var _this$props5 = this.props,
        ListEmptyComponent = _this$props5.ListEmptyComponent,
        ListFooterComponent = _this$props5.ListFooterComponent,
        ListHeaderComponent = _this$props5.ListHeaderComponent;
      var _this$props6 = this.props,
        data = _this$props6.data,
        horizontal = _this$props6.horizontal;
      var inversionStyle = this.props.inverted ? horizontalOrDefault(this.props.horizontal) ? styles.horizontallyInverted : styles.verticallyInverted : null;
      var cells = [];
      var stickyIndicesFromProps = new Set(this.props.stickyHeaderIndices);
      var stickyHeaderIndices = [];
      if (ListHeaderComponent) {
        if (stickyIndicesFromProps.has(0)) {
          stickyHeaderIndices.push(0);
        }
        var _element = React.isValidElement(ListHeaderComponent) ? ListHeaderComponent : (0, _jsxRuntime.jsx)(ListHeaderComponent, {});
        cells.push((0, _jsxRuntime.jsx)(_VirtualizedListContext.VirtualizedListCellContextProvider, {
          cellKey: this._getCellKey() + '-header',
          children: (0, _jsxRuntime.jsx)(_reactNative.View, {
            collapsable: false,
            onLayout: this._onLayoutHeader,
            style: _reactNative.StyleSheet.compose(inversionStyle, this.props.ListHeaderComponentStyle),
            children: _element
          })
        }, "$header"));
      }
      var itemCount = this.props.getItemCount(data);
      if (itemCount === 0 && ListEmptyComponent) {
        var _element2 = React.isValidElement(ListEmptyComponent) ? ListEmptyComponent : (0, _jsxRuntime.jsx)(ListEmptyComponent, {});
        cells.push((0, _jsxRuntime.jsx)(_VirtualizedListContext.VirtualizedListCellContextProvider, {
          cellKey: this._getCellKey() + '-empty',
          children: React.cloneElement(_element2, {
            onLayout: function onLayout(event) {
              _this3._onLayoutEmpty(event);
              if (_element2.props.onLayout) {
                _element2.props.onLayout(event);
              }
            },
            style: _reactNative.StyleSheet.compose(inversionStyle, _element2.props.style)
          })
        }, "$empty"));
      }
      if (itemCount > 0) {
        _usedIndexForKey = false;
        _keylessItemComponentName = '';
        var spacerKey = this._getSpacerKey(!horizontal);
        var renderRegions = this.state.renderMask.enumerateRegions();
        var lastSpacer = findLastWhere(renderRegions, function (r) {
          return r.isSpacer;
        });
        for (var section of renderRegions) {
          if (section.isSpacer) {
            if (this.props.disableVirtualization) {
              continue;
            }
            var isLastSpacer = section === lastSpacer;
            var constrainToMeasured = isLastSpacer && !this.props.getItemLayout;
            var last = constrainToMeasured ? (0, _clamp.default)(section.first - 1, section.last, this._highestMeasuredFrameIndex) : section.last;
            var firstMetrics = this.__getFrameMetricsApprox(section.first, this.props);
            var lastMetrics = this.__getFrameMetricsApprox(last, this.props);
            var spacerSize = lastMetrics.offset + lastMetrics.length - firstMetrics.offset;
            cells.push((0, _jsxRuntime.jsx)(_reactNative.View, {
              style: (0, _defineProperty2.default)({}, spacerKey, spacerSize)
            }, `$spacer-${section.first}`));
          } else {
            this._pushCells(cells, stickyHeaderIndices, stickyIndicesFromProps, section.first, section.last, inversionStyle);
          }
        }
        if (!this._hasWarned.keys && _usedIndexForKey) {
          console.warn('VirtualizedList: missing keys for items, make sure to specify a key or id property on each ' + 'item or provide a custom keyExtractor.', _keylessItemComponentName);
          this._hasWarned.keys = true;
        }
      }
      if (ListFooterComponent) {
        var _element3 = React.isValidElement(ListFooterComponent) ? ListFooterComponent : (0, _jsxRuntime.jsx)(ListFooterComponent, {});
        cells.push((0, _jsxRuntime.jsx)(_VirtualizedListContext.VirtualizedListCellContextProvider, {
          cellKey: this._getFooterCellKey(),
          children: (0, _jsxRuntime.jsx)(_reactNative.View, {
            onLayout: this._onLayoutFooter,
            style: _reactNative.StyleSheet.compose(inversionStyle, this.props.ListFooterComponentStyle),
            children: _element3
          })
        }, "$footer"));
      }
      var scrollProps = Object.assign({}, this.props, {
        onContentSizeChange: this._onContentSizeChange,
        onLayout: this._onLayout,
        onScroll: this._onScroll,
        onScrollBeginDrag: this._onScrollBeginDrag,
        onScrollEndDrag: this._onScrollEndDrag,
        onMomentumScrollBegin: this._onMomentumScrollBegin,
        onMomentumScrollEnd: this._onMomentumScrollEnd,
        scrollEventThrottle: scrollEventThrottleOrDefault(this.props.scrollEventThrottle),
        invertStickyHeaders: this.props.invertStickyHeaders !== undefined ? this.props.invertStickyHeaders : this.props.inverted,
        stickyHeaderIndices: stickyHeaderIndices,
        style: inversionStyle ? [inversionStyle, this.props.style] : this.props.style,
        isInvertedVirtualizedList: this.props.inverted,
        maintainVisibleContentPosition: this.props.maintainVisibleContentPosition != null ? Object.assign({}, this.props.maintainVisibleContentPosition, {
          minIndexForVisible: this.props.maintainVisibleContentPosition.minIndexForVisible + (this.props.ListHeaderComponent ? 1 : 0)
        }) : undefined
      });
      this._hasMore = this.state.cellsAroundViewport.last < itemCount - 1;
      var innerRet = (0, _jsxRuntime.jsx)(_VirtualizedListContext.VirtualizedListContextProvider, {
        value: {
          cellKey: null,
          getScrollMetrics: this._getScrollMetrics,
          horizontal: horizontalOrDefault(this.props.horizontal),
          getOutermostParentListRef: this._getOutermostParentListRef,
          registerAsNestedChild: this._registerAsNestedChild,
          unregisterAsNestedChild: this._unregisterAsNestedChild
        },
        children: React.cloneElement((this.props.renderScrollComponent || this._defaultRenderScrollComponent)(scrollProps), {
          ref: this._captureScrollRef
        }, cells)
      });
      var ret = innerRet;
      if (__DEV__) {
        ret = (0, _jsxRuntime.jsx)(_reactNative.ScrollView.Context.Consumer, {
          children: function children(scrollContext) {
            if (scrollContext != null && !scrollContext.horizontal === !horizontalOrDefault(_this3.props.horizontal) && !_this3._hasWarned.nesting && _this3.context == null && _this3.props.scrollEnabled !== false) {
              console.error('VirtualizedLists should never be nested inside plain ScrollViews with the same ' + 'orientation because it can break windowing and other functionality - use another ' + 'VirtualizedList-backed container instead.');
              _this3._hasWarned.nesting = true;
            }
            return innerRet;
          }
        });
      }
      if (this.props.debug) {
        return (0, _jsxRuntime.jsxs)(_reactNative.View, {
          style: styles.debug,
          children: [ret, this._renderDebugOverlay()]
        });
      } else {
        return ret;
      }
    }
  }, {
    key: "componentDidUpdate",
    value: function componentDidUpdate(prevProps) {
      var _this$props7 = this.props,
        data = _this$props7.data,
        extraData = _this$props7.extraData;
      if (data !== prevProps.data || extraData !== prevProps.extraData) {
        this._viewabilityTuples.forEach(function (tuple) {
          tuple.viewabilityHelper.resetViewableIndices();
        });
      }
      var hiPriInProgress = this._hiPriInProgress;
      this._scheduleCellsToRenderUpdate();
      if (hiPriInProgress) {
        this._hiPriInProgress = false;
      }
    }
  }, {
    key: "_computeBlankness",
    value: function _computeBlankness() {
      this._fillRateHelper.computeBlankness(this.props, this.state.cellsAroundViewport, this._scrollMetrics);
    }
  }, {
    key: "_onCellFocusCapture",
    value: function _onCellFocusCapture(cellKey) {
      this._lastFocusedCellKey = cellKey;
      this._updateCellsToRender();
    }
  }, {
    key: "_triggerRemeasureForChildListsInCell",
    value: function _triggerRemeasureForChildListsInCell(cellKey) {
      this._nestedChildLists.forEachInCell(cellKey, function (childList) {
        childList.measureLayoutRelativeToContainingList();
      });
    }
  }, {
    key: "measureLayoutRelativeToContainingList",
    value: function measureLayoutRelativeToContainingList() {
      var _this4 = this;
      try {
        if (!this._scrollRef) {
          return;
        }
        this._scrollRef.measureLayout(this.context.getOutermostParentListRef().getScrollRef(), function (x, y, width, height) {
          _this4._offsetFromParentVirtualizedList = _this4._selectOffset({
            x: x,
            y: y
          });
          _this4._scrollMetrics.contentLength = _this4._selectLength({
            width: width,
            height: height
          });
          var scrollMetrics = _this4._convertParentScrollMetrics(_this4.context.getScrollMetrics());
          var metricsChanged = _this4._scrollMetrics.visibleLength !== scrollMetrics.visibleLength || _this4._scrollMetrics.offset !== scrollMetrics.offset;
          if (metricsChanged) {
            _this4._scrollMetrics.visibleLength = scrollMetrics.visibleLength;
            _this4._scrollMetrics.offset = scrollMetrics.offset;
            _this4._nestedChildLists.forEach(function (childList) {
              childList.measureLayoutRelativeToContainingList();
            });
          }
        }, function (error) {
          console.warn("VirtualizedList: Encountered an error while measuring a list's" + ' offset from its containing VirtualizedList.');
        });
      } catch (error) {
        console.warn('measureLayoutRelativeToContainingList threw an error', error.stack);
      }
    }
  }, {
    key: "_getFooterCellKey",
    value: function _getFooterCellKey() {
      return this._getCellKey() + '-footer';
    }
  }, {
    key: "_renderDebugOverlay",
    value: function _renderDebugOverlay() {
      var normalize = this._scrollMetrics.visibleLength / (this._scrollMetrics.contentLength || 1);
      var framesInLayout = [];
      var itemCount = this.props.getItemCount(this.props.data);
      for (var ii = 0; ii < itemCount; ii++) {
        var frame = this.__getFrameMetricsApprox(ii, this.props);
        if (frame.inLayout) {
          framesInLayout.push(frame);
        }
      }
      var windowTop = this.__getFrameMetricsApprox(this.state.cellsAroundViewport.first, this.props).offset;
      var frameLast = this.__getFrameMetricsApprox(this.state.cellsAroundViewport.last, this.props);
      var windowLen = frameLast.offset + frameLast.length - windowTop;
      var visTop = this._scrollMetrics.offset;
      var visLen = this._scrollMetrics.visibleLength;
      return (0, _jsxRuntime.jsxs)(_reactNative.View, {
        style: [styles.debugOverlayBase, styles.debugOverlay],
        children: [framesInLayout.map(function (f, ii) {
          return (0, _jsxRuntime.jsx)(_reactNative.View, {
            style: [styles.debugOverlayBase, styles.debugOverlayFrame, {
              top: f.offset * normalize,
              height: f.length * normalize
            }]
          }, 'f' + ii);
        }), (0, _jsxRuntime.jsx)(_reactNative.View, {
          style: [styles.debugOverlayBase, styles.debugOverlayFrameLast, {
            top: windowTop * normalize,
            height: windowLen * normalize
          }]
        }), (0, _jsxRuntime.jsx)(_reactNative.View, {
          style: [styles.debugOverlayBase, styles.debugOverlayFrameVis, {
            top: visTop * normalize,
            height: visLen * normalize
          }]
        })]
      });
    }
  }, {
    key: "_selectLength",
    value: function _selectLength(metrics) {
      return !horizontalOrDefault(this.props.horizontal) ? metrics.height : metrics.width;
    }
  }, {
    key: "_selectOffset",
    value: function _selectOffset(metrics) {
      return !horizontalOrDefault(this.props.horizontal) ? metrics.y : metrics.x;
    }
  }, {
    key: "_maybeCallOnEdgeReached",
    value: function _maybeCallOnEdgeReached() {
      var _this$props8 = this.props,
        data = _this$props8.data,
        getItemCount = _this$props8.getItemCount,
        onStartReached = _this$props8.onStartReached,
        onStartReachedThreshold = _this$props8.onStartReachedThreshold,
        onEndReached = _this$props8.onEndReached,
        onEndReachedThreshold = _this$props8.onEndReachedThreshold;
      if (this.state.pendingScrollUpdateCount > 0) {
        return;
      }
      var _this$_scrollMetrics2 = this._scrollMetrics,
        contentLength = _this$_scrollMetrics2.contentLength,
        visibleLength = _this$_scrollMetrics2.visibleLength,
        offset = _this$_scrollMetrics2.offset;
      var distanceFromStart = offset;
      var distanceFromEnd = contentLength - visibleLength - offset;
      if (distanceFromStart < ON_EDGE_REACHED_EPSILON) {
        distanceFromStart = 0;
      }
      if (distanceFromEnd < ON_EDGE_REACHED_EPSILON) {
        distanceFromEnd = 0;
      }
      var DEFAULT_THRESHOLD_PX = 2;
      var startThreshold = onStartReachedThreshold != null ? onStartReachedThreshold * visibleLength : DEFAULT_THRESHOLD_PX;
      var endThreshold = onEndReachedThreshold != null ? onEndReachedThreshold * visibleLength : DEFAULT_THRESHOLD_PX;
      var isWithinStartThreshold = distanceFromStart <= startThreshold;
      var isWithinEndThreshold = distanceFromEnd <= endThreshold;
      if (onEndReached && this.state.cellsAroundViewport.last === getItemCount(data) - 1 && isWithinEndThreshold && this._scrollMetrics.contentLength !== this._sentEndForContentLength) {
        this._sentEndForContentLength = this._scrollMetrics.contentLength;
        onEndReached({
          distanceFromEnd: distanceFromEnd
        });
      } else if (onStartReached != null && this.state.cellsAroundViewport.first === 0 && isWithinStartThreshold && this._scrollMetrics.contentLength !== this._sentStartForContentLength) {
        this._sentStartForContentLength = this._scrollMetrics.contentLength;
        onStartReached({
          distanceFromStart: distanceFromStart
        });
      } else {
        this._sentStartForContentLength = isWithinStartThreshold ? this._sentStartForContentLength : 0;
        this._sentEndForContentLength = isWithinEndThreshold ? this._sentEndForContentLength : 0;
      }
    }
  }, {
    key: "_scheduleCellsToRenderUpdate",
    value: function _scheduleCellsToRenderUpdate() {
      var _this$state$cellsArou = this.state.cellsAroundViewport,
        first = _this$state$cellsArou.first,
        last = _this$state$cellsArou.last;
      var _this$_scrollMetrics3 = this._scrollMetrics,
        offset = _this$_scrollMetrics3.offset,
        visibleLength = _this$_scrollMetrics3.visibleLength,
        velocity = _this$_scrollMetrics3.velocity;
      var itemCount = this.props.getItemCount(this.props.data);
      var hiPri = false;
      var onStartReachedThreshold = onStartReachedThresholdOrDefault(this.props.onStartReachedThreshold);
      var onEndReachedThreshold = onEndReachedThresholdOrDefault(this.props.onEndReachedThreshold);
      if (first > 0) {
        var distTop = offset - this.__getFrameMetricsApprox(first, this.props).offset;
        hiPri = distTop < 0 || velocity < -2 && distTop < getScrollingThreshold(onStartReachedThreshold, visibleLength);
      }
      if (!hiPri && last >= 0 && last < itemCount - 1) {
        var distBottom = this.__getFrameMetricsApprox(last, this.props).offset - (offset + visibleLength);
        hiPri = distBottom < 0 || velocity > 2 && distBottom < getScrollingThreshold(onEndReachedThreshold, visibleLength);
      }
      if (hiPri && (this._averageCellLength || this.props.getItemLayout) && !this._hiPriInProgress) {
        this._hiPriInProgress = true;
        this._updateCellsToRenderBatcher.dispose({
          abort: true
        });
        this._updateCellsToRender();
        return;
      } else {
        this._updateCellsToRenderBatcher.schedule();
      }
    }
  }, {
    key: "_updateViewableItems",
    value: function _updateViewableItems(props, cellsAroundViewport) {
      var _this5 = this;
      if (this.state.pendingScrollUpdateCount > 0) {
        return;
      }
      this._viewabilityTuples.forEach(function (tuple) {
        tuple.viewabilityHelper.onUpdate(props, _this5._scrollMetrics.offset, _this5._scrollMetrics.visibleLength, _this5._getFrameMetrics, _this5._createViewToken, tuple.onViewableItemsChanged, cellsAroundViewport);
      });
    }
  }], [{
    key: "_findItemIndexWithKey",
    value: function _findItemIndexWithKey(props, key, hint) {
      var itemCount = props.getItemCount(props.data);
      if (hint != null && hint >= 0 && hint < itemCount) {
        var curKey = VirtualizedList._getItemKey(props, hint);
        if (curKey === key) {
          return hint;
        }
      }
      for (var ii = 0; ii < itemCount; ii++) {
        var _curKey = VirtualizedList._getItemKey(props, ii);
        if (_curKey === key) {
          return ii;
        }
      }
      return null;
    }
  }, {
    key: "_getItemKey",
    value: function _getItemKey(props, index) {
      var item = props.getItem(props.data, index);
      return VirtualizedList._keyExtractor(item, index, props);
    }
  }, {
    key: "_createRenderMask",
    value: function _createRenderMask(props, cellsAroundViewport, additionalRegions) {
      var itemCount = props.getItemCount(props.data);
      (0, _invariant.default)(cellsAroundViewport.first >= 0 && cellsAroundViewport.last >= cellsAroundViewport.first - 1 && cellsAroundViewport.last < itemCount, `Invalid cells around viewport "[${cellsAroundViewport.first}, ${cellsAroundViewport.last}]" was passed to VirtualizedList._createRenderMask`);
      var renderMask = new _CellRenderMask.CellRenderMask(itemCount);
      if (itemCount > 0) {
        var allRegions = [cellsAroundViewport].concat((0, _toConsumableArray2.default)(additionalRegions != null ? additionalRegions : []));
        for (var region of allRegions) {
          renderMask.addCells(region);
        }
        if (props.initialScrollIndex == null || props.initialScrollIndex <= 0) {
          var initialRegion = VirtualizedList._initialRenderRegion(props);
          renderMask.addCells(initialRegion);
        }
        var stickyIndicesSet = new Set(props.stickyHeaderIndices);
        VirtualizedList._ensureClosestStickyHeader(props, stickyIndicesSet, renderMask, cellsAroundViewport.first);
      }
      return renderMask;
    }
  }, {
    key: "_initialRenderRegion",
    value: function _initialRenderRegion(props) {
      var _props$initialScrollI;
      var itemCount = props.getItemCount(props.data);
      var firstCellIndex = Math.max(0, Math.min(itemCount - 1, Math.floor((_props$initialScrollI = props.initialScrollIndex) != null ? _props$initialScrollI : 0)));
      var lastCellIndex = Math.min(itemCount, firstCellIndex + initialNumToRenderOrDefault(props.initialNumToRender)) - 1;
      return {
        first: firstCellIndex,
        last: lastCellIndex
      };
    }
  }, {
    key: "_ensureClosestStickyHeader",
    value: function _ensureClosestStickyHeader(props, stickyIndicesSet, renderMask, cellIdx) {
      var stickyOffset = props.ListHeaderComponent ? 1 : 0;
      for (var itemIdx = cellIdx - 1; itemIdx >= 0; itemIdx--) {
        if (stickyIndicesSet.has(itemIdx + stickyOffset)) {
          renderMask.addCells({
            first: itemIdx,
            last: itemIdx
          });
          break;
        }
      }
    }
  }, {
    key: "getDerivedStateFromProps",
    value: function getDerivedStateFromProps(newProps, prevState) {
      var _newProps$maintainVis, _newProps$maintainVis2;
      var itemCount = newProps.getItemCount(newProps.data);
      if (itemCount === prevState.renderMask.numCells()) {
        return prevState;
      }
      var maintainVisibleContentPositionAdjustment = null;
      var prevFirstVisibleItemKey = prevState.firstVisibleItemKey;
      var minIndexForVisible = (_newProps$maintainVis = (_newProps$maintainVis2 = newProps.maintainVisibleContentPosition) == null ? void 0 : _newProps$maintainVis2.minIndexForVisible) != null ? _newProps$maintainVis : 0;
      var newFirstVisibleItemKey = newProps.getItemCount(newProps.data) > minIndexForVisible ? VirtualizedList._getItemKey(newProps, minIndexForVisible) : null;
      if (newProps.maintainVisibleContentPosition != null && prevFirstVisibleItemKey != null && newFirstVisibleItemKey != null) {
        if (newFirstVisibleItemKey !== prevFirstVisibleItemKey) {
          var hint = itemCount - prevState.renderMask.numCells() + minIndexForVisible;
          var firstVisibleItemIndex = VirtualizedList._findItemIndexWithKey(newProps, prevFirstVisibleItemKey, hint);
          maintainVisibleContentPositionAdjustment = firstVisibleItemIndex != null ? firstVisibleItemIndex - minIndexForVisible : null;
        } else {
          maintainVisibleContentPositionAdjustment = null;
        }
      }
      var constrainedCells = VirtualizedList._constrainToItemCount(maintainVisibleContentPositionAdjustment != null ? {
        first: prevState.cellsAroundViewport.first + maintainVisibleContentPositionAdjustment,
        last: prevState.cellsAroundViewport.last + maintainVisibleContentPositionAdjustment
      } : prevState.cellsAroundViewport, newProps);
      return {
        cellsAroundViewport: constrainedCells,
        renderMask: VirtualizedList._createRenderMask(newProps, constrainedCells),
        firstVisibleItemKey: newFirstVisibleItemKey,
        pendingScrollUpdateCount: maintainVisibleContentPositionAdjustment != null ? prevState.pendingScrollUpdateCount + 1 : prevState.pendingScrollUpdateCount
      };
    }
  }, {
    key: "_constrainToItemCount",
    value: function _constrainToItemCount(cells, props) {
      var itemCount = props.getItemCount(props.data);
      var last = Math.min(itemCount - 1, cells.last);
      var maxToRenderPerBatch = maxToRenderPerBatchOrDefault(props.maxToRenderPerBatch);
      return {
        first: (0, _clamp.default)(0, itemCount - 1 - maxToRenderPerBatch, cells.first),
        last: last
      };
    }
  }, {
    key: "_keyExtractor",
    value: function _keyExtractor(item, index, props) {
      if (props.keyExtractor != null) {
        return props.keyExtractor(item, index);
      }
      var key = (0, _VirtualizeUtils.keyExtractor)(item, index);
      if (key === String(index)) {
        _usedIndexForKey = true;
        if (item.type && item.type.displayName) {
          _keylessItemComponentName = item.type.displayName;
        }
      }
      return key;
    }
  }]);
}(_StateSafePureComponent.default);
VirtualizedList.contextType = _VirtualizedListContext.VirtualizedListContext;
var styles = _reactNative.StyleSheet.create({
  verticallyInverted: _reactNative.Platform.OS === 'android' ? {
    transform: [{
      scale: -1
    }]
  } : {
    transform: [{
      scaleY: -1
    }]
  },
  horizontallyInverted: {
    transform: [{
      scaleX: -1
    }]
  },
  debug: {
    flex: 1
  },
  debugOverlayBase: {
    position: 'absolute',
    top: 0,
    right: 0
  },
  debugOverlay: {
    bottom: 0,
    width: 20,
    borderColor: 'blue',
    borderWidth: 1
  },
  debugOverlayFrame: {
    left: 0,
    backgroundColor: 'orange'
  },
  debugOverlayFrameLast: {
    left: 0,
    borderColor: 'green',
    borderWidth: 2
  },
  debugOverlayFrameVis: {
    left: 0,
    borderColor: 'red',
    borderWidth: 2
  }
});
module.exports = VirtualizedList;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmVhY3ROYXRpdmUiLCJyZXF1aXJlIiwiX0JhdGNoaW5hdG9yIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsIl9jbGFtcCIsIl9pbmZvTG9nIiwiX0NlbGxSZW5kZXJNYXNrIiwiX0NoaWxkTGlzdENvbGxlY3Rpb24iLCJfRmlsbFJhdGVIZWxwZXIiLCJfU3RhdGVTYWZlUHVyZUNvbXBvbmVudCIsIl9WaWV3YWJpbGl0eUhlbHBlciIsIl9WaXJ0dWFsaXplZExpc3RDZWxsUmVuZGVyZXIiLCJfVmlydHVhbGl6ZWRMaXN0Q29udGV4dCIsIl9WaXJ0dWFsaXplVXRpbHMiLCJfaW52YXJpYW50IiwiX251bGx0aHJvd3MiLCJSZWFjdCIsIl9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkIiwiX2pzeFJ1bnRpbWUiLCJlIiwidCIsIldlYWtNYXAiLCJyIiwibiIsIl9fZXNNb2R1bGUiLCJvIiwiaSIsImYiLCJfX3Byb3RvX18iLCJkZWZhdWx0IiwiaGFzIiwiZ2V0Iiwic2V0IiwiX3QiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsIl9jYWxsU3VwZXIiLCJfZ2V0UHJvdG90eXBlT2YyIiwiX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yIiwiX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCIsIlJlZmxlY3QiLCJjb25zdHJ1Y3QiLCJjb25zdHJ1Y3RvciIsImFwcGx5IiwiQm9vbGVhbiIsInByb3RvdHlwZSIsInZhbHVlT2YiLCJPTl9FREdFX1JFQUNIRURfRVBTSUxPTiIsIl91c2VkSW5kZXhGb3JLZXkiLCJfa2V5bGVzc0l0ZW1Db21wb25lbnROYW1lIiwiaG9yaXpvbnRhbE9yRGVmYXVsdCIsImhvcml6b250YWwiLCJpbml0aWFsTnVtVG9SZW5kZXJPckRlZmF1bHQiLCJpbml0aWFsTnVtVG9SZW5kZXIiLCJtYXhUb1JlbmRlclBlckJhdGNoT3JEZWZhdWx0IiwibWF4VG9SZW5kZXJQZXJCYXRjaCIsIm9uU3RhcnRSZWFjaGVkVGhyZXNob2xkT3JEZWZhdWx0Iiwib25TdGFydFJlYWNoZWRUaHJlc2hvbGQiLCJvbkVuZFJlYWNoZWRUaHJlc2hvbGRPckRlZmF1bHQiLCJvbkVuZFJlYWNoZWRUaHJlc2hvbGQiLCJnZXRTY3JvbGxpbmdUaHJlc2hvbGQiLCJ0aHJlc2hvbGQiLCJ2aXNpYmxlTGVuZ3RoIiwic2Nyb2xsRXZlbnRUaHJvdHRsZU9yRGVmYXVsdCIsInNjcm9sbEV2ZW50VGhyb3R0bGUiLCJ3aW5kb3dTaXplT3JEZWZhdWx0Iiwid2luZG93U2l6ZSIsImZpbmRMYXN0V2hlcmUiLCJhcnIiLCJwcmVkaWNhdGUiLCJsZW5ndGgiLCJWaXJ0dWFsaXplZExpc3QiLCJfU3RhdGVTYWZlUHVyZUNvbXBvbmUiLCJwcm9wcyIsIl90aGlzJHByb3BzJHVwZGF0ZUNlbCIsIl90aGlzJHByb3BzJG1haW50YWluViIsIl90aGlzJHByb3BzJG1haW50YWluVjIiLCJfdGhpcyIsIl9jbGFzc0NhbGxDaGVjazIiLCJfZ2V0U2Nyb2xsTWV0cmljcyIsIl9zY3JvbGxNZXRyaWNzIiwiX2dldE91dGVybW9zdFBhcmVudExpc3RSZWYiLCJfaXNOZXN0ZWRXaXRoU2FtZU9yaWVudGF0aW9uIiwiY29udGV4dCIsImdldE91dGVybW9zdFBhcmVudExpc3RSZWYiLCJfcmVnaXN0ZXJBc05lc3RlZENoaWxkIiwiY2hpbGRMaXN0IiwiX25lc3RlZENoaWxkTGlzdHMiLCJhZGQiLCJyZWYiLCJjZWxsS2V5IiwiX2hhc0ludGVyYWN0ZWQiLCJyZWNvcmRJbnRlcmFjdGlvbiIsIl91bnJlZ2lzdGVyQXNOZXN0ZWRDaGlsZCIsInJlbW92ZSIsIl9vblVwZGF0ZVNlcGFyYXRvcnMiLCJrZXlzIiwibmV3UHJvcHMiLCJmb3JFYWNoIiwia2V5IiwiX2NlbGxSZWZzIiwidXBkYXRlU2VwYXJhdG9yUHJvcHMiLCJfZ2V0U3BhY2VyS2V5IiwiaXNWZXJ0aWNhbCIsIl9hdmVyYWdlQ2VsbExlbmd0aCIsIl9mcmFtZXMiLCJfZm9vdGVyTGVuZ3RoIiwiX2hhc1RyaWdnZXJlZEluaXRpYWxTY3JvbGxUb0luZGV4IiwiX2hhc01vcmUiLCJfaGFzV2FybmVkIiwiX2hlYWRlckxlbmd0aCIsIl9oaVByaUluUHJvZ3Jlc3MiLCJfaGlnaGVzdE1lYXN1cmVkRnJhbWVJbmRleCIsIl9pbmRpY2VzVG9LZXlzIiwiTWFwIiwiX2xhc3RGb2N1c2VkQ2VsbEtleSIsIkNoaWxkTGlzdENvbGxlY3Rpb24iLCJfb2Zmc2V0RnJvbVBhcmVudFZpcnR1YWxpemVkTGlzdCIsIl9wcmV2UGFyZW50T2Zmc2V0IiwiY29udGVudExlbmd0aCIsImRPZmZzZXQiLCJkdCIsIm9mZnNldCIsInRpbWVzdGFtcCIsInZlbG9jaXR5Iiwiem9vbVNjYWxlIiwiX3Njcm9sbFJlZiIsIl9zZW50U3RhcnRGb3JDb250ZW50TGVuZ3RoIiwiX3NlbnRFbmRGb3JDb250ZW50TGVuZ3RoIiwiX3RvdGFsQ2VsbExlbmd0aCIsIl90b3RhbENlbGxzTWVhc3VyZWQiLCJfdmlld2FiaWxpdHlUdXBsZXMiLCJfY2FwdHVyZVNjcm9sbFJlZiIsIl9kZWZhdWx0UmVuZGVyU2Nyb2xsQ29tcG9uZW50Iiwib25SZWZyZXNoIiwianN4IiwiVmlldyIsImFzc2lnbiIsIl9wcm9wcyRyZWZyZXNoaW5nIiwiaW52YXJpYW50IiwicmVmcmVzaGluZyIsIkpTT04iLCJzdHJpbmdpZnkiLCJTY3JvbGxWaWV3IiwicmVmcmVzaENvbnRyb2wiLCJSZWZyZXNoQ29udHJvbCIsInByb2dyZXNzVmlld09mZnNldCIsIl9vbkNlbGxMYXlvdXQiLCJpbmRleCIsImxheW91dCIsIm5hdGl2ZUV2ZW50IiwibmV4dCIsIl9zZWxlY3RPZmZzZXQiLCJfc2VsZWN0TGVuZ3RoIiwiaW5MYXlvdXQiLCJjdXJyIiwiTWF0aCIsIm1heCIsIl9zY2hlZHVsZUNlbGxzVG9SZW5kZXJVcGRhdGUiLCJfdHJpZ2dlclJlbWVhc3VyZUZvckNoaWxkTGlzdHNJbkNlbGwiLCJfY29tcHV0ZUJsYW5rbmVzcyIsIl91cGRhdGVWaWV3YWJsZUl0ZW1zIiwic3RhdGUiLCJjZWxsc0Fyb3VuZFZpZXdwb3J0IiwiX29uQ2VsbFVubW91bnQiLCJfb25MYXlvdXQiLCJtZWFzdXJlTGF5b3V0UmVsYXRpdmVUb0NvbnRhaW5pbmdMaXN0Iiwib25MYXlvdXQiLCJfbWF5YmVDYWxsT25FZGdlUmVhY2hlZCIsIl9vbkxheW91dEVtcHR5IiwiX29uTGF5b3V0Rm9vdGVyIiwiX2dldEZvb3RlckNlbGxLZXkiLCJfb25MYXlvdXRIZWFkZXIiLCJfb25Db250ZW50U2l6ZUNoYW5nZSIsIndpZHRoIiwiaGVpZ2h0IiwiaW5pdGlhbFNjcm9sbEluZGV4IiwiY29udGVudE9mZnNldCIsImdldEl0ZW1Db3VudCIsImRhdGEiLCJzY3JvbGxUb0luZGV4IiwiYW5pbWF0ZWQiLCJudWxsdGhyb3dzIiwic2Nyb2xsVG9FbmQiLCJvbkNvbnRlbnRTaXplQ2hhbmdlIiwiX2NvbnZlcnRQYXJlbnRTY3JvbGxNZXRyaWNzIiwibWV0cmljcyIsIl9vblNjcm9sbCIsIm9uU2Nyb2xsIiwidGltZVN0YW1wIiwibGF5b3V0TWVhc3VyZW1lbnQiLCJjb250ZW50U2l6ZSIsIl90aGlzJF9jb252ZXJ0UGFyZW50UyIsInBlcmYiLCJpbmZvTG9nIiwicHJldkR0IiwicGVuZGluZ1Njcm9sbFVwZGF0ZUNvdW50Iiwic2V0U3RhdGUiLCJfZmlsbFJhdGVIZWxwZXIiLCJhY3RpdmF0ZSIsIl9vblNjcm9sbEJlZ2luRHJhZyIsInR1cGxlIiwidmlld2FiaWxpdHlIZWxwZXIiLCJvblNjcm9sbEJlZ2luRHJhZyIsIl9vblNjcm9sbEVuZERyYWciLCJvblNjcm9sbEVuZERyYWciLCJfb25Nb21lbnR1bVNjcm9sbEJlZ2luIiwib25Nb21lbnR1bVNjcm9sbEJlZ2luIiwiX29uTW9tZW50dW1TY3JvbGxFbmQiLCJvbk1vbWVudHVtU2Nyb2xsRW5kIiwiX3VwZGF0ZUNlbGxzVG9SZW5kZXIiLCJfYWRqdXN0Q2VsbHNBcm91bmRWaWV3cG9ydCIsInJlbmRlck1hc2siLCJfY3JlYXRlUmVuZGVyTWFzayIsIl9nZXROb25WaWV3cG9ydFJlbmRlclJlZ2lvbnMiLCJmaXJzdCIsImxhc3QiLCJlcXVhbHMiLCJfY3JlYXRlVmlld1Rva2VuIiwiaXNWaWV3YWJsZSIsImdldEl0ZW0iLCJpdGVtIiwiX2tleUV4dHJhY3RvciIsIl9nZXRPZmZzZXRBcHByb3giLCJOdW1iZXIiLCJpc0ludGVnZXIiLCJfX2dldEZyYW1lTWV0cmljc0FwcHJveCIsImZyYW1lTWV0cmljcyIsImZsb29yIiwicmVtYWluZGVyIiwiZnJhbWUiLCJfZ2V0RnJhbWVNZXRyaWNzIiwiZ2V0SXRlbUxheW91dCIsIl9nZXRJdGVtS2V5IiwibGFzdEZvY3VzZWRDZWxsUmVuZGVyZXIiLCJmb2N1c2VkQ2VsbEluZGV4IiwiaXRlbUNvdW50IiwiaGVpZ2h0T2ZDZWxsc0JlZm9yZUZvY3VzZWQiLCJoZWlnaHRPZkNlbGxzQWZ0ZXJGb2N1c2VkIiwiX2NoZWNrUHJvcHMiLCJGaWxsUmF0ZUhlbHBlciIsIl91cGRhdGVDZWxsc1RvUmVuZGVyQmF0Y2hlciIsIkJhdGNoaW5hdG9yIiwidXBkYXRlQ2VsbHNCYXRjaGluZ1BlcmlvZCIsInZpZXdhYmlsaXR5Q29uZmlnQ2FsbGJhY2tQYWlycyIsIm1hcCIsInBhaXIiLCJWaWV3YWJpbGl0eUhlbHBlciIsInZpZXdhYmlsaXR5Q29uZmlnIiwib25WaWV3YWJsZUl0ZW1zQ2hhbmdlZCIsIl90aGlzJHByb3BzIiwicHVzaCIsImluaXRpYWxSZW5kZXJSZWdpb24iLCJfaW5pdGlhbFJlbmRlclJlZ2lvbiIsIm1pbkluZGV4Rm9yVmlzaWJsZSIsIm1haW50YWluVmlzaWJsZUNvbnRlbnRQb3NpdGlvbiIsImZpcnN0VmlzaWJsZUl0ZW1LZXkiLCJfaW5oZXJpdHMyIiwiX2NyZWF0ZUNsYXNzMiIsInZhbHVlIiwicGFyYW1zIiwidmVyeUxhc3QiLCJzY3JvbGxUbyIsImNvbnNvbGUiLCJ3YXJuIiwieCIsInkiLCJfdGhpcyRwcm9wczIiLCJvblNjcm9sbFRvSW5kZXhGYWlsZWQiLCJ2aWV3T2Zmc2V0Iiwidmlld1Bvc2l0aW9uIiwiYXZlcmFnZUl0ZW1MZW5ndGgiLCJoaWdoZXN0TWVhc3VyZWRGcmFtZUluZGV4Iiwic2Nyb2xsVG9JdGVtIiwiX3RoaXMkcHJvcHMzIiwic2Nyb2xsVG9PZmZzZXQiLCJmbGFzaFNjcm9sbEluZGljYXRvcnMiLCJnZXRTY3JvbGxSZXNwb25kZXIiLCJnZXRTY3JvbGxhYmxlTm9kZSIsImZpbmROb2RlSGFuZGxlIiwiZ2V0U2Nyb2xsUmVmIiwic2V0TmF0aXZlUHJvcHMiLCJfZ2V0Q2VsbEtleSIsIl90aGlzJGNvbnRleHQiLCJoYXNNb3JlIiwiX19pc05hdGl2ZSIsIl9fREVWX18iLCJmbGV4V3JhcCIsImZsYXRTdHlsZXMiLCJTdHlsZVNoZWV0IiwiZmxhdHRlbiIsImNvbnRlbnRDb250YWluZXJTdHlsZSIsIl90aGlzJF9zY3JvbGxNZXRyaWNzIiwiZGlzdGFuY2VGcm9tRW5kIiwiX2NvbnN0cmFpblRvSXRlbUNvdW50IiwibmV3Q2VsbHNBcm91bmRWaWV3cG9ydCIsImRpc2FibGVWaXJ0dWFsaXphdGlvbiIsInJlbmRlckFoZWFkIiwibWluIiwiY29tcHV0ZVdpbmRvd2VkUmVuZGVyTGltaXRzIiwic2l6ZSIsImNoaWxkSWR4IiwiX2ZpbmRGaXJzdENoaWxkV2l0aE1vcmUiLCJpaSIsImNlbGxLZXlGb3JJbmRleCIsImFueUluQ2VsbCIsImNvbXBvbmVudERpZE1vdW50IiwicmVnaXN0ZXJBc05lc3RlZENoaWxkIiwiY29tcG9uZW50V2lsbFVubW91bnQiLCJ1bnJlZ2lzdGVyQXNOZXN0ZWRDaGlsZCIsImRpc3Bvc2UiLCJhYm9ydCIsImRlYWN0aXZhdGVBbmRGbHVzaCIsIl9wdXNoQ2VsbHMiLCJjZWxscyIsInN0aWNreUhlYWRlckluZGljZXMiLCJzdGlja3lJbmRpY2VzRnJvbVByb3BzIiwiaW52ZXJzaW9uU3R5bGUiLCJfdGhpczIiLCJfdGhpcyRwcm9wczQiLCJDZWxsUmVuZGVyZXJDb21wb25lbnQiLCJJdGVtU2VwYXJhdG9yQ29tcG9uZW50IiwiTGlzdEhlYWRlckNvbXBvbmVudCIsIkxpc3RJdGVtQ29tcG9uZW50IiwiZGVidWciLCJyZW5kZXJJdGVtIiwic3RpY2t5T2Zmc2V0IiwiZW5kIiwicHJldkNlbGxLZXkiLCJfbG9vcCIsInNob3VsZExpc3RlbkZvckxheW91dCIsImVuYWJsZWQiLCJ1bmRlZmluZWQiLCJvblVwZGF0ZVNlcGFyYXRvcnMiLCJvbkNlbGxGb2N1c0NhcHR1cmUiLCJfb25DZWxsRm9jdXNDYXB0dXJlIiwib25Vbm1vdW50Iiwib25DZWxsTGF5b3V0IiwibmVzdGVkQ29udGV4dCIsInJlbmRlciIsIl90aGlzMyIsIl90aGlzJHByb3BzNSIsIkxpc3RFbXB0eUNvbXBvbmVudCIsIkxpc3RGb290ZXJDb21wb25lbnQiLCJfdGhpcyRwcm9wczYiLCJpbnZlcnRlZCIsInN0eWxlcyIsImhvcml6b250YWxseUludmVydGVkIiwidmVydGljYWxseUludmVydGVkIiwiU2V0IiwiZWxlbWVudCIsImlzVmFsaWRFbGVtZW50IiwiVmlydHVhbGl6ZWRMaXN0Q2VsbENvbnRleHRQcm92aWRlciIsImNoaWxkcmVuIiwiY29sbGFwc2FibGUiLCJzdHlsZSIsImNvbXBvc2UiLCJMaXN0SGVhZGVyQ29tcG9uZW50U3R5bGUiLCJjbG9uZUVsZW1lbnQiLCJldmVudCIsInNwYWNlcktleSIsInJlbmRlclJlZ2lvbnMiLCJlbnVtZXJhdGVSZWdpb25zIiwibGFzdFNwYWNlciIsImlzU3BhY2VyIiwic2VjdGlvbiIsImlzTGFzdFNwYWNlciIsImNvbnN0cmFpblRvTWVhc3VyZWQiLCJjbGFtcCIsImZpcnN0TWV0cmljcyIsImxhc3RNZXRyaWNzIiwic3BhY2VyU2l6ZSIsIl9kZWZpbmVQcm9wZXJ0eTIiLCJMaXN0Rm9vdGVyQ29tcG9uZW50U3R5bGUiLCJzY3JvbGxQcm9wcyIsImludmVydFN0aWNreUhlYWRlcnMiLCJpc0ludmVydGVkVmlydHVhbGl6ZWRMaXN0IiwiaW5uZXJSZXQiLCJWaXJ0dWFsaXplZExpc3RDb250ZXh0UHJvdmlkZXIiLCJnZXRTY3JvbGxNZXRyaWNzIiwicmVuZGVyU2Nyb2xsQ29tcG9uZW50IiwicmV0IiwiQ29udGV4dCIsIkNvbnN1bWVyIiwic2Nyb2xsQ29udGV4dCIsIm5lc3RpbmciLCJzY3JvbGxFbmFibGVkIiwiZXJyb3IiLCJqc3hzIiwiX3JlbmRlckRlYnVnT3ZlcmxheSIsImNvbXBvbmVudERpZFVwZGF0ZSIsInByZXZQcm9wcyIsIl90aGlzJHByb3BzNyIsImV4dHJhRGF0YSIsInJlc2V0Vmlld2FibGVJbmRpY2VzIiwiaGlQcmlJblByb2dyZXNzIiwiY29tcHV0ZUJsYW5rbmVzcyIsImZvckVhY2hJbkNlbGwiLCJfdGhpczQiLCJtZWFzdXJlTGF5b3V0Iiwic2Nyb2xsTWV0cmljcyIsIm1ldHJpY3NDaGFuZ2VkIiwic3RhY2siLCJub3JtYWxpemUiLCJmcmFtZXNJbkxheW91dCIsIndpbmRvd1RvcCIsImZyYW1lTGFzdCIsIndpbmRvd0xlbiIsInZpc1RvcCIsInZpc0xlbiIsImRlYnVnT3ZlcmxheUJhc2UiLCJkZWJ1Z092ZXJsYXkiLCJkZWJ1Z092ZXJsYXlGcmFtZSIsInRvcCIsImRlYnVnT3ZlcmxheUZyYW1lTGFzdCIsImRlYnVnT3ZlcmxheUZyYW1lVmlzIiwiX3RoaXMkcHJvcHM4Iiwib25TdGFydFJlYWNoZWQiLCJvbkVuZFJlYWNoZWQiLCJfdGhpcyRfc2Nyb2xsTWV0cmljczIiLCJkaXN0YW5jZUZyb21TdGFydCIsIkRFRkFVTFRfVEhSRVNIT0xEX1BYIiwic3RhcnRUaHJlc2hvbGQiLCJlbmRUaHJlc2hvbGQiLCJpc1dpdGhpblN0YXJ0VGhyZXNob2xkIiwiaXNXaXRoaW5FbmRUaHJlc2hvbGQiLCJfdGhpcyRzdGF0ZSRjZWxsc0Fyb3UiLCJfdGhpcyRfc2Nyb2xsTWV0cmljczMiLCJoaVByaSIsImRpc3RUb3AiLCJkaXN0Qm90dG9tIiwic2NoZWR1bGUiLCJfdGhpczUiLCJvblVwZGF0ZSIsIl9maW5kSXRlbUluZGV4V2l0aEtleSIsImhpbnQiLCJjdXJLZXkiLCJhZGRpdGlvbmFsUmVnaW9ucyIsIkNlbGxSZW5kZXJNYXNrIiwiYWxsUmVnaW9ucyIsImNvbmNhdCIsIl90b0NvbnN1bWFibGVBcnJheTIiLCJyZWdpb24iLCJhZGRDZWxscyIsImluaXRpYWxSZWdpb24iLCJzdGlja3lJbmRpY2VzU2V0IiwiX2Vuc3VyZUNsb3Nlc3RTdGlja3lIZWFkZXIiLCJfcHJvcHMkaW5pdGlhbFNjcm9sbEkiLCJmaXJzdENlbGxJbmRleCIsImxhc3RDZWxsSW5kZXgiLCJjZWxsSWR4IiwiaXRlbUlkeCIsImdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyIsInByZXZTdGF0ZSIsIl9uZXdQcm9wcyRtYWludGFpblZpcyIsIl9uZXdQcm9wcyRtYWludGFpblZpczIiLCJudW1DZWxscyIsIm1haW50YWluVmlzaWJsZUNvbnRlbnRQb3NpdGlvbkFkanVzdG1lbnQiLCJwcmV2Rmlyc3RWaXNpYmxlSXRlbUtleSIsIm5ld0ZpcnN0VmlzaWJsZUl0ZW1LZXkiLCJmaXJzdFZpc2libGVJdGVtSW5kZXgiLCJjb25zdHJhaW5lZENlbGxzIiwia2V5RXh0cmFjdG9yIiwiZGVmYXVsdEtleUV4dHJhY3RvciIsIlN0cmluZyIsInR5cGUiLCJkaXNwbGF5TmFtZSIsIlN0YXRlU2FmZVB1cmVDb21wb25lbnQiLCJjb250ZXh0VHlwZSIsIlZpcnR1YWxpemVkTGlzdENvbnRleHQiLCJjcmVhdGUiLCJQbGF0Zm9ybSIsIk9TIiwidHJhbnNmb3JtIiwic2NhbGUiLCJzY2FsZVkiLCJzY2FsZVgiLCJmbGV4IiwicG9zaXRpb24iLCJyaWdodCIsImJvdHRvbSIsImJvcmRlckNvbG9yIiwiYm9yZGVyV2lkdGgiLCJsZWZ0IiwiYmFja2dyb3VuZENvbG9yIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VzIjpbIlZpcnR1YWxpemVkTGlzdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENvcHlyaWdodCAoYykgTWV0YSBQbGF0Zm9ybXMsIEluYy4gYW5kIGFmZmlsaWF0ZXMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKlxuICogQGZsb3dcbiAqIEBmb3JtYXRcbiAqL1xuXG5pbXBvcnQgdHlwZSB7U2Nyb2xsUmVzcG9uZGVyVHlwZX0gZnJvbSAncmVhY3QtbmF0aXZlL0xpYnJhcmllcy9Db21wb25lbnRzL1Njcm9sbFZpZXcvU2Nyb2xsVmlldyc7XG5pbXBvcnQgdHlwZSB7Vmlld1N0eWxlUHJvcH0gZnJvbSAncmVhY3QtbmF0aXZlL0xpYnJhcmllcy9TdHlsZVNoZWV0L1N0eWxlU2hlZXQnO1xuaW1wb3J0IHR5cGUge1xuICBMYXlvdXRFdmVudCxcbiAgU2Nyb2xsRXZlbnQsXG59IGZyb20gJ3JlYWN0LW5hdGl2ZS9MaWJyYXJpZXMvVHlwZXMvQ29yZUV2ZW50VHlwZXMnO1xuaW1wb3J0IHR5cGUge1ZpZXdUb2tlbn0gZnJvbSAnLi9WaWV3YWJpbGl0eUhlbHBlcic7XG5pbXBvcnQgdHlwZSB7XG4gIEZyYW1lTWV0cmljUHJvcHMsXG4gIEl0ZW0sXG4gIFByb3BzLFxuICBSZW5kZXJJdGVtUHJvcHMsXG4gIFJlbmRlckl0ZW1UeXBlLFxuICBTZXBhcmF0b3JzLFxufSBmcm9tICcuL1ZpcnR1YWxpemVkTGlzdFByb3BzJztcblxuaW1wb3J0IHtcbiAgUGxhdGZvcm0sXG4gIFJlZnJlc2hDb250cm9sLFxuICBTY3JvbGxWaWV3LFxuICBWaWV3LFxuICBTdHlsZVNoZWV0LFxuICBmaW5kTm9kZUhhbmRsZSxcbn0gZnJvbSAncmVhY3QtbmF0aXZlJztcbmltcG9ydCBCYXRjaGluYXRvciBmcm9tICcuLi9JbnRlcmFjdGlvbi9CYXRjaGluYXRvcic7XG5pbXBvcnQgY2xhbXAgZnJvbSAnLi4vVXRpbGl0aWVzL2NsYW1wJztcbmltcG9ydCBpbmZvTG9nIGZyb20gJy4uL1V0aWxpdGllcy9pbmZvTG9nJztcbmltcG9ydCB7Q2VsbFJlbmRlck1hc2t9IGZyb20gJy4vQ2VsbFJlbmRlck1hc2snO1xuaW1wb3J0IENoaWxkTGlzdENvbGxlY3Rpb24gZnJvbSAnLi9DaGlsZExpc3RDb2xsZWN0aW9uJztcbmltcG9ydCBGaWxsUmF0ZUhlbHBlciBmcm9tICcuL0ZpbGxSYXRlSGVscGVyJztcbmltcG9ydCBTdGF0ZVNhZmVQdXJlQ29tcG9uZW50IGZyb20gJy4vU3RhdGVTYWZlUHVyZUNvbXBvbmVudCc7XG5pbXBvcnQgVmlld2FiaWxpdHlIZWxwZXIgZnJvbSAnLi9WaWV3YWJpbGl0eUhlbHBlcic7XG5pbXBvcnQgQ2VsbFJlbmRlcmVyIGZyb20gJy4vVmlydHVhbGl6ZWRMaXN0Q2VsbFJlbmRlcmVyJztcbmltcG9ydCB7XG4gIFZpcnR1YWxpemVkTGlzdENlbGxDb250ZXh0UHJvdmlkZXIsXG4gIFZpcnR1YWxpemVkTGlzdENvbnRleHQsXG4gIFZpcnR1YWxpemVkTGlzdENvbnRleHRQcm92aWRlcixcbn0gZnJvbSAnLi9WaXJ0dWFsaXplZExpc3RDb250ZXh0LmpzJztcbmltcG9ydCB7XG4gIGNvbXB1dGVXaW5kb3dlZFJlbmRlckxpbWl0cyxcbiAga2V5RXh0cmFjdG9yIGFzIGRlZmF1bHRLZXlFeHRyYWN0b3IsXG59IGZyb20gJy4vVmlydHVhbGl6ZVV0aWxzJztcbmltcG9ydCBpbnZhcmlhbnQgZnJvbSAnaW52YXJpYW50JztcbmltcG9ydCBudWxsdGhyb3dzIGZyb20gJ251bGx0aHJvd3MnO1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5leHBvcnQgdHlwZSB7UmVuZGVySXRlbVByb3BzLCBSZW5kZXJJdGVtVHlwZSwgU2VwYXJhdG9yc307XG5cbmNvbnN0IE9OX0VER0VfUkVBQ0hFRF9FUFNJTE9OID0gMC4wMDE7XG5cbmxldCBfdXNlZEluZGV4Rm9yS2V5ID0gZmFsc2U7XG5sZXQgX2tleWxlc3NJdGVtQ29tcG9uZW50TmFtZTogc3RyaW5nID0gJyc7XG5cbnR5cGUgVmlld2FiaWxpdHlIZWxwZXJDYWxsYmFja1R1cGxlID0ge1xuICB2aWV3YWJpbGl0eUhlbHBlcjogVmlld2FiaWxpdHlIZWxwZXIsXG4gIG9uVmlld2FibGVJdGVtc0NoYW5nZWQ6IChpbmZvOiB7XG4gICAgdmlld2FibGVJdGVtczogQXJyYXk8Vmlld1Rva2VuPixcbiAgICBjaGFuZ2VkOiBBcnJheTxWaWV3VG9rZW4+LFxuICAgIC4uLlxuICB9KSA9PiB2b2lkLFxuICAuLi5cbn07XG5cbnR5cGUgU3RhdGUgPSB7XG4gIHJlbmRlck1hc2s6IENlbGxSZW5kZXJNYXNrLFxuICBjZWxsc0Fyb3VuZFZpZXdwb3J0OiB7Zmlyc3Q6IG51bWJlciwgbGFzdDogbnVtYmVyfSxcbiAgLy8gVXNlZCB0byB0cmFjayBpdGVtcyBhZGRlZCBhdCB0aGUgc3RhcnQgb2YgdGhlIGxpc3QgZm9yIG1haW50YWluVmlzaWJsZUNvbnRlbnRQb3NpdGlvbi5cbiAgZmlyc3RWaXNpYmxlSXRlbUtleTogP3N0cmluZyxcbiAgLy8gV2hlbiA+IDAgdGhlIHNjcm9sbCBwb3NpdGlvbiBhdmFpbGFibGUgaW4gSlMgaXMgY29uc2lkZXJlZCBzdGFsZSBhbmQgc2hvdWxkIG5vdCBiZSB1c2VkLlxuICBwZW5kaW5nU2Nyb2xsVXBkYXRlQ291bnQ6IG51bWJlcixcbn07XG5cbi8qKlxuICogRGVmYXVsdCBQcm9wcyBIZWxwZXIgRnVuY3Rpb25zXG4gKiBVc2UgdGhlIGZvbGxvd2luZyBoZWxwZXIgZnVuY3Rpb25zIGZvciBkZWZhdWx0IHZhbHVlc1xuICovXG5cbi8vIGhvcml6b250YWxPckRlZmF1bHQodGhpcy5wcm9wcy5ob3Jpem9udGFsKVxuZnVuY3Rpb24gaG9yaXpvbnRhbE9yRGVmYXVsdChob3Jpem9udGFsOiA/Ym9vbGVhbikge1xuICByZXR1cm4gaG9yaXpvbnRhbCA/PyBmYWxzZTtcbn1cblxuLy8gaW5pdGlhbE51bVRvUmVuZGVyT3JEZWZhdWx0KHRoaXMucHJvcHMuaW5pdGlhbE51bVRvUmVuZGVyKVxuZnVuY3Rpb24gaW5pdGlhbE51bVRvUmVuZGVyT3JEZWZhdWx0KGluaXRpYWxOdW1Ub1JlbmRlcjogP251bWJlcikge1xuICByZXR1cm4gaW5pdGlhbE51bVRvUmVuZGVyID8/IDEwO1xufVxuXG4vLyBtYXhUb1JlbmRlclBlckJhdGNoT3JEZWZhdWx0KHRoaXMucHJvcHMubWF4VG9SZW5kZXJQZXJCYXRjaClcbmZ1bmN0aW9uIG1heFRvUmVuZGVyUGVyQmF0Y2hPckRlZmF1bHQobWF4VG9SZW5kZXJQZXJCYXRjaDogP251bWJlcikge1xuICByZXR1cm4gbWF4VG9SZW5kZXJQZXJCYXRjaCA/PyAxMDtcbn1cblxuLy8gb25TdGFydFJlYWNoZWRUaHJlc2hvbGRPckRlZmF1bHQodGhpcy5wcm9wcy5vblN0YXJ0UmVhY2hlZFRocmVzaG9sZClcbmZ1bmN0aW9uIG9uU3RhcnRSZWFjaGVkVGhyZXNob2xkT3JEZWZhdWx0KG9uU3RhcnRSZWFjaGVkVGhyZXNob2xkOiA/bnVtYmVyKSB7XG4gIHJldHVybiBvblN0YXJ0UmVhY2hlZFRocmVzaG9sZCA/PyAyO1xufVxuXG4vLyBvbkVuZFJlYWNoZWRUaHJlc2hvbGRPckRlZmF1bHQodGhpcy5wcm9wcy5vbkVuZFJlYWNoZWRUaHJlc2hvbGQpXG5mdW5jdGlvbiBvbkVuZFJlYWNoZWRUaHJlc2hvbGRPckRlZmF1bHQob25FbmRSZWFjaGVkVGhyZXNob2xkOiA/bnVtYmVyKSB7XG4gIHJldHVybiBvbkVuZFJlYWNoZWRUaHJlc2hvbGQgPz8gMjtcbn1cblxuLy8gZ2V0U2Nyb2xsaW5nVGhyZXNob2xkKHZpc2libGVMZW5ndGgsIG9uRW5kUmVhY2hlZFRocmVzaG9sZClcbmZ1bmN0aW9uIGdldFNjcm9sbGluZ1RocmVzaG9sZCh0aHJlc2hvbGQ6IG51bWJlciwgdmlzaWJsZUxlbmd0aDogbnVtYmVyKSB7XG4gIHJldHVybiAodGhyZXNob2xkICogdmlzaWJsZUxlbmd0aCkgLyAyO1xufVxuXG4vLyBzY3JvbGxFdmVudFRocm90dGxlT3JEZWZhdWx0KHRoaXMucHJvcHMuc2Nyb2xsRXZlbnRUaHJvdHRsZSlcbmZ1bmN0aW9uIHNjcm9sbEV2ZW50VGhyb3R0bGVPckRlZmF1bHQoc2Nyb2xsRXZlbnRUaHJvdHRsZTogP251bWJlcikge1xuICByZXR1cm4gc2Nyb2xsRXZlbnRUaHJvdHRsZSA/PyA1MDtcbn1cblxuLy8gd2luZG93U2l6ZU9yRGVmYXVsdCh0aGlzLnByb3BzLndpbmRvd1NpemUpXG5mdW5jdGlvbiB3aW5kb3dTaXplT3JEZWZhdWx0KHdpbmRvd1NpemU6ID9udW1iZXIpIHtcbiAgcmV0dXJuIHdpbmRvd1NpemUgPz8gMjE7XG59XG5cbmZ1bmN0aW9uIGZpbmRMYXN0V2hlcmU8VD4oXG4gIGFycjogJFJlYWRPbmx5QXJyYXk8VD4sXG4gIHByZWRpY2F0ZTogKGVsZW1lbnQ6IFQpID0+IGJvb2xlYW4sXG4pOiBUIHwgbnVsbCB7XG4gIGZvciAobGV0IGkgPSBhcnIubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICBpZiAocHJlZGljYXRlKGFycltpXSkpIHtcbiAgICAgIHJldHVybiBhcnJbaV07XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG51bGw7XG59XG5cbi8qKlxuICogQmFzZSBpbXBsZW1lbnRhdGlvbiBmb3IgdGhlIG1vcmUgY29udmVuaWVudCBbYDxGbGF0TGlzdD5gXShodHRwczovL3JlYWN0bmF0aXZlLmRldi9kb2NzL2ZsYXRsaXN0KVxuICogYW5kIFtgPFNlY3Rpb25MaXN0PmBdKGh0dHBzOi8vcmVhY3RuYXRpdmUuZGV2L2RvY3Mvc2VjdGlvbmxpc3QpIGNvbXBvbmVudHMsIHdoaWNoIGFyZSBhbHNvIGJldHRlclxuICogZG9jdW1lbnRlZC4gSW4gZ2VuZXJhbCwgdGhpcyBzaG91bGQgb25seSByZWFsbHkgYmUgdXNlZCBpZiB5b3UgbmVlZCBtb3JlIGZsZXhpYmlsaXR5IHRoYW5cbiAqIGBGbGF0TGlzdGAgcHJvdmlkZXMsIGUuZy4gZm9yIHVzZSB3aXRoIGltbXV0YWJsZSBkYXRhIGluc3RlYWQgb2YgcGxhaW4gYXJyYXlzLlxuICpcbiAqIFZpcnR1YWxpemF0aW9uIG1hc3NpdmVseSBpbXByb3ZlcyBtZW1vcnkgY29uc3VtcHRpb24gYW5kIHBlcmZvcm1hbmNlIG9mIGxhcmdlIGxpc3RzIGJ5XG4gKiBtYWludGFpbmluZyBhIGZpbml0ZSByZW5kZXIgd2luZG93IG9mIGFjdGl2ZSBpdGVtcyBhbmQgcmVwbGFjaW5nIGFsbCBpdGVtcyBvdXRzaWRlIG9mIHRoZSByZW5kZXJcbiAqIHdpbmRvdyB3aXRoIGFwcHJvcHJpYXRlbHkgc2l6ZWQgYmxhbmsgc3BhY2UuIFRoZSB3aW5kb3cgYWRhcHRzIHRvIHNjcm9sbGluZyBiZWhhdmlvciwgYW5kIGl0ZW1zXG4gKiBhcmUgcmVuZGVyZWQgaW5jcmVtZW50YWxseSB3aXRoIGxvdy1wcmkgKGFmdGVyIGFueSBydW5uaW5nIGludGVyYWN0aW9ucykgaWYgdGhleSBhcmUgZmFyIGZyb20gdGhlXG4gKiB2aXNpYmxlIGFyZWEsIG9yIHdpdGggaGktcHJpIG90aGVyd2lzZSB0byBtaW5pbWl6ZSB0aGUgcG90ZW50aWFsIG9mIHNlZWluZyBibGFuayBzcGFjZS5cbiAqXG4gKiBTb21lIGNhdmVhdHM6XG4gKlxuICogLSBJbnRlcm5hbCBzdGF0ZSBpcyBub3QgcHJlc2VydmVkIHdoZW4gY29udGVudCBzY3JvbGxzIG91dCBvZiB0aGUgcmVuZGVyIHdpbmRvdy4gTWFrZSBzdXJlIGFsbFxuICogICB5b3VyIGRhdGEgaXMgY2FwdHVyZWQgaW4gdGhlIGl0ZW0gZGF0YSBvciBleHRlcm5hbCBzdG9yZXMgbGlrZSBGbHV4LCBSZWR1eCwgb3IgUmVsYXkuXG4gKiAtIFRoaXMgaXMgYSBgUHVyZUNvbXBvbmVudGAgd2hpY2ggbWVhbnMgdGhhdCBpdCB3aWxsIG5vdCByZS1yZW5kZXIgaWYgYHByb3BzYCByZW1haW4gc2hhbGxvdy1cbiAqICAgZXF1YWwuIE1ha2Ugc3VyZSB0aGF0IGV2ZXJ5dGhpbmcgeW91ciBgcmVuZGVySXRlbWAgZnVuY3Rpb24gZGVwZW5kcyBvbiBpcyBwYXNzZWQgYXMgYSBwcm9wXG4gKiAgIChlLmcuIGBleHRyYURhdGFgKSB0aGF0IGlzIG5vdCBgPT09YCBhZnRlciB1cGRhdGVzLCBvdGhlcndpc2UgeW91ciBVSSBtYXkgbm90IHVwZGF0ZSBvblxuICogICBjaGFuZ2VzLiBUaGlzIGluY2x1ZGVzIHRoZSBgZGF0YWAgcHJvcCBhbmQgcGFyZW50IGNvbXBvbmVudCBzdGF0ZS5cbiAqIC0gSW4gb3JkZXIgdG8gY29uc3RyYWluIG1lbW9yeSBhbmQgZW5hYmxlIHNtb290aCBzY3JvbGxpbmcsIGNvbnRlbnQgaXMgcmVuZGVyZWQgYXN5bmNocm9ub3VzbHlcbiAqICAgb2Zmc2NyZWVuLiBUaGlzIG1lYW5zIGl0J3MgcG9zc2libGUgdG8gc2Nyb2xsIGZhc3RlciB0aGFuIHRoZSBmaWxsIHJhdGUgYW5kcyBtb21lbnRhcmlseSBzZWVcbiAqICAgYmxhbmsgY29udGVudC4gVGhpcyBpcyBhIHRyYWRlb2ZmIHRoYXQgY2FuIGJlIGFkanVzdGVkIHRvIHN1aXQgdGhlIG5lZWRzIG9mIGVhY2ggYXBwbGljYXRpb24sXG4gKiAgIGFuZCB3ZSBhcmUgd29ya2luZyBvbiBpbXByb3ZpbmcgaXQgYmVoaW5kIHRoZSBzY2VuZXMuXG4gKiAtIEJ5IGRlZmF1bHQsIHRoZSBsaXN0IGxvb2tzIGZvciBhIGBrZXlgIG9yIGBpZGAgcHJvcCBvbiBlYWNoIGl0ZW0gYW5kIHVzZXMgdGhhdCBmb3IgdGhlIFJlYWN0IGtleS5cbiAqICAgQWx0ZXJuYXRpdmVseSwgeW91IGNhbiBwcm92aWRlIGEgY3VzdG9tIGBrZXlFeHRyYWN0b3JgIHByb3AuXG4gKiAtIEFzIGFuIGVmZm9ydCB0byByZW1vdmUgZGVmYXVsdFByb3BzLCB1c2UgaGVscGVyIGZ1bmN0aW9ucyB3aGVuIHJlZmVyZW5jaW5nIGNlcnRhaW4gcHJvcHNcbiAqXG4gKi9cbmNsYXNzIFZpcnR1YWxpemVkTGlzdCBleHRlbmRzIFN0YXRlU2FmZVB1cmVDb21wb25lbnQ8UHJvcHMsIFN0YXRlPiB7XG4gIHN0YXRpYyBjb250ZXh0VHlwZTogdHlwZW9mIFZpcnR1YWxpemVkTGlzdENvbnRleHQgPSBWaXJ0dWFsaXplZExpc3RDb250ZXh0O1xuXG4gIC8vIHNjcm9sbFRvRW5kIG1heSBiZSBqYW5reSB3aXRob3V0IGdldEl0ZW1MYXlvdXQgcHJvcFxuICBzY3JvbGxUb0VuZChwYXJhbXM/OiA/e2FuaW1hdGVkPzogP2Jvb2xlYW4sIC4uLn0pIHtcbiAgICBjb25zdCBhbmltYXRlZCA9IHBhcmFtcyA/IHBhcmFtcy5hbmltYXRlZCA6IHRydWU7XG4gICAgY29uc3QgdmVyeUxhc3QgPSB0aGlzLnByb3BzLmdldEl0ZW1Db3VudCh0aGlzLnByb3BzLmRhdGEpIC0gMTtcbiAgICBpZiAodmVyeUxhc3QgPCAwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGZyYW1lID0gdGhpcy5fX2dldEZyYW1lTWV0cmljc0FwcHJveCh2ZXJ5TGFzdCwgdGhpcy5wcm9wcyk7XG4gICAgY29uc3Qgb2Zmc2V0ID0gTWF0aC5tYXgoXG4gICAgICAwLFxuICAgICAgZnJhbWUub2Zmc2V0ICtcbiAgICAgICAgZnJhbWUubGVuZ3RoICtcbiAgICAgICAgdGhpcy5fZm9vdGVyTGVuZ3RoIC1cbiAgICAgICAgdGhpcy5fc2Nyb2xsTWV0cmljcy52aXNpYmxlTGVuZ3RoLFxuICAgICk7XG5cbiAgICBpZiAodGhpcy5fc2Nyb2xsUmVmID09IG51bGwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5fc2Nyb2xsUmVmLnNjcm9sbFRvID09IG51bGwpIHtcbiAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgJ05vIHNjcm9sbFRvIG1ldGhvZCBwcm92aWRlZC4gVGhpcyBtYXkgYmUgYmVjYXVzZSB5b3UgaGF2ZSB0d28gbmVzdGVkICcgK1xuICAgICAgICAgICdWaXJ0dWFsaXplZExpc3RzIHdpdGggdGhlIHNhbWUgb3JpZW50YXRpb24sIG9yIGJlY2F1c2UgeW91IGFyZSAnICtcbiAgICAgICAgICAndXNpbmcgYSBjdXN0b20gY29tcG9uZW50IHRoYXQgZG9lcyBub3QgaW1wbGVtZW50IHNjcm9sbFRvLicsXG4gICAgICApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuX3Njcm9sbFJlZi5zY3JvbGxUbyhcbiAgICAgIGhvcml6b250YWxPckRlZmF1bHQodGhpcy5wcm9wcy5ob3Jpem9udGFsKVxuICAgICAgICA/IHt4OiBvZmZzZXQsIGFuaW1hdGVkfVxuICAgICAgICA6IHt5OiBvZmZzZXQsIGFuaW1hdGVkfSxcbiAgICApO1xuICB9XG5cbiAgLy8gc2Nyb2xsVG9JbmRleCBtYXkgYmUgamFua3kgd2l0aG91dCBnZXRJdGVtTGF5b3V0IHByb3BcbiAgc2Nyb2xsVG9JbmRleChwYXJhbXM6IHtcbiAgICBhbmltYXRlZD86ID9ib29sZWFuLFxuICAgIGluZGV4OiBudW1iZXIsXG4gICAgdmlld09mZnNldD86IG51bWJlcixcbiAgICB2aWV3UG9zaXRpb24/OiBudW1iZXIsXG4gICAgLi4uXG4gIH0pOiAkRmxvd0ZpeE1lIHtcbiAgICBjb25zdCB7XG4gICAgICBkYXRhLFxuICAgICAgaG9yaXpvbnRhbCxcbiAgICAgIGdldEl0ZW1Db3VudCxcbiAgICAgIGdldEl0ZW1MYXlvdXQsXG4gICAgICBvblNjcm9sbFRvSW5kZXhGYWlsZWQsXG4gICAgfSA9IHRoaXMucHJvcHM7XG4gICAgY29uc3Qge2FuaW1hdGVkLCBpbmRleCwgdmlld09mZnNldCwgdmlld1Bvc2l0aW9ufSA9IHBhcmFtcztcbiAgICBpbnZhcmlhbnQoXG4gICAgICBpbmRleCA+PSAwLFxuICAgICAgYHNjcm9sbFRvSW5kZXggb3V0IG9mIHJhbmdlOiByZXF1ZXN0ZWQgaW5kZXggJHtpbmRleH0gYnV0IG1pbmltdW0gaXMgMGAsXG4gICAgKTtcbiAgICBpbnZhcmlhbnQoXG4gICAgICBnZXRJdGVtQ291bnQoZGF0YSkgPj0gMSxcbiAgICAgIGBzY3JvbGxUb0luZGV4IG91dCBvZiByYW5nZTogaXRlbSBsZW5ndGggJHtnZXRJdGVtQ291bnQoXG4gICAgICAgIGRhdGEsXG4gICAgICApfSBidXQgbWluaW11bSBpcyAxYCxcbiAgICApO1xuICAgIGludmFyaWFudChcbiAgICAgIGluZGV4IDwgZ2V0SXRlbUNvdW50KGRhdGEpLFxuICAgICAgYHNjcm9sbFRvSW5kZXggb3V0IG9mIHJhbmdlOiByZXF1ZXN0ZWQgaW5kZXggJHtpbmRleH0gaXMgb3V0IG9mIDAgdG8gJHtcbiAgICAgICAgZ2V0SXRlbUNvdW50KGRhdGEpIC0gMVxuICAgICAgfWAsXG4gICAgKTtcbiAgICBpZiAoIWdldEl0ZW1MYXlvdXQgJiYgaW5kZXggPiB0aGlzLl9oaWdoZXN0TWVhc3VyZWRGcmFtZUluZGV4KSB7XG4gICAgICBpbnZhcmlhbnQoXG4gICAgICAgICEhb25TY3JvbGxUb0luZGV4RmFpbGVkLFxuICAgICAgICAnc2Nyb2xsVG9JbmRleCBzaG91bGQgYmUgdXNlZCBpbiBjb25qdW5jdGlvbiB3aXRoIGdldEl0ZW1MYXlvdXQgb3Igb25TY3JvbGxUb0luZGV4RmFpbGVkLCAnICtcbiAgICAgICAgICAnb3RoZXJ3aXNlIHRoZXJlIGlzIG5vIHdheSB0byBrbm93IHRoZSBsb2NhdGlvbiBvZiBvZmZzY3JlZW4gaW5kaWNlcyBvciBoYW5kbGUgZmFpbHVyZXMuJyxcbiAgICAgICk7XG4gICAgICBvblNjcm9sbFRvSW5kZXhGYWlsZWQoe1xuICAgICAgICBhdmVyYWdlSXRlbUxlbmd0aDogdGhpcy5fYXZlcmFnZUNlbGxMZW5ndGgsXG4gICAgICAgIGhpZ2hlc3RNZWFzdXJlZEZyYW1lSW5kZXg6IHRoaXMuX2hpZ2hlc3RNZWFzdXJlZEZyYW1lSW5kZXgsXG4gICAgICAgIGluZGV4LFxuICAgICAgfSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGZyYW1lID0gdGhpcy5fX2dldEZyYW1lTWV0cmljc0FwcHJveChNYXRoLmZsb29yKGluZGV4KSwgdGhpcy5wcm9wcyk7XG4gICAgY29uc3Qgb2Zmc2V0ID1cbiAgICAgIE1hdGgubWF4KFxuICAgICAgICAwLFxuICAgICAgICB0aGlzLl9nZXRPZmZzZXRBcHByb3goaW5kZXgsIHRoaXMucHJvcHMpIC1cbiAgICAgICAgICAodmlld1Bvc2l0aW9uIHx8IDApICpcbiAgICAgICAgICAgICh0aGlzLl9zY3JvbGxNZXRyaWNzLnZpc2libGVMZW5ndGggLSBmcmFtZS5sZW5ndGgpLFxuICAgICAgKSAtICh2aWV3T2Zmc2V0IHx8IDApO1xuXG4gICAgaWYgKHRoaXMuX3Njcm9sbFJlZiA9PSBudWxsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX3Njcm9sbFJlZi5zY3JvbGxUbyA9PSBudWxsKSB7XG4gICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICdObyBzY3JvbGxUbyBtZXRob2QgcHJvdmlkZWQuIFRoaXMgbWF5IGJlIGJlY2F1c2UgeW91IGhhdmUgdHdvIG5lc3RlZCAnICtcbiAgICAgICAgICAnVmlydHVhbGl6ZWRMaXN0cyB3aXRoIHRoZSBzYW1lIG9yaWVudGF0aW9uLCBvciBiZWNhdXNlIHlvdSBhcmUgJyArXG4gICAgICAgICAgJ3VzaW5nIGEgY3VzdG9tIGNvbXBvbmVudCB0aGF0IGRvZXMgbm90IGltcGxlbWVudCBzY3JvbGxUby4nLFxuICAgICAgKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLl9zY3JvbGxSZWYuc2Nyb2xsVG8oXG4gICAgICBob3Jpem9udGFsID8ge3g6IG9mZnNldCwgYW5pbWF0ZWR9IDoge3k6IG9mZnNldCwgYW5pbWF0ZWR9LFxuICAgICk7XG4gIH1cblxuICAvLyBzY3JvbGxUb0l0ZW0gbWF5IGJlIGphbmt5IHdpdGhvdXQgZ2V0SXRlbUxheW91dCBwcm9wLiBSZXF1aXJlZCBsaW5lYXIgc2NhbiB0aHJvdWdoIGl0ZW1zIC1cbiAgLy8gdXNlIHNjcm9sbFRvSW5kZXggaW5zdGVhZCBpZiBwb3NzaWJsZS5cbiAgc2Nyb2xsVG9JdGVtKHBhcmFtczoge1xuICAgIGFuaW1hdGVkPzogP2Jvb2xlYW4sXG4gICAgaXRlbTogSXRlbSxcbiAgICB2aWV3T2Zmc2V0PzogbnVtYmVyLFxuICAgIHZpZXdQb3NpdGlvbj86IG51bWJlcixcbiAgICAuLi5cbiAgfSkge1xuICAgIGNvbnN0IHtpdGVtfSA9IHBhcmFtcztcbiAgICBjb25zdCB7ZGF0YSwgZ2V0SXRlbSwgZ2V0SXRlbUNvdW50fSA9IHRoaXMucHJvcHM7XG4gICAgY29uc3QgaXRlbUNvdW50ID0gZ2V0SXRlbUNvdW50KGRhdGEpO1xuICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBpdGVtQ291bnQ7IGluZGV4KyspIHtcbiAgICAgIGlmIChnZXRJdGVtKGRhdGEsIGluZGV4KSA9PT0gaXRlbSkge1xuICAgICAgICB0aGlzLnNjcm9sbFRvSW5kZXgoey4uLnBhcmFtcywgaW5kZXh9KTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFNjcm9sbCB0byBhIHNwZWNpZmljIGNvbnRlbnQgcGl4ZWwgb2Zmc2V0IGluIHRoZSBsaXN0LlxuICAgKlxuICAgKiBQYXJhbSBgb2Zmc2V0YCBleHBlY3RzIHRoZSBvZmZzZXQgdG8gc2Nyb2xsIHRvLlxuICAgKiBJbiBjYXNlIG9mIGBob3Jpem9udGFsYCBpcyB0cnVlLCB0aGUgb2Zmc2V0IGlzIHRoZSB4LXZhbHVlLFxuICAgKiBpbiBhbnkgb3RoZXIgY2FzZSB0aGUgb2Zmc2V0IGlzIHRoZSB5LXZhbHVlLlxuICAgKlxuICAgKiBQYXJhbSBgYW5pbWF0ZWRgIChgdHJ1ZWAgYnkgZGVmYXVsdCkgZGVmaW5lcyB3aGV0aGVyIHRoZSBsaXN0XG4gICAqIHNob3VsZCBkbyBhbiBhbmltYXRpb24gd2hpbGUgc2Nyb2xsaW5nLlxuICAgKi9cbiAgc2Nyb2xsVG9PZmZzZXQocGFyYW1zOiB7YW5pbWF0ZWQ/OiA/Ym9vbGVhbiwgb2Zmc2V0OiBudW1iZXIsIC4uLn0pIHtcbiAgICBjb25zdCB7YW5pbWF0ZWQsIG9mZnNldH0gPSBwYXJhbXM7XG5cbiAgICBpZiAodGhpcy5fc2Nyb2xsUmVmID09IG51bGwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5fc2Nyb2xsUmVmLnNjcm9sbFRvID09IG51bGwpIHtcbiAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgJ05vIHNjcm9sbFRvIG1ldGhvZCBwcm92aWRlZC4gVGhpcyBtYXkgYmUgYmVjYXVzZSB5b3UgaGF2ZSB0d28gbmVzdGVkICcgK1xuICAgICAgICAgICdWaXJ0dWFsaXplZExpc3RzIHdpdGggdGhlIHNhbWUgb3JpZW50YXRpb24sIG9yIGJlY2F1c2UgeW91IGFyZSAnICtcbiAgICAgICAgICAndXNpbmcgYSBjdXN0b20gY29tcG9uZW50IHRoYXQgZG9lcyBub3QgaW1wbGVtZW50IHNjcm9sbFRvLicsXG4gICAgICApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuX3Njcm9sbFJlZi5zY3JvbGxUbyhcbiAgICAgIGhvcml6b250YWxPckRlZmF1bHQodGhpcy5wcm9wcy5ob3Jpem9udGFsKVxuICAgICAgICA/IHt4OiBvZmZzZXQsIGFuaW1hdGVkfVxuICAgICAgICA6IHt5OiBvZmZzZXQsIGFuaW1hdGVkfSxcbiAgICApO1xuICB9XG5cbiAgcmVjb3JkSW50ZXJhY3Rpb24oKSB7XG4gICAgdGhpcy5fbmVzdGVkQ2hpbGRMaXN0cy5mb3JFYWNoKGNoaWxkTGlzdCA9PiB7XG4gICAgICBjaGlsZExpc3QucmVjb3JkSW50ZXJhY3Rpb24oKTtcbiAgICB9KTtcbiAgICB0aGlzLl92aWV3YWJpbGl0eVR1cGxlcy5mb3JFYWNoKHQgPT4ge1xuICAgICAgdC52aWV3YWJpbGl0eUhlbHBlci5yZWNvcmRJbnRlcmFjdGlvbigpO1xuICAgIH0pO1xuICAgIHRoaXMuX3VwZGF0ZVZpZXdhYmxlSXRlbXModGhpcy5wcm9wcywgdGhpcy5zdGF0ZS5jZWxsc0Fyb3VuZFZpZXdwb3J0KTtcbiAgfVxuXG4gIGZsYXNoU2Nyb2xsSW5kaWNhdG9ycygpIHtcbiAgICBpZiAodGhpcy5fc2Nyb2xsUmVmID09IG51bGwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLl9zY3JvbGxSZWYuZmxhc2hTY3JvbGxJbmRpY2F0b3JzKCk7XG4gIH1cblxuICAvKipcbiAgICogUHJvdmlkZXMgYSBoYW5kbGUgdG8gdGhlIHVuZGVybHlpbmcgc2Nyb2xsIHJlc3BvbmRlci5cbiAgICogTm90ZSB0aGF0IGB0aGlzLl9zY3JvbGxSZWZgIG1pZ2h0IG5vdCBiZSBhIGBTY3JvbGxWaWV3YCwgc28gd2VcbiAgICogbmVlZCB0byBjaGVjayB0aGF0IGl0IHJlc3BvbmRzIHRvIGBnZXRTY3JvbGxSZXNwb25kZXJgIGJlZm9yZSBjYWxsaW5nIGl0LlxuICAgKi9cbiAgZ2V0U2Nyb2xsUmVzcG9uZGVyKCk6ID9TY3JvbGxSZXNwb25kZXJUeXBlIHtcbiAgICBpZiAodGhpcy5fc2Nyb2xsUmVmICYmIHRoaXMuX3Njcm9sbFJlZi5nZXRTY3JvbGxSZXNwb25kZXIpIHtcbiAgICAgIHJldHVybiB0aGlzLl9zY3JvbGxSZWYuZ2V0U2Nyb2xsUmVzcG9uZGVyKCk7XG4gICAgfVxuICB9XG5cbiAgZ2V0U2Nyb2xsYWJsZU5vZGUoKTogP251bWJlciB7XG4gICAgaWYgKHRoaXMuX3Njcm9sbFJlZiAmJiB0aGlzLl9zY3JvbGxSZWYuZ2V0U2Nyb2xsYWJsZU5vZGUpIHtcbiAgICAgIHJldHVybiB0aGlzLl9zY3JvbGxSZWYuZ2V0U2Nyb2xsYWJsZU5vZGUoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZpbmROb2RlSGFuZGxlKHRoaXMuX3Njcm9sbFJlZik7XG4gICAgfVxuICB9XG5cbiAgZ2V0U2Nyb2xsUmVmKCk6XG4gICAgfCA/UmVhY3QuRWxlbWVudFJlZjx0eXBlb2YgU2Nyb2xsVmlldz5cbiAgICB8ID9SZWFjdC5FbGVtZW50UmVmPHR5cGVvZiBWaWV3PiB7XG4gICAgaWYgKHRoaXMuX3Njcm9sbFJlZiAmJiB0aGlzLl9zY3JvbGxSZWYuZ2V0U2Nyb2xsUmVmKSB7XG4gICAgICByZXR1cm4gdGhpcy5fc2Nyb2xsUmVmLmdldFNjcm9sbFJlZigpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdGhpcy5fc2Nyb2xsUmVmO1xuICAgIH1cbiAgfVxuXG4gIHNldE5hdGl2ZVByb3BzKHByb3BzOiBPYmplY3QpIHtcbiAgICBpZiAodGhpcy5fc2Nyb2xsUmVmKSB7XG4gICAgICB0aGlzLl9zY3JvbGxSZWYuc2V0TmF0aXZlUHJvcHMocHJvcHMpO1xuICAgIH1cbiAgfVxuXG4gIF9nZXRDZWxsS2V5KCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuY29udGV4dD8uY2VsbEtleSB8fCAncm9vdExpc3QnO1xuICB9XG5cbiAgLy8gJEZsb3dGaXhNZVttaXNzaW5nLWxvY2FsLWFubm90XVxuICBfZ2V0U2Nyb2xsTWV0cmljcyA9ICgpID0+IHtcbiAgICByZXR1cm4gdGhpcy5fc2Nyb2xsTWV0cmljcztcbiAgfTtcblxuICBoYXNNb3JlKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLl9oYXNNb3JlO1xuICB9XG5cbiAgLy8gJEZsb3dGaXhNZVttaXNzaW5nLWxvY2FsLWFubm90XVxuICBfZ2V0T3V0ZXJtb3N0UGFyZW50TGlzdFJlZiA9ICgpID0+IHtcbiAgICBpZiAodGhpcy5faXNOZXN0ZWRXaXRoU2FtZU9yaWVudGF0aW9uKCkpIHtcbiAgICAgIHJldHVybiB0aGlzLmNvbnRleHQuZ2V0T3V0ZXJtb3N0UGFyZW50TGlzdFJlZigpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gIH07XG5cbiAgX3JlZ2lzdGVyQXNOZXN0ZWRDaGlsZCA9IChjaGlsZExpc3Q6IHtcbiAgICBjZWxsS2V5OiBzdHJpbmcsXG4gICAgcmVmOiBSZWFjdC5FbGVtZW50UmVmPHR5cGVvZiBWaXJ0dWFsaXplZExpc3Q+LFxuICB9KTogdm9pZCA9PiB7XG4gICAgdGhpcy5fbmVzdGVkQ2hpbGRMaXN0cy5hZGQoY2hpbGRMaXN0LnJlZiwgY2hpbGRMaXN0LmNlbGxLZXkpO1xuICAgIGlmICh0aGlzLl9oYXNJbnRlcmFjdGVkKSB7XG4gICAgICBjaGlsZExpc3QucmVmLnJlY29yZEludGVyYWN0aW9uKCk7XG4gICAgfVxuICB9O1xuXG4gIF91bnJlZ2lzdGVyQXNOZXN0ZWRDaGlsZCA9IChjaGlsZExpc3Q6IHtcbiAgICByZWY6IFJlYWN0LkVsZW1lbnRSZWY8dHlwZW9mIFZpcnR1YWxpemVkTGlzdD4sXG4gIH0pOiB2b2lkID0+IHtcbiAgICB0aGlzLl9uZXN0ZWRDaGlsZExpc3RzLnJlbW92ZShjaGlsZExpc3QucmVmKTtcbiAgfTtcblxuICBzdGF0ZTogU3RhdGU7XG5cbiAgY29uc3RydWN0b3IocHJvcHM6IFByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICAgIHRoaXMuX2NoZWNrUHJvcHMocHJvcHMpO1xuXG4gICAgdGhpcy5fZmlsbFJhdGVIZWxwZXIgPSBuZXcgRmlsbFJhdGVIZWxwZXIodGhpcy5fZ2V0RnJhbWVNZXRyaWNzKTtcbiAgICB0aGlzLl91cGRhdGVDZWxsc1RvUmVuZGVyQmF0Y2hlciA9IG5ldyBCYXRjaGluYXRvcihcbiAgICAgIHRoaXMuX3VwZGF0ZUNlbGxzVG9SZW5kZXIsXG4gICAgICB0aGlzLnByb3BzLnVwZGF0ZUNlbGxzQmF0Y2hpbmdQZXJpb2QgPz8gNTAsXG4gICAgKTtcblxuICAgIGlmICh0aGlzLnByb3BzLnZpZXdhYmlsaXR5Q29uZmlnQ2FsbGJhY2tQYWlycykge1xuICAgICAgdGhpcy5fdmlld2FiaWxpdHlUdXBsZXMgPSB0aGlzLnByb3BzLnZpZXdhYmlsaXR5Q29uZmlnQ2FsbGJhY2tQYWlycy5tYXAoXG4gICAgICAgIHBhaXIgPT4gKHtcbiAgICAgICAgICB2aWV3YWJpbGl0eUhlbHBlcjogbmV3IFZpZXdhYmlsaXR5SGVscGVyKHBhaXIudmlld2FiaWxpdHlDb25maWcpLFxuICAgICAgICAgIG9uVmlld2FibGVJdGVtc0NoYW5nZWQ6IHBhaXIub25WaWV3YWJsZUl0ZW1zQ2hhbmdlZCxcbiAgICAgICAgfSksXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCB7b25WaWV3YWJsZUl0ZW1zQ2hhbmdlZCwgdmlld2FiaWxpdHlDb25maWd9ID0gdGhpcy5wcm9wcztcbiAgICAgIGlmIChvblZpZXdhYmxlSXRlbXNDaGFuZ2VkKSB7XG4gICAgICAgIHRoaXMuX3ZpZXdhYmlsaXR5VHVwbGVzLnB1c2goe1xuICAgICAgICAgIHZpZXdhYmlsaXR5SGVscGVyOiBuZXcgVmlld2FiaWxpdHlIZWxwZXIodmlld2FiaWxpdHlDb25maWcpLFxuICAgICAgICAgIG9uVmlld2FibGVJdGVtc0NoYW5nZWQ6IG9uVmlld2FibGVJdGVtc0NoYW5nZWQsXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IGluaXRpYWxSZW5kZXJSZWdpb24gPSBWaXJ0dWFsaXplZExpc3QuX2luaXRpYWxSZW5kZXJSZWdpb24ocHJvcHMpO1xuXG4gICAgY29uc3QgbWluSW5kZXhGb3JWaXNpYmxlID1cbiAgICAgIHRoaXMucHJvcHMubWFpbnRhaW5WaXNpYmxlQ29udGVudFBvc2l0aW9uPy5taW5JbmRleEZvclZpc2libGUgPz8gMDtcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBjZWxsc0Fyb3VuZFZpZXdwb3J0OiBpbml0aWFsUmVuZGVyUmVnaW9uLFxuICAgICAgcmVuZGVyTWFzazogVmlydHVhbGl6ZWRMaXN0Ll9jcmVhdGVSZW5kZXJNYXNrKHByb3BzLCBpbml0aWFsUmVuZGVyUmVnaW9uKSxcbiAgICAgIGZpcnN0VmlzaWJsZUl0ZW1LZXk6XG4gICAgICAgIHRoaXMucHJvcHMuZ2V0SXRlbUNvdW50KHRoaXMucHJvcHMuZGF0YSkgPiBtaW5JbmRleEZvclZpc2libGVcbiAgICAgICAgICA/IFZpcnR1YWxpemVkTGlzdC5fZ2V0SXRlbUtleSh0aGlzLnByb3BzLCBtaW5JbmRleEZvclZpc2libGUpXG4gICAgICAgICAgOiBudWxsLFxuICAgICAgLy8gV2hlbiB3ZSBoYXZlIGEgbm9uLXplcm8gaW5pdGlhbFNjcm9sbEluZGV4LCB3ZSB3aWxsIHJlY2VpdmUgYVxuICAgICAgLy8gc2Nyb2xsIGV2ZW50IGxhdGVyIHNvIHRoaXMgd2lsbCBwcmV2ZW50IHRoZSB3aW5kb3cgZnJvbSB1cGRhdGluZ1xuICAgICAgLy8gdW50aWwgd2UgZ2V0IGEgdmFsaWQgb2Zmc2V0LlxuICAgICAgcGVuZGluZ1Njcm9sbFVwZGF0ZUNvdW50OlxuICAgICAgICB0aGlzLnByb3BzLmluaXRpYWxTY3JvbGxJbmRleCAhPSBudWxsICYmXG4gICAgICAgIHRoaXMucHJvcHMuaW5pdGlhbFNjcm9sbEluZGV4ID4gMFxuICAgICAgICAgID8gMVxuICAgICAgICAgIDogMCxcbiAgICB9O1xuICB9XG5cbiAgX2NoZWNrUHJvcHMocHJvcHM6IFByb3BzKSB7XG4gICAgY29uc3Qge29uU2Nyb2xsLCB3aW5kb3dTaXplLCBnZXRJdGVtQ291bnQsIGRhdGEsIGluaXRpYWxTY3JvbGxJbmRleH0gPVxuICAgICAgcHJvcHM7XG5cbiAgICBpbnZhcmlhbnQoXG4gICAgICAvLyAkRmxvd0ZpeE1lW3Byb3AtbWlzc2luZ11cbiAgICAgICFvblNjcm9sbCB8fCAhb25TY3JvbGwuX19pc05hdGl2ZSxcbiAgICAgICdDb21wb25lbnRzIGJhc2VkIG9uIFZpcnR1YWxpemVkTGlzdCBtdXN0IGJlIHdyYXBwZWQgd2l0aCBBbmltYXRlZC5jcmVhdGVBbmltYXRlZENvbXBvbmVudCAnICtcbiAgICAgICAgJ3RvIHN1cHBvcnQgbmF0aXZlIG9uU2Nyb2xsIGV2ZW50cyB3aXRoIHVzZU5hdGl2ZURyaXZlcicsXG4gICAgKTtcbiAgICBpbnZhcmlhbnQoXG4gICAgICB3aW5kb3dTaXplT3JEZWZhdWx0KHdpbmRvd1NpemUpID4gMCxcbiAgICAgICdWaXJ0dWFsaXplZExpc3Q6IFRoZSB3aW5kb3dTaXplIHByb3AgbXVzdCBiZSBwcmVzZW50IGFuZCBzZXQgdG8gYSB2YWx1ZSBncmVhdGVyIHRoYW4gMC4nLFxuICAgICk7XG5cbiAgICBpbnZhcmlhbnQoXG4gICAgICBnZXRJdGVtQ291bnQsXG4gICAgICAnVmlydHVhbGl6ZWRMaXN0OiBUaGUgXCJnZXRJdGVtQ291bnRcIiBwcm9wIG11c3QgYmUgcHJvdmlkZWQnLFxuICAgICk7XG5cbiAgICBjb25zdCBpdGVtQ291bnQgPSBnZXRJdGVtQ291bnQoZGF0YSk7XG5cbiAgICBpZiAoXG4gICAgICBpbml0aWFsU2Nyb2xsSW5kZXggIT0gbnVsbCAmJlxuICAgICAgIXRoaXMuX2hhc1RyaWdnZXJlZEluaXRpYWxTY3JvbGxUb0luZGV4ICYmXG4gICAgICAoaW5pdGlhbFNjcm9sbEluZGV4IDwgMCB8fFxuICAgICAgICAoaXRlbUNvdW50ID4gMCAmJiBpbml0aWFsU2Nyb2xsSW5kZXggPj0gaXRlbUNvdW50KSkgJiZcbiAgICAgICF0aGlzLl9oYXNXYXJuZWQuaW5pdGlhbFNjcm9sbEluZGV4XG4gICAgKSB7XG4gICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgIGBpbml0aWFsU2Nyb2xsSW5kZXggXCIke2luaXRpYWxTY3JvbGxJbmRleH1cIiBpcyBub3QgdmFsaWQgKGxpc3QgaGFzICR7aXRlbUNvdW50fSBpdGVtcylgLFxuICAgICAgKTtcbiAgICAgIHRoaXMuX2hhc1dhcm5lZC5pbml0aWFsU2Nyb2xsSW5kZXggPSB0cnVlO1xuICAgIH1cblxuICAgIGlmIChfX0RFVl9fICYmICF0aGlzLl9oYXNXYXJuZWQuZmxleFdyYXApIHtcbiAgICAgIC8vICRGbG93Rml4TWVbdW5kZXJjb25zdHJhaW5lZC1pbXBsaWNpdC1pbnN0YW50aWF0aW9uXVxuICAgICAgY29uc3QgZmxhdFN0eWxlcyA9IFN0eWxlU2hlZXQuZmxhdHRlbih0aGlzLnByb3BzLmNvbnRlbnRDb250YWluZXJTdHlsZSk7XG4gICAgICBpZiAoZmxhdFN0eWxlcyAhPSBudWxsICYmIGZsYXRTdHlsZXMuZmxleFdyYXAgPT09ICd3cmFwJykge1xuICAgICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICAgJ2BmbGV4V3JhcDogYHdyYXBgYCBpcyBub3Qgc3VwcG9ydGVkIHdpdGggdGhlIGBWaXJ0dWFsaXplZExpc3RgIGNvbXBvbmVudHMuJyArXG4gICAgICAgICAgICAnQ29uc2lkZXIgdXNpbmcgYG51bUNvbHVtbnNgIHdpdGggYEZsYXRMaXN0YCBpbnN0ZWFkLicsXG4gICAgICAgICk7XG4gICAgICAgIHRoaXMuX2hhc1dhcm5lZC5mbGV4V3JhcCA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgc3RhdGljIF9maW5kSXRlbUluZGV4V2l0aEtleShcbiAgICBwcm9wczogUHJvcHMsXG4gICAga2V5OiBzdHJpbmcsXG4gICAgaGludDogP251bWJlcixcbiAgKTogP251bWJlciB7XG4gICAgY29uc3QgaXRlbUNvdW50ID0gcHJvcHMuZ2V0SXRlbUNvdW50KHByb3BzLmRhdGEpO1xuICAgIGlmIChoaW50ICE9IG51bGwgJiYgaGludCA+PSAwICYmIGhpbnQgPCBpdGVtQ291bnQpIHtcbiAgICAgIGNvbnN0IGN1cktleSA9IFZpcnR1YWxpemVkTGlzdC5fZ2V0SXRlbUtleShwcm9wcywgaGludCk7XG4gICAgICBpZiAoY3VyS2V5ID09PSBrZXkpIHtcbiAgICAgICAgcmV0dXJuIGhpbnQ7XG4gICAgICB9XG4gICAgfVxuICAgIGZvciAobGV0IGlpID0gMDsgaWkgPCBpdGVtQ291bnQ7IGlpKyspIHtcbiAgICAgIGNvbnN0IGN1cktleSA9IFZpcnR1YWxpemVkTGlzdC5fZ2V0SXRlbUtleShwcm9wcywgaWkpO1xuICAgICAgaWYgKGN1cktleSA9PT0ga2V5KSB7XG4gICAgICAgIHJldHVybiBpaTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBzdGF0aWMgX2dldEl0ZW1LZXkoXG4gICAgcHJvcHM6IHtcbiAgICAgIGRhdGE6IFByb3BzWydkYXRhJ10sXG4gICAgICBnZXRJdGVtOiBQcm9wc1snZ2V0SXRlbSddLFxuICAgICAga2V5RXh0cmFjdG9yOiBQcm9wc1sna2V5RXh0cmFjdG9yJ10sXG4gICAgICAuLi5cbiAgICB9LFxuICAgIGluZGV4OiBudW1iZXIsXG4gICk6IHN0cmluZyB7XG4gICAgY29uc3QgaXRlbSA9IHByb3BzLmdldEl0ZW0ocHJvcHMuZGF0YSwgaW5kZXgpO1xuICAgIHJldHVybiBWaXJ0dWFsaXplZExpc3QuX2tleUV4dHJhY3RvcihpdGVtLCBpbmRleCwgcHJvcHMpO1xuICB9XG5cbiAgc3RhdGljIF9jcmVhdGVSZW5kZXJNYXNrKFxuICAgIHByb3BzOiBQcm9wcyxcbiAgICBjZWxsc0Fyb3VuZFZpZXdwb3J0OiB7Zmlyc3Q6IG51bWJlciwgbGFzdDogbnVtYmVyfSxcbiAgICBhZGRpdGlvbmFsUmVnaW9ucz86ID8kUmVhZE9ubHlBcnJheTx7Zmlyc3Q6IG51bWJlciwgbGFzdDogbnVtYmVyfT4sXG4gICk6IENlbGxSZW5kZXJNYXNrIHtcbiAgICBjb25zdCBpdGVtQ291bnQgPSBwcm9wcy5nZXRJdGVtQ291bnQocHJvcHMuZGF0YSk7XG5cbiAgICBpbnZhcmlhbnQoXG4gICAgICBjZWxsc0Fyb3VuZFZpZXdwb3J0LmZpcnN0ID49IDAgJiZcbiAgICAgICAgY2VsbHNBcm91bmRWaWV3cG9ydC5sYXN0ID49IGNlbGxzQXJvdW5kVmlld3BvcnQuZmlyc3QgLSAxICYmXG4gICAgICAgIGNlbGxzQXJvdW5kVmlld3BvcnQubGFzdCA8IGl0ZW1Db3VudCxcbiAgICAgIGBJbnZhbGlkIGNlbGxzIGFyb3VuZCB2aWV3cG9ydCBcIlske2NlbGxzQXJvdW5kVmlld3BvcnQuZmlyc3R9LCAke2NlbGxzQXJvdW5kVmlld3BvcnQubGFzdH1dXCIgd2FzIHBhc3NlZCB0byBWaXJ0dWFsaXplZExpc3QuX2NyZWF0ZVJlbmRlck1hc2tgLFxuICAgICk7XG5cbiAgICBjb25zdCByZW5kZXJNYXNrID0gbmV3IENlbGxSZW5kZXJNYXNrKGl0ZW1Db3VudCk7XG5cbiAgICBpZiAoaXRlbUNvdW50ID4gMCkge1xuICAgICAgY29uc3QgYWxsUmVnaW9ucyA9IFtjZWxsc0Fyb3VuZFZpZXdwb3J0LCAuLi4oYWRkaXRpb25hbFJlZ2lvbnMgPz8gW10pXTtcbiAgICAgIGZvciAoY29uc3QgcmVnaW9uIG9mIGFsbFJlZ2lvbnMpIHtcbiAgICAgICAgcmVuZGVyTWFzay5hZGRDZWxscyhyZWdpb24pO1xuICAgICAgfVxuXG4gICAgICAvLyBUaGUgaW5pdGlhbGx5IHJlbmRlcmVkIGNlbGxzIGFyZSByZXRhaW5lZCBhcyBwYXJ0IG9mIHRoZVxuICAgICAgLy8gXCJzY3JvbGwtdG8tdG9wXCIgb3B0aW1pemF0aW9uXG4gICAgICBpZiAocHJvcHMuaW5pdGlhbFNjcm9sbEluZGV4ID09IG51bGwgfHwgcHJvcHMuaW5pdGlhbFNjcm9sbEluZGV4IDw9IDApIHtcbiAgICAgICAgY29uc3QgaW5pdGlhbFJlZ2lvbiA9IFZpcnR1YWxpemVkTGlzdC5faW5pdGlhbFJlbmRlclJlZ2lvbihwcm9wcyk7XG4gICAgICAgIHJlbmRlck1hc2suYWRkQ2VsbHMoaW5pdGlhbFJlZ2lvbik7XG4gICAgICB9XG5cbiAgICAgIC8vIFRoZSBsYXlvdXQgY29vcmRpbmF0ZXMgb2Ygc3RpY2tlciBoZWFkZXJzIG1heSBiZSBvZmYtc2NyZWVuIHdoaWxlIHRoZVxuICAgICAgLy8gYWN0dWFsIGhlYWRlciBpcyBvbi1zY3JlZW4uIEtlZXAgdGhlIG1vc3QgcmVjZW50IGJlZm9yZSB0aGUgdmlld3BvcnRcbiAgICAgIC8vIHJlbmRlcmVkLCBldmVuIGlmIGl0cyBsYXlvdXQgY29vcmRpbmF0ZXMgYXJlIG5vdCBpbiB2aWV3cG9ydC5cbiAgICAgIGNvbnN0IHN0aWNreUluZGljZXNTZXQgPSBuZXcgU2V0KHByb3BzLnN0aWNreUhlYWRlckluZGljZXMpO1xuICAgICAgVmlydHVhbGl6ZWRMaXN0Ll9lbnN1cmVDbG9zZXN0U3RpY2t5SGVhZGVyKFxuICAgICAgICBwcm9wcyxcbiAgICAgICAgc3RpY2t5SW5kaWNlc1NldCxcbiAgICAgICAgcmVuZGVyTWFzayxcbiAgICAgICAgY2VsbHNBcm91bmRWaWV3cG9ydC5maXJzdCxcbiAgICAgICk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlbmRlck1hc2s7XG4gIH1cblxuICBzdGF0aWMgX2luaXRpYWxSZW5kZXJSZWdpb24ocHJvcHM6IFByb3BzKToge2ZpcnN0OiBudW1iZXIsIGxhc3Q6IG51bWJlcn0ge1xuICAgIGNvbnN0IGl0ZW1Db3VudCA9IHByb3BzLmdldEl0ZW1Db3VudChwcm9wcy5kYXRhKTtcblxuICAgIGNvbnN0IGZpcnN0Q2VsbEluZGV4ID0gTWF0aC5tYXgoXG4gICAgICAwLFxuICAgICAgTWF0aC5taW4oaXRlbUNvdW50IC0gMSwgTWF0aC5mbG9vcihwcm9wcy5pbml0aWFsU2Nyb2xsSW5kZXggPz8gMCkpLFxuICAgICk7XG5cbiAgICBjb25zdCBsYXN0Q2VsbEluZGV4ID1cbiAgICAgIE1hdGgubWluKFxuICAgICAgICBpdGVtQ291bnQsXG4gICAgICAgIGZpcnN0Q2VsbEluZGV4ICsgaW5pdGlhbE51bVRvUmVuZGVyT3JEZWZhdWx0KHByb3BzLmluaXRpYWxOdW1Ub1JlbmRlciksXG4gICAgICApIC0gMTtcblxuICAgIHJldHVybiB7XG4gICAgICBmaXJzdDogZmlyc3RDZWxsSW5kZXgsXG4gICAgICBsYXN0OiBsYXN0Q2VsbEluZGV4LFxuICAgIH07XG4gIH1cblxuICBzdGF0aWMgX2Vuc3VyZUNsb3Nlc3RTdGlja3lIZWFkZXIoXG4gICAgcHJvcHM6IFByb3BzLFxuICAgIHN0aWNreUluZGljZXNTZXQ6IFNldDxudW1iZXI+LFxuICAgIHJlbmRlck1hc2s6IENlbGxSZW5kZXJNYXNrLFxuICAgIGNlbGxJZHg6IG51bWJlcixcbiAgKSB7XG4gICAgY29uc3Qgc3RpY2t5T2Zmc2V0ID0gcHJvcHMuTGlzdEhlYWRlckNvbXBvbmVudCA/IDEgOiAwO1xuXG4gICAgZm9yIChsZXQgaXRlbUlkeCA9IGNlbGxJZHggLSAxOyBpdGVtSWR4ID49IDA7IGl0ZW1JZHgtLSkge1xuICAgICAgaWYgKHN0aWNreUluZGljZXNTZXQuaGFzKGl0ZW1JZHggKyBzdGlja3lPZmZzZXQpKSB7XG4gICAgICAgIHJlbmRlck1hc2suYWRkQ2VsbHMoe2ZpcnN0OiBpdGVtSWR4LCBsYXN0OiBpdGVtSWR4fSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIF9hZGp1c3RDZWxsc0Fyb3VuZFZpZXdwb3J0KFxuICAgIHByb3BzOiBQcm9wcyxcbiAgICBjZWxsc0Fyb3VuZFZpZXdwb3J0OiB7Zmlyc3Q6IG51bWJlciwgbGFzdDogbnVtYmVyfSxcbiAgICBwZW5kaW5nU2Nyb2xsVXBkYXRlQ291bnQ6IG51bWJlcixcbiAgKToge2ZpcnN0OiBudW1iZXIsIGxhc3Q6IG51bWJlcn0ge1xuICAgIGNvbnN0IHtkYXRhLCBnZXRJdGVtQ291bnR9ID0gcHJvcHM7XG4gICAgY29uc3Qgb25FbmRSZWFjaGVkVGhyZXNob2xkID0gb25FbmRSZWFjaGVkVGhyZXNob2xkT3JEZWZhdWx0KFxuICAgICAgcHJvcHMub25FbmRSZWFjaGVkVGhyZXNob2xkLFxuICAgICk7XG4gICAgY29uc3Qge2NvbnRlbnRMZW5ndGgsIG9mZnNldCwgdmlzaWJsZUxlbmd0aH0gPSB0aGlzLl9zY3JvbGxNZXRyaWNzO1xuICAgIGNvbnN0IGRpc3RhbmNlRnJvbUVuZCA9IGNvbnRlbnRMZW5ndGggLSB2aXNpYmxlTGVuZ3RoIC0gb2Zmc2V0O1xuXG4gICAgLy8gV2FpdCB1bnRpbCB0aGUgc2Nyb2xsIHZpZXcgbWV0cmljcyBoYXZlIGJlZW4gc2V0IHVwLiBBbmQgdW50aWwgdGhlbixcbiAgICAvLyB3ZSB3aWxsIHRydXN0IHRoZSBpbml0aWFsTnVtVG9SZW5kZXIgc3VnZ2VzdGlvblxuICAgIGlmICh2aXNpYmxlTGVuZ3RoIDw9IDAgfHwgY29udGVudExlbmd0aCA8PSAwKSB7XG4gICAgICByZXR1cm4gY2VsbHNBcm91bmRWaWV3cG9ydC5sYXN0ID49IGdldEl0ZW1Db3VudChkYXRhKVxuICAgICAgICA/IFZpcnR1YWxpemVkTGlzdC5fY29uc3RyYWluVG9JdGVtQ291bnQoY2VsbHNBcm91bmRWaWV3cG9ydCwgcHJvcHMpXG4gICAgICAgIDogY2VsbHNBcm91bmRWaWV3cG9ydDtcbiAgICB9XG5cbiAgICBsZXQgbmV3Q2VsbHNBcm91bmRWaWV3cG9ydDoge2ZpcnN0OiBudW1iZXIsIGxhc3Q6IG51bWJlcn07XG4gICAgaWYgKHByb3BzLmRpc2FibGVWaXJ0dWFsaXphdGlvbikge1xuICAgICAgY29uc3QgcmVuZGVyQWhlYWQgPVxuICAgICAgICBkaXN0YW5jZUZyb21FbmQgPCBvbkVuZFJlYWNoZWRUaHJlc2hvbGQgKiB2aXNpYmxlTGVuZ3RoXG4gICAgICAgICAgPyBtYXhUb1JlbmRlclBlckJhdGNoT3JEZWZhdWx0KHByb3BzLm1heFRvUmVuZGVyUGVyQmF0Y2gpXG4gICAgICAgICAgOiAwO1xuXG4gICAgICBuZXdDZWxsc0Fyb3VuZFZpZXdwb3J0ID0ge1xuICAgICAgICBmaXJzdDogMCxcbiAgICAgICAgbGFzdDogTWF0aC5taW4oXG4gICAgICAgICAgY2VsbHNBcm91bmRWaWV3cG9ydC5sYXN0ICsgcmVuZGVyQWhlYWQsXG4gICAgICAgICAgZ2V0SXRlbUNvdW50KGRhdGEpIC0gMSxcbiAgICAgICAgKSxcbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIElmIHdlIGhhdmUgYSBwZW5kaW5nIHNjcm9sbCB1cGRhdGUsIHdlIHNob3VsZCBub3QgYWRqdXN0IHRoZSByZW5kZXIgd2luZG93IGFzIGl0XG4gICAgICAvLyBtaWdodCBvdmVycmlkZSB0aGUgY29ycmVjdCB3aW5kb3cuXG4gICAgICBpZiAocGVuZGluZ1Njcm9sbFVwZGF0ZUNvdW50ID4gMCkge1xuICAgICAgICByZXR1cm4gY2VsbHNBcm91bmRWaWV3cG9ydC5sYXN0ID49IGdldEl0ZW1Db3VudChkYXRhKVxuICAgICAgICAgID8gVmlydHVhbGl6ZWRMaXN0Ll9jb25zdHJhaW5Ub0l0ZW1Db3VudChjZWxsc0Fyb3VuZFZpZXdwb3J0LCBwcm9wcylcbiAgICAgICAgICA6IGNlbGxzQXJvdW5kVmlld3BvcnQ7XG4gICAgICB9XG5cbiAgICAgIG5ld0NlbGxzQXJvdW5kVmlld3BvcnQgPSBjb21wdXRlV2luZG93ZWRSZW5kZXJMaW1pdHMoXG4gICAgICAgIHByb3BzLFxuICAgICAgICBtYXhUb1JlbmRlclBlckJhdGNoT3JEZWZhdWx0KHByb3BzLm1heFRvUmVuZGVyUGVyQmF0Y2gpLFxuICAgICAgICB3aW5kb3dTaXplT3JEZWZhdWx0KHByb3BzLndpbmRvd1NpemUpLFxuICAgICAgICBjZWxsc0Fyb3VuZFZpZXdwb3J0LFxuICAgICAgICB0aGlzLl9fZ2V0RnJhbWVNZXRyaWNzQXBwcm94LFxuICAgICAgICB0aGlzLl9zY3JvbGxNZXRyaWNzLFxuICAgICAgKTtcbiAgICAgIGludmFyaWFudChcbiAgICAgICAgbmV3Q2VsbHNBcm91bmRWaWV3cG9ydC5sYXN0IDwgZ2V0SXRlbUNvdW50KGRhdGEpLFxuICAgICAgICAnY29tcHV0ZVdpbmRvd2VkUmVuZGVyTGltaXRzKCkgc2hvdWxkIHJldHVybiByYW5nZSBpbi1ib3VuZHMnLFxuICAgICAgKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5fbmVzdGVkQ2hpbGRMaXN0cy5zaXplKCkgPiAwKSB7XG4gICAgICAvLyBJZiBzb21lIGNlbGwgaW4gdGhlIG5ldyBzdGF0ZSBoYXMgYSBjaGlsZCBsaXN0IGluIGl0LCB3ZSBzaG91bGQgb25seSByZW5kZXJcbiAgICAgIC8vIHVwIHRocm91Z2ggdGhhdCBpdGVtLCBzbyB0aGF0IHdlIGdpdmUgdGhhdCBsaXN0IGEgY2hhbmNlIHRvIHJlbmRlci5cbiAgICAgIC8vIE90aGVyd2lzZSB0aGVyZSdzIGNodXJuIGZyb20gbXVsdGlwbGUgY2hpbGQgbGlzdHMgbW91bnRpbmcgYW5kIHVuLW1vdW50aW5nXG4gICAgICAvLyB0aGVpciBpdGVtcy5cblxuICAgICAgLy8gV2lsbCB0aGlzIHByZXZlbnQgcmVuZGVyaW5nIGlmIHRoZSBuZXN0ZWQgbGlzdCBkb2Vzbid0IHJlYWxpemUgdGhlIGVuZD9cbiAgICAgIGNvbnN0IGNoaWxkSWR4ID0gdGhpcy5fZmluZEZpcnN0Q2hpbGRXaXRoTW9yZShcbiAgICAgICAgbmV3Q2VsbHNBcm91bmRWaWV3cG9ydC5maXJzdCxcbiAgICAgICAgbmV3Q2VsbHNBcm91bmRWaWV3cG9ydC5sYXN0LFxuICAgICAgKTtcblxuICAgICAgbmV3Q2VsbHNBcm91bmRWaWV3cG9ydC5sYXN0ID0gY2hpbGRJZHggPz8gbmV3Q2VsbHNBcm91bmRWaWV3cG9ydC5sYXN0O1xuICAgIH1cblxuICAgIHJldHVybiBuZXdDZWxsc0Fyb3VuZFZpZXdwb3J0O1xuICB9XG5cbiAgX2ZpbmRGaXJzdENoaWxkV2l0aE1vcmUoZmlyc3Q6IG51bWJlciwgbGFzdDogbnVtYmVyKTogbnVtYmVyIHwgbnVsbCB7XG4gICAgZm9yIChsZXQgaWkgPSBmaXJzdDsgaWkgPD0gbGFzdDsgaWkrKykge1xuICAgICAgY29uc3QgY2VsbEtleUZvckluZGV4ID0gdGhpcy5faW5kaWNlc1RvS2V5cy5nZXQoaWkpO1xuICAgICAgaWYgKFxuICAgICAgICBjZWxsS2V5Rm9ySW5kZXggIT0gbnVsbCAmJlxuICAgICAgICB0aGlzLl9uZXN0ZWRDaGlsZExpc3RzLmFueUluQ2VsbChjZWxsS2V5Rm9ySW5kZXgsIGNoaWxkTGlzdCA9PlxuICAgICAgICAgIGNoaWxkTGlzdC5oYXNNb3JlKCksXG4gICAgICAgIClcbiAgICAgICkge1xuICAgICAgICByZXR1cm4gaWk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICBpZiAodGhpcy5faXNOZXN0ZWRXaXRoU2FtZU9yaWVudGF0aW9uKCkpIHtcbiAgICAgIHRoaXMuY29udGV4dC5yZWdpc3RlckFzTmVzdGVkQ2hpbGQoe1xuICAgICAgICByZWY6IHRoaXMsXG4gICAgICAgIGNlbGxLZXk6IHRoaXMuY29udGV4dC5jZWxsS2V5LFxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgaWYgKHRoaXMuX2lzTmVzdGVkV2l0aFNhbWVPcmllbnRhdGlvbigpKSB7XG4gICAgICB0aGlzLmNvbnRleHQudW5yZWdpc3RlckFzTmVzdGVkQ2hpbGQoe3JlZjogdGhpc30pO1xuICAgIH1cbiAgICB0aGlzLl91cGRhdGVDZWxsc1RvUmVuZGVyQmF0Y2hlci5kaXNwb3NlKHthYm9ydDogdHJ1ZX0pO1xuICAgIHRoaXMuX3ZpZXdhYmlsaXR5VHVwbGVzLmZvckVhY2godHVwbGUgPT4ge1xuICAgICAgdHVwbGUudmlld2FiaWxpdHlIZWxwZXIuZGlzcG9zZSgpO1xuICAgIH0pO1xuICAgIHRoaXMuX2ZpbGxSYXRlSGVscGVyLmRlYWN0aXZhdGVBbmRGbHVzaCgpO1xuICB9XG5cbiAgc3RhdGljIGdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyhuZXdQcm9wczogUHJvcHMsIHByZXZTdGF0ZTogU3RhdGUpOiBTdGF0ZSB7XG4gICAgLy8gZmlyc3QgYW5kIGxhc3QgY291bGQgYmUgc3RhbGUgKGUuZy4gaWYgYSBuZXcsIHNob3J0ZXIgaXRlbXMgcHJvcHMgaXMgcGFzc2VkIGluKSwgc28gd2UgbWFrZVxuICAgIC8vIHN1cmUgd2UncmUgcmVuZGVyaW5nIGEgcmVhc29uYWJsZSByYW5nZSBoZXJlLlxuICAgIGNvbnN0IGl0ZW1Db3VudCA9IG5ld1Byb3BzLmdldEl0ZW1Db3VudChuZXdQcm9wcy5kYXRhKTtcbiAgICBpZiAoaXRlbUNvdW50ID09PSBwcmV2U3RhdGUucmVuZGVyTWFzay5udW1DZWxscygpKSB7XG4gICAgICByZXR1cm4gcHJldlN0YXRlO1xuICAgIH1cblxuICAgIGxldCBtYWludGFpblZpc2libGVDb250ZW50UG9zaXRpb25BZGp1c3RtZW50OiA/bnVtYmVyID0gbnVsbDtcbiAgICBjb25zdCBwcmV2Rmlyc3RWaXNpYmxlSXRlbUtleSA9IHByZXZTdGF0ZS5maXJzdFZpc2libGVJdGVtS2V5O1xuICAgIGNvbnN0IG1pbkluZGV4Rm9yVmlzaWJsZSA9XG4gICAgICBuZXdQcm9wcy5tYWludGFpblZpc2libGVDb250ZW50UG9zaXRpb24/Lm1pbkluZGV4Rm9yVmlzaWJsZSA/PyAwO1xuICAgIGNvbnN0IG5ld0ZpcnN0VmlzaWJsZUl0ZW1LZXkgPVxuICAgICAgbmV3UHJvcHMuZ2V0SXRlbUNvdW50KG5ld1Byb3BzLmRhdGEpID4gbWluSW5kZXhGb3JWaXNpYmxlXG4gICAgICAgID8gVmlydHVhbGl6ZWRMaXN0Ll9nZXRJdGVtS2V5KG5ld1Byb3BzLCBtaW5JbmRleEZvclZpc2libGUpXG4gICAgICAgIDogbnVsbDtcbiAgICBpZiAoXG4gICAgICBuZXdQcm9wcy5tYWludGFpblZpc2libGVDb250ZW50UG9zaXRpb24gIT0gbnVsbCAmJlxuICAgICAgcHJldkZpcnN0VmlzaWJsZUl0ZW1LZXkgIT0gbnVsbCAmJlxuICAgICAgbmV3Rmlyc3RWaXNpYmxlSXRlbUtleSAhPSBudWxsXG4gICAgKSB7XG4gICAgICBpZiAobmV3Rmlyc3RWaXNpYmxlSXRlbUtleSAhPT0gcHJldkZpcnN0VmlzaWJsZUl0ZW1LZXkpIHtcbiAgICAgICAgLy8gRmFzdCBwYXRoIGlmIGl0ZW1zIHdlcmUgYWRkZWQgYXQgdGhlIHN0YXJ0IG9mIHRoZSBsaXN0LlxuICAgICAgICBjb25zdCBoaW50ID1cbiAgICAgICAgICBpdGVtQ291bnQgLSBwcmV2U3RhdGUucmVuZGVyTWFzay5udW1DZWxscygpICsgbWluSW5kZXhGb3JWaXNpYmxlO1xuICAgICAgICBjb25zdCBmaXJzdFZpc2libGVJdGVtSW5kZXggPSBWaXJ0dWFsaXplZExpc3QuX2ZpbmRJdGVtSW5kZXhXaXRoS2V5KFxuICAgICAgICAgIG5ld1Byb3BzLFxuICAgICAgICAgIHByZXZGaXJzdFZpc2libGVJdGVtS2V5LFxuICAgICAgICAgIGhpbnQsXG4gICAgICAgICk7XG4gICAgICAgIG1haW50YWluVmlzaWJsZUNvbnRlbnRQb3NpdGlvbkFkanVzdG1lbnQgPVxuICAgICAgICAgIGZpcnN0VmlzaWJsZUl0ZW1JbmRleCAhPSBudWxsXG4gICAgICAgICAgICA/IGZpcnN0VmlzaWJsZUl0ZW1JbmRleCAtIG1pbkluZGV4Rm9yVmlzaWJsZVxuICAgICAgICAgICAgOiBudWxsO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbWFpbnRhaW5WaXNpYmxlQ29udGVudFBvc2l0aW9uQWRqdXN0bWVudCA9IG51bGw7XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgY29uc3RyYWluZWRDZWxscyA9IFZpcnR1YWxpemVkTGlzdC5fY29uc3RyYWluVG9JdGVtQ291bnQoXG4gICAgICBtYWludGFpblZpc2libGVDb250ZW50UG9zaXRpb25BZGp1c3RtZW50ICE9IG51bGxcbiAgICAgICAgPyB7XG4gICAgICAgICAgICBmaXJzdDpcbiAgICAgICAgICAgICAgcHJldlN0YXRlLmNlbGxzQXJvdW5kVmlld3BvcnQuZmlyc3QgK1xuICAgICAgICAgICAgICBtYWludGFpblZpc2libGVDb250ZW50UG9zaXRpb25BZGp1c3RtZW50LFxuICAgICAgICAgICAgbGFzdDpcbiAgICAgICAgICAgICAgcHJldlN0YXRlLmNlbGxzQXJvdW5kVmlld3BvcnQubGFzdCArXG4gICAgICAgICAgICAgIG1haW50YWluVmlzaWJsZUNvbnRlbnRQb3NpdGlvbkFkanVzdG1lbnQsXG4gICAgICAgICAgfVxuICAgICAgICA6IHByZXZTdGF0ZS5jZWxsc0Fyb3VuZFZpZXdwb3J0LFxuICAgICAgbmV3UHJvcHMsXG4gICAgKTtcblxuICAgIHJldHVybiB7XG4gICAgICBjZWxsc0Fyb3VuZFZpZXdwb3J0OiBjb25zdHJhaW5lZENlbGxzLFxuICAgICAgcmVuZGVyTWFzazogVmlydHVhbGl6ZWRMaXN0Ll9jcmVhdGVSZW5kZXJNYXNrKG5ld1Byb3BzLCBjb25zdHJhaW5lZENlbGxzKSxcbiAgICAgIGZpcnN0VmlzaWJsZUl0ZW1LZXk6IG5ld0ZpcnN0VmlzaWJsZUl0ZW1LZXksXG4gICAgICBwZW5kaW5nU2Nyb2xsVXBkYXRlQ291bnQ6XG4gICAgICAgIG1haW50YWluVmlzaWJsZUNvbnRlbnRQb3NpdGlvbkFkanVzdG1lbnQgIT0gbnVsbFxuICAgICAgICAgID8gcHJldlN0YXRlLnBlbmRpbmdTY3JvbGxVcGRhdGVDb3VudCArIDFcbiAgICAgICAgICA6IHByZXZTdGF0ZS5wZW5kaW5nU2Nyb2xsVXBkYXRlQ291bnQsXG4gICAgfTtcbiAgfVxuXG4gIF9wdXNoQ2VsbHMoXG4gICAgY2VsbHM6IEFycmF5PE9iamVjdD4sXG4gICAgc3RpY2t5SGVhZGVySW5kaWNlczogQXJyYXk8bnVtYmVyPixcbiAgICBzdGlja3lJbmRpY2VzRnJvbVByb3BzOiBTZXQ8bnVtYmVyPixcbiAgICBmaXJzdDogbnVtYmVyLFxuICAgIGxhc3Q6IG51bWJlcixcbiAgICBpbnZlcnNpb25TdHlsZTogVmlld1N0eWxlUHJvcCxcbiAgKSB7XG4gICAgY29uc3Qge1xuICAgICAgQ2VsbFJlbmRlcmVyQ29tcG9uZW50LFxuICAgICAgSXRlbVNlcGFyYXRvckNvbXBvbmVudCxcbiAgICAgIExpc3RIZWFkZXJDb21wb25lbnQsXG4gICAgICBMaXN0SXRlbUNvbXBvbmVudCxcbiAgICAgIGRhdGEsXG4gICAgICBkZWJ1ZyxcbiAgICAgIGdldEl0ZW0sXG4gICAgICBnZXRJdGVtQ291bnQsXG4gICAgICBnZXRJdGVtTGF5b3V0LFxuICAgICAgaG9yaXpvbnRhbCxcbiAgICAgIHJlbmRlckl0ZW0sXG4gICAgfSA9IHRoaXMucHJvcHM7XG4gICAgY29uc3Qgc3RpY2t5T2Zmc2V0ID0gTGlzdEhlYWRlckNvbXBvbmVudCA/IDEgOiAwO1xuICAgIGNvbnN0IGVuZCA9IGdldEl0ZW1Db3VudChkYXRhKSAtIDE7XG4gICAgbGV0IHByZXZDZWxsS2V5O1xuICAgIGxhc3QgPSBNYXRoLm1pbihlbmQsIGxhc3QpO1xuXG4gICAgZm9yIChsZXQgaWkgPSBmaXJzdDsgaWkgPD0gbGFzdDsgaWkrKykge1xuICAgICAgY29uc3QgaXRlbSA9IGdldEl0ZW0oZGF0YSwgaWkpO1xuICAgICAgY29uc3Qga2V5ID0gVmlydHVhbGl6ZWRMaXN0Ll9rZXlFeHRyYWN0b3IoaXRlbSwgaWksIHRoaXMucHJvcHMpO1xuXG4gICAgICB0aGlzLl9pbmRpY2VzVG9LZXlzLnNldChpaSwga2V5KTtcbiAgICAgIGlmIChzdGlja3lJbmRpY2VzRnJvbVByb3BzLmhhcyhpaSArIHN0aWNreU9mZnNldCkpIHtcbiAgICAgICAgc3RpY2t5SGVhZGVySW5kaWNlcy5wdXNoKGNlbGxzLmxlbmd0aCk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHNob3VsZExpc3RlbkZvckxheW91dCA9XG4gICAgICAgIGdldEl0ZW1MYXlvdXQgPT0gbnVsbCB8fCBkZWJ1ZyB8fCB0aGlzLl9maWxsUmF0ZUhlbHBlci5lbmFibGVkKCk7XG5cbiAgICAgIGNlbGxzLnB1c2goXG4gICAgICAgIDxDZWxsUmVuZGVyZXJcbiAgICAgICAgICBDZWxsUmVuZGVyZXJDb21wb25lbnQ9e0NlbGxSZW5kZXJlckNvbXBvbmVudH1cbiAgICAgICAgICBJdGVtU2VwYXJhdG9yQ29tcG9uZW50PXtpaSA8IGVuZCA/IEl0ZW1TZXBhcmF0b3JDb21wb25lbnQgOiB1bmRlZmluZWR9XG4gICAgICAgICAgTGlzdEl0ZW1Db21wb25lbnQ9e0xpc3RJdGVtQ29tcG9uZW50fVxuICAgICAgICAgIGNlbGxLZXk9e2tleX1cbiAgICAgICAgICBob3Jpem9udGFsPXtob3Jpem9udGFsfVxuICAgICAgICAgIGluZGV4PXtpaX1cbiAgICAgICAgICBpbnZlcnNpb25TdHlsZT17aW52ZXJzaW9uU3R5bGV9XG4gICAgICAgICAgaXRlbT17aXRlbX1cbiAgICAgICAgICBrZXk9e2tleX1cbiAgICAgICAgICBwcmV2Q2VsbEtleT17cHJldkNlbGxLZXl9XG4gICAgICAgICAgb25VcGRhdGVTZXBhcmF0b3JzPXt0aGlzLl9vblVwZGF0ZVNlcGFyYXRvcnN9XG4gICAgICAgICAgb25DZWxsRm9jdXNDYXB0dXJlPXtlID0+IHRoaXMuX29uQ2VsbEZvY3VzQ2FwdHVyZShrZXkpfVxuICAgICAgICAgIG9uVW5tb3VudD17dGhpcy5fb25DZWxsVW5tb3VudH1cbiAgICAgICAgICByZWY9e3JlZiA9PiB7XG4gICAgICAgICAgICB0aGlzLl9jZWxsUmVmc1trZXldID0gcmVmO1xuICAgICAgICAgIH19XG4gICAgICAgICAgcmVuZGVySXRlbT17cmVuZGVySXRlbX1cbiAgICAgICAgICB7Li4uKHNob3VsZExpc3RlbkZvckxheW91dCAmJiB7XG4gICAgICAgICAgICBvbkNlbGxMYXlvdXQ6IHRoaXMuX29uQ2VsbExheW91dCxcbiAgICAgICAgICB9KX1cbiAgICAgICAgLz4sXG4gICAgICApO1xuICAgICAgcHJldkNlbGxLZXkgPSBrZXk7XG4gICAgfVxuICB9XG5cbiAgc3RhdGljIF9jb25zdHJhaW5Ub0l0ZW1Db3VudChcbiAgICBjZWxsczoge2ZpcnN0OiBudW1iZXIsIGxhc3Q6IG51bWJlcn0sXG4gICAgcHJvcHM6IFByb3BzLFxuICApOiB7Zmlyc3Q6IG51bWJlciwgbGFzdDogbnVtYmVyfSB7XG4gICAgY29uc3QgaXRlbUNvdW50ID0gcHJvcHMuZ2V0SXRlbUNvdW50KHByb3BzLmRhdGEpO1xuICAgIGNvbnN0IGxhc3QgPSBNYXRoLm1pbihpdGVtQ291bnQgLSAxLCBjZWxscy5sYXN0KTtcblxuICAgIGNvbnN0IG1heFRvUmVuZGVyUGVyQmF0Y2ggPSBtYXhUb1JlbmRlclBlckJhdGNoT3JEZWZhdWx0KFxuICAgICAgcHJvcHMubWF4VG9SZW5kZXJQZXJCYXRjaCxcbiAgICApO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIGZpcnN0OiBjbGFtcCgwLCBpdGVtQ291bnQgLSAxIC0gbWF4VG9SZW5kZXJQZXJCYXRjaCwgY2VsbHMuZmlyc3QpLFxuICAgICAgbGFzdCxcbiAgICB9O1xuICB9XG5cbiAgX29uVXBkYXRlU2VwYXJhdG9ycyA9IChrZXlzOiBBcnJheTw/c3RyaW5nPiwgbmV3UHJvcHM6IE9iamVjdCkgPT4ge1xuICAgIGtleXMuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgY29uc3QgcmVmID0ga2V5ICE9IG51bGwgJiYgdGhpcy5fY2VsbFJlZnNba2V5XTtcbiAgICAgIHJlZiAmJiByZWYudXBkYXRlU2VwYXJhdG9yUHJvcHMobmV3UHJvcHMpO1xuICAgIH0pO1xuICB9O1xuXG4gIF9pc05lc3RlZFdpdGhTYW1lT3JpZW50YXRpb24oKTogYm9vbGVhbiB7XG4gICAgY29uc3QgbmVzdGVkQ29udGV4dCA9IHRoaXMuY29udGV4dDtcbiAgICByZXR1cm4gISEoXG4gICAgICBuZXN0ZWRDb250ZXh0ICYmXG4gICAgICAhIW5lc3RlZENvbnRleHQuaG9yaXpvbnRhbCA9PT0gaG9yaXpvbnRhbE9yRGVmYXVsdCh0aGlzLnByb3BzLmhvcml6b250YWwpXG4gICAgKTtcbiAgfVxuXG4gIF9nZXRTcGFjZXJLZXkgPSAoaXNWZXJ0aWNhbDogYm9vbGVhbik6IHN0cmluZyA9PlxuICAgIGlzVmVydGljYWwgPyAnaGVpZ2h0JyA6ICd3aWR0aCc7XG5cbiAgc3RhdGljIF9rZXlFeHRyYWN0b3IoXG4gICAgaXRlbTogSXRlbSxcbiAgICBpbmRleDogbnVtYmVyLFxuICAgIHByb3BzOiB7XG4gICAgICBrZXlFeHRyYWN0b3I/OiA/KGl0ZW06IEl0ZW0sIGluZGV4OiBudW1iZXIpID0+IHN0cmluZyxcbiAgICAgIC4uLlxuICAgIH0sXG4gICk6IHN0cmluZyB7XG4gICAgaWYgKHByb3BzLmtleUV4dHJhY3RvciAhPSBudWxsKSB7XG4gICAgICByZXR1cm4gcHJvcHMua2V5RXh0cmFjdG9yKGl0ZW0sIGluZGV4KTtcbiAgICB9XG5cbiAgICBjb25zdCBrZXkgPSBkZWZhdWx0S2V5RXh0cmFjdG9yKGl0ZW0sIGluZGV4KTtcbiAgICBpZiAoa2V5ID09PSBTdHJpbmcoaW5kZXgpKSB7XG4gICAgICBfdXNlZEluZGV4Rm9yS2V5ID0gdHJ1ZTtcbiAgICAgIGlmIChpdGVtLnR5cGUgJiYgaXRlbS50eXBlLmRpc3BsYXlOYW1lKSB7XG4gICAgICAgIF9rZXlsZXNzSXRlbUNvbXBvbmVudE5hbWUgPSBpdGVtLnR5cGUuZGlzcGxheU5hbWU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBrZXk7XG4gIH1cblxuICByZW5kZXIoKTogUmVhY3QuTm9kZSB7XG4gICAgdGhpcy5fY2hlY2tQcm9wcyh0aGlzLnByb3BzKTtcbiAgICBjb25zdCB7TGlzdEVtcHR5Q29tcG9uZW50LCBMaXN0Rm9vdGVyQ29tcG9uZW50LCBMaXN0SGVhZGVyQ29tcG9uZW50fSA9XG4gICAgICB0aGlzLnByb3BzO1xuICAgIGNvbnN0IHtkYXRhLCBob3Jpem9udGFsfSA9IHRoaXMucHJvcHM7XG4gICAgY29uc3QgaW52ZXJzaW9uU3R5bGUgPSB0aGlzLnByb3BzLmludmVydGVkXG4gICAgICA/IGhvcml6b250YWxPckRlZmF1bHQodGhpcy5wcm9wcy5ob3Jpem9udGFsKVxuICAgICAgICA/IHN0eWxlcy5ob3Jpem9udGFsbHlJbnZlcnRlZFxuICAgICAgICA6IHN0eWxlcy52ZXJ0aWNhbGx5SW52ZXJ0ZWRcbiAgICAgIDogbnVsbDtcbiAgICBjb25zdCBjZWxsczogQXJyYXk8YW55IHwgUmVhY3QuTm9kZT4gPSBbXTtcbiAgICBjb25zdCBzdGlja3lJbmRpY2VzRnJvbVByb3BzID0gbmV3IFNldCh0aGlzLnByb3BzLnN0aWNreUhlYWRlckluZGljZXMpO1xuICAgIGNvbnN0IHN0aWNreUhlYWRlckluZGljZXMgPSBbXTtcblxuICAgIC8vIDEuIEFkZCBjZWxsIGZvciBMaXN0SGVhZGVyQ29tcG9uZW50XG4gICAgaWYgKExpc3RIZWFkZXJDb21wb25lbnQpIHtcbiAgICAgIGlmIChzdGlja3lJbmRpY2VzRnJvbVByb3BzLmhhcygwKSkge1xuICAgICAgICBzdGlja3lIZWFkZXJJbmRpY2VzLnB1c2goMCk7XG4gICAgICB9XG4gICAgICBjb25zdCBlbGVtZW50ID0gUmVhY3QuaXNWYWxpZEVsZW1lbnQoTGlzdEhlYWRlckNvbXBvbmVudCkgPyAoXG4gICAgICAgIExpc3RIZWFkZXJDb21wb25lbnRcbiAgICAgICkgOiAoXG4gICAgICAgIC8vICRGbG93Rml4TWVbbm90LWEtY29tcG9uZW50XVxuICAgICAgICAvLyAkRmxvd0ZpeE1lW2luY29tcGF0aWJsZS10eXBlLWFyZ11cbiAgICAgICAgPExpc3RIZWFkZXJDb21wb25lbnQgLz5cbiAgICAgICk7XG4gICAgICBjZWxscy5wdXNoKFxuICAgICAgICA8VmlydHVhbGl6ZWRMaXN0Q2VsbENvbnRleHRQcm92aWRlclxuICAgICAgICAgIGNlbGxLZXk9e3RoaXMuX2dldENlbGxLZXkoKSArICctaGVhZGVyJ31cbiAgICAgICAgICBrZXk9XCIkaGVhZGVyXCI+XG4gICAgICAgICAgPFZpZXdcbiAgICAgICAgICAgIC8vIFdlIGV4cGVjdCB0aGF0IGhlYWRlciBjb21wb25lbnQgd2lsbCBiZSBhIHNpbmdsZSBuYXRpdmUgdmlldyBzbyBtYWtlIGl0XG4gICAgICAgICAgICAvLyBub3QgY29sbGFwc2FibGUgdG8gYXZvaWQgdGhpcyB2aWV3IGJlaW5nIGZsYXR0ZW5lZCBhbmQgbWFrZSB0aGlzIGFzc3VtcHRpb25cbiAgICAgICAgICAgIC8vIG5vIGxvbmdlciB0cnVlLlxuICAgICAgICAgICAgY29sbGFwc2FibGU9e2ZhbHNlfVxuICAgICAgICAgICAgb25MYXlvdXQ9e3RoaXMuX29uTGF5b3V0SGVhZGVyfVxuICAgICAgICAgICAgc3R5bGU9e1N0eWxlU2hlZXQuY29tcG9zZShcbiAgICAgICAgICAgICAgaW52ZXJzaW9uU3R5bGUsXG4gICAgICAgICAgICAgIHRoaXMucHJvcHMuTGlzdEhlYWRlckNvbXBvbmVudFN0eWxlLFxuICAgICAgICAgICAgKX0+XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIC8vICRGbG93Rml4TWVbaW5jb21wYXRpYmxlLXR5cGVdIC0gVHlwaW5nIFJlYWN0TmF0aXZlQ29tcG9uZW50IHJldmVhbGVkIGVycm9yc1xuICAgICAgICAgICAgICBlbGVtZW50XG4gICAgICAgICAgICB9XG4gICAgICAgICAgPC9WaWV3PlxuICAgICAgICA8L1ZpcnR1YWxpemVkTGlzdENlbGxDb250ZXh0UHJvdmlkZXI+LFxuICAgICAgKTtcbiAgICB9XG5cbiAgICAvLyAyYS4gQWRkIGEgY2VsbCBmb3IgTGlzdEVtcHR5Q29tcG9uZW50IGlmIGFwcGxpY2FibGVcbiAgICBjb25zdCBpdGVtQ291bnQgPSB0aGlzLnByb3BzLmdldEl0ZW1Db3VudChkYXRhKTtcbiAgICBpZiAoaXRlbUNvdW50ID09PSAwICYmIExpc3RFbXB0eUNvbXBvbmVudCkge1xuICAgICAgY29uc3QgZWxlbWVudDogUmVhY3QuRWxlbWVudDxhbnk+ID0gKChSZWFjdC5pc1ZhbGlkRWxlbWVudChcbiAgICAgICAgTGlzdEVtcHR5Q29tcG9uZW50LFxuICAgICAgKSA/IChcbiAgICAgICAgTGlzdEVtcHR5Q29tcG9uZW50XG4gICAgICApIDogKFxuICAgICAgICAvLyAkRmxvd0ZpeE1lW25vdC1hLWNvbXBvbmVudF1cbiAgICAgICAgLy8gJEZsb3dGaXhNZVtpbmNvbXBhdGlibGUtdHlwZS1hcmddXG4gICAgICAgIDxMaXN0RW1wdHlDb21wb25lbnQgLz5cbiAgICAgICkpOiBhbnkpO1xuICAgICAgY2VsbHMucHVzaChcbiAgICAgICAgPFZpcnR1YWxpemVkTGlzdENlbGxDb250ZXh0UHJvdmlkZXJcbiAgICAgICAgICBjZWxsS2V5PXt0aGlzLl9nZXRDZWxsS2V5KCkgKyAnLWVtcHR5J31cbiAgICAgICAgICBrZXk9XCIkZW1wdHlcIj5cbiAgICAgICAgICB7UmVhY3QuY2xvbmVFbGVtZW50KGVsZW1lbnQsIHtcbiAgICAgICAgICAgIG9uTGF5b3V0OiAoZXZlbnQ6IExheW91dEV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgIHRoaXMuX29uTGF5b3V0RW1wdHkoZXZlbnQpO1xuICAgICAgICAgICAgICBpZiAoZWxlbWVudC5wcm9wcy5vbkxheW91dCkge1xuICAgICAgICAgICAgICAgIGVsZW1lbnQucHJvcHMub25MYXlvdXQoZXZlbnQpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc3R5bGU6IFN0eWxlU2hlZXQuY29tcG9zZShpbnZlcnNpb25TdHlsZSwgZWxlbWVudC5wcm9wcy5zdHlsZSksXG4gICAgICAgICAgfSl9XG4gICAgICAgIDwvVmlydHVhbGl6ZWRMaXN0Q2VsbENvbnRleHRQcm92aWRlcj4sXG4gICAgICApO1xuICAgIH1cblxuICAgIC8vIDJiLiBBZGQgY2VsbHMgYW5kIHNwYWNlcnMgZm9yIGVhY2ggaXRlbVxuICAgIGlmIChpdGVtQ291bnQgPiAwKSB7XG4gICAgICBfdXNlZEluZGV4Rm9yS2V5ID0gZmFsc2U7XG4gICAgICBfa2V5bGVzc0l0ZW1Db21wb25lbnROYW1lID0gJyc7XG4gICAgICBjb25zdCBzcGFjZXJLZXkgPSB0aGlzLl9nZXRTcGFjZXJLZXkoIWhvcml6b250YWwpO1xuXG4gICAgICBjb25zdCByZW5kZXJSZWdpb25zID0gdGhpcy5zdGF0ZS5yZW5kZXJNYXNrLmVudW1lcmF0ZVJlZ2lvbnMoKTtcbiAgICAgIGNvbnN0IGxhc3RTcGFjZXIgPSBmaW5kTGFzdFdoZXJlKHJlbmRlclJlZ2lvbnMsIHIgPT4gci5pc1NwYWNlcik7XG5cbiAgICAgIGZvciAoY29uc3Qgc2VjdGlvbiBvZiByZW5kZXJSZWdpb25zKSB7XG4gICAgICAgIGlmIChzZWN0aW9uLmlzU3BhY2VyKSB7XG4gICAgICAgICAgLy8gTGVnYWN5IGJlaGF2aW9yIGlzIHRvIGF2b2lkIHNwYWNlcnMgd2hlbiB2aXJ0dWFsaXphdGlvbiBpc1xuICAgICAgICAgIC8vIGRpc2FibGVkIChpbmNsdWRpbmcgaGVhZCBzcGFjZXJzIG9uIGluaXRpYWwgcmVuZGVyKS5cbiAgICAgICAgICBpZiAodGhpcy5wcm9wcy5kaXNhYmxlVmlydHVhbGl6YXRpb24pIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIFdpdGhvdXQgZ2V0SXRlbUxheW91dCwgd2UgbGltaXQgb3VyIHRhaWwgc3BhY2VyIHRvIHRoZSBfaGlnaGVzdE1lYXN1cmVkRnJhbWVJbmRleCB0b1xuICAgICAgICAgIC8vIHByZXZlbnQgdGhlIHVzZXIgZm9yIGh5cGVyc2Nyb2xsaW5nIGludG8gdW4tbWVhc3VyZWQgYXJlYSBiZWNhdXNlIG90aGVyd2lzZSBjb250ZW50IHdpbGxcbiAgICAgICAgICAvLyBsaWtlbHkganVtcCBhcm91bmQgYXMgaXQgcmVuZGVycyBpbiBhYm92ZSB0aGUgdmlld3BvcnQuXG4gICAgICAgICAgY29uc3QgaXNMYXN0U3BhY2VyID0gc2VjdGlvbiA9PT0gbGFzdFNwYWNlcjtcbiAgICAgICAgICBjb25zdCBjb25zdHJhaW5Ub01lYXN1cmVkID0gaXNMYXN0U3BhY2VyICYmICF0aGlzLnByb3BzLmdldEl0ZW1MYXlvdXQ7XG4gICAgICAgICAgY29uc3QgbGFzdCA9IGNvbnN0cmFpblRvTWVhc3VyZWRcbiAgICAgICAgICAgID8gY2xhbXAoXG4gICAgICAgICAgICAgICAgc2VjdGlvbi5maXJzdCAtIDEsXG4gICAgICAgICAgICAgICAgc2VjdGlvbi5sYXN0LFxuICAgICAgICAgICAgICAgIHRoaXMuX2hpZ2hlc3RNZWFzdXJlZEZyYW1lSW5kZXgsXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgIDogc2VjdGlvbi5sYXN0O1xuXG4gICAgICAgICAgY29uc3QgZmlyc3RNZXRyaWNzID0gdGhpcy5fX2dldEZyYW1lTWV0cmljc0FwcHJveChcbiAgICAgICAgICAgIHNlY3Rpb24uZmlyc3QsXG4gICAgICAgICAgICB0aGlzLnByb3BzLFxuICAgICAgICAgICk7XG4gICAgICAgICAgY29uc3QgbGFzdE1ldHJpY3MgPSB0aGlzLl9fZ2V0RnJhbWVNZXRyaWNzQXBwcm94KGxhc3QsIHRoaXMucHJvcHMpO1xuICAgICAgICAgIGNvbnN0IHNwYWNlclNpemUgPVxuICAgICAgICAgICAgbGFzdE1ldHJpY3Mub2Zmc2V0ICsgbGFzdE1ldHJpY3MubGVuZ3RoIC0gZmlyc3RNZXRyaWNzLm9mZnNldDtcbiAgICAgICAgICBjZWxscy5wdXNoKFxuICAgICAgICAgICAgPFZpZXdcbiAgICAgICAgICAgICAga2V5PXtgJHNwYWNlci0ke3NlY3Rpb24uZmlyc3R9YH1cbiAgICAgICAgICAgICAgc3R5bGU9e3tbc3BhY2VyS2V5XTogc3BhY2VyU2l6ZX19XG4gICAgICAgICAgICAvPixcbiAgICAgICAgICApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuX3B1c2hDZWxscyhcbiAgICAgICAgICAgIGNlbGxzLFxuICAgICAgICAgICAgc3RpY2t5SGVhZGVySW5kaWNlcyxcbiAgICAgICAgICAgIHN0aWNreUluZGljZXNGcm9tUHJvcHMsXG4gICAgICAgICAgICBzZWN0aW9uLmZpcnN0LFxuICAgICAgICAgICAgc2VjdGlvbi5sYXN0LFxuICAgICAgICAgICAgaW52ZXJzaW9uU3R5bGUsXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoIXRoaXMuX2hhc1dhcm5lZC5rZXlzICYmIF91c2VkSW5kZXhGb3JLZXkpIHtcbiAgICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAgICdWaXJ0dWFsaXplZExpc3Q6IG1pc3Npbmcga2V5cyBmb3IgaXRlbXMsIG1ha2Ugc3VyZSB0byBzcGVjaWZ5IGEga2V5IG9yIGlkIHByb3BlcnR5IG9uIGVhY2ggJyArXG4gICAgICAgICAgICAnaXRlbSBvciBwcm92aWRlIGEgY3VzdG9tIGtleUV4dHJhY3Rvci4nLFxuICAgICAgICAgIF9rZXlsZXNzSXRlbUNvbXBvbmVudE5hbWUsXG4gICAgICAgICk7XG4gICAgICAgIHRoaXMuX2hhc1dhcm5lZC5rZXlzID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyAzLiBBZGQgY2VsbCBmb3IgTGlzdEZvb3RlckNvbXBvbmVudFxuICAgIGlmIChMaXN0Rm9vdGVyQ29tcG9uZW50KSB7XG4gICAgICBjb25zdCBlbGVtZW50ID0gUmVhY3QuaXNWYWxpZEVsZW1lbnQoTGlzdEZvb3RlckNvbXBvbmVudCkgPyAoXG4gICAgICAgIExpc3RGb290ZXJDb21wb25lbnRcbiAgICAgICkgOiAoXG4gICAgICAgIC8vICRGbG93Rml4TWVbbm90LWEtY29tcG9uZW50XVxuICAgICAgICAvLyAkRmxvd0ZpeE1lW2luY29tcGF0aWJsZS10eXBlLWFyZ11cbiAgICAgICAgPExpc3RGb290ZXJDb21wb25lbnQgLz5cbiAgICAgICk7XG4gICAgICBjZWxscy5wdXNoKFxuICAgICAgICA8VmlydHVhbGl6ZWRMaXN0Q2VsbENvbnRleHRQcm92aWRlclxuICAgICAgICAgIGNlbGxLZXk9e3RoaXMuX2dldEZvb3RlckNlbGxLZXkoKX1cbiAgICAgICAgICBrZXk9XCIkZm9vdGVyXCI+XG4gICAgICAgICAgPFZpZXdcbiAgICAgICAgICAgIG9uTGF5b3V0PXt0aGlzLl9vbkxheW91dEZvb3Rlcn1cbiAgICAgICAgICAgIHN0eWxlPXtTdHlsZVNoZWV0LmNvbXBvc2UoXG4gICAgICAgICAgICAgIGludmVyc2lvblN0eWxlLFxuICAgICAgICAgICAgICB0aGlzLnByb3BzLkxpc3RGb290ZXJDb21wb25lbnRTdHlsZSxcbiAgICAgICAgICAgICl9PlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAvLyAkRmxvd0ZpeE1lW2luY29tcGF0aWJsZS10eXBlXSAtIFR5cGluZyBSZWFjdE5hdGl2ZUNvbXBvbmVudCByZXZlYWxlZCBlcnJvcnNcbiAgICAgICAgICAgICAgZWxlbWVudFxuICAgICAgICAgICAgfVxuICAgICAgICAgIDwvVmlldz5cbiAgICAgICAgPC9WaXJ0dWFsaXplZExpc3RDZWxsQ29udGV4dFByb3ZpZGVyPixcbiAgICAgICk7XG4gICAgfVxuXG4gICAgLy8gNC4gUmVuZGVyIHRoZSBTY3JvbGxWaWV3XG4gICAgY29uc3Qgc2Nyb2xsUHJvcHMgPSB7XG4gICAgICAuLi50aGlzLnByb3BzLFxuICAgICAgb25Db250ZW50U2l6ZUNoYW5nZTogdGhpcy5fb25Db250ZW50U2l6ZUNoYW5nZSxcbiAgICAgIG9uTGF5b3V0OiB0aGlzLl9vbkxheW91dCxcbiAgICAgIG9uU2Nyb2xsOiB0aGlzLl9vblNjcm9sbCxcbiAgICAgIG9uU2Nyb2xsQmVnaW5EcmFnOiB0aGlzLl9vblNjcm9sbEJlZ2luRHJhZyxcbiAgICAgIG9uU2Nyb2xsRW5kRHJhZzogdGhpcy5fb25TY3JvbGxFbmREcmFnLFxuICAgICAgb25Nb21lbnR1bVNjcm9sbEJlZ2luOiB0aGlzLl9vbk1vbWVudHVtU2Nyb2xsQmVnaW4sXG4gICAgICBvbk1vbWVudHVtU2Nyb2xsRW5kOiB0aGlzLl9vbk1vbWVudHVtU2Nyb2xsRW5kLFxuICAgICAgc2Nyb2xsRXZlbnRUaHJvdHRsZTogc2Nyb2xsRXZlbnRUaHJvdHRsZU9yRGVmYXVsdChcbiAgICAgICAgdGhpcy5wcm9wcy5zY3JvbGxFdmVudFRocm90dGxlLFxuICAgICAgKSwgLy8gVE9ETzogQW5kcm9pZCBzdXBwb3J0XG4gICAgICBpbnZlcnRTdGlja3lIZWFkZXJzOlxuICAgICAgICB0aGlzLnByb3BzLmludmVydFN0aWNreUhlYWRlcnMgIT09IHVuZGVmaW5lZFxuICAgICAgICAgID8gdGhpcy5wcm9wcy5pbnZlcnRTdGlja3lIZWFkZXJzXG4gICAgICAgICAgOiB0aGlzLnByb3BzLmludmVydGVkLFxuICAgICAgc3RpY2t5SGVhZGVySW5kaWNlcyxcbiAgICAgIHN0eWxlOiBpbnZlcnNpb25TdHlsZVxuICAgICAgICA/IFtpbnZlcnNpb25TdHlsZSwgdGhpcy5wcm9wcy5zdHlsZV1cbiAgICAgICAgOiB0aGlzLnByb3BzLnN0eWxlLFxuICAgICAgaXNJbnZlcnRlZFZpcnR1YWxpemVkTGlzdDogdGhpcy5wcm9wcy5pbnZlcnRlZCxcbiAgICAgIG1haW50YWluVmlzaWJsZUNvbnRlbnRQb3NpdGlvbjpcbiAgICAgICAgdGhpcy5wcm9wcy5tYWludGFpblZpc2libGVDb250ZW50UG9zaXRpb24gIT0gbnVsbFxuICAgICAgICAgID8ge1xuICAgICAgICAgICAgICAuLi50aGlzLnByb3BzLm1haW50YWluVmlzaWJsZUNvbnRlbnRQb3NpdGlvbixcbiAgICAgICAgICAgICAgLy8gQWRqdXN0IGluZGV4IHRvIGFjY291bnQgZm9yIExpc3RIZWFkZXJDb21wb25lbnQuXG4gICAgICAgICAgICAgIG1pbkluZGV4Rm9yVmlzaWJsZTpcbiAgICAgICAgICAgICAgICB0aGlzLnByb3BzLm1haW50YWluVmlzaWJsZUNvbnRlbnRQb3NpdGlvbi5taW5JbmRleEZvclZpc2libGUgK1xuICAgICAgICAgICAgICAgICh0aGlzLnByb3BzLkxpc3RIZWFkZXJDb21wb25lbnQgPyAxIDogMCksXG4gICAgICAgICAgICB9XG4gICAgICAgICAgOiB1bmRlZmluZWQsXG4gICAgfTtcblxuICAgIHRoaXMuX2hhc01vcmUgPSB0aGlzLnN0YXRlLmNlbGxzQXJvdW5kVmlld3BvcnQubGFzdCA8IGl0ZW1Db3VudCAtIDE7XG5cbiAgICBjb25zdCBpbm5lclJldCA9IChcbiAgICAgIDxWaXJ0dWFsaXplZExpc3RDb250ZXh0UHJvdmlkZXJcbiAgICAgICAgdmFsdWU9e3tcbiAgICAgICAgICBjZWxsS2V5OiBudWxsLFxuICAgICAgICAgIGdldFNjcm9sbE1ldHJpY3M6IHRoaXMuX2dldFNjcm9sbE1ldHJpY3MsXG4gICAgICAgICAgaG9yaXpvbnRhbDogaG9yaXpvbnRhbE9yRGVmYXVsdCh0aGlzLnByb3BzLmhvcml6b250YWwpLFxuICAgICAgICAgIGdldE91dGVybW9zdFBhcmVudExpc3RSZWY6IHRoaXMuX2dldE91dGVybW9zdFBhcmVudExpc3RSZWYsXG4gICAgICAgICAgcmVnaXN0ZXJBc05lc3RlZENoaWxkOiB0aGlzLl9yZWdpc3RlckFzTmVzdGVkQ2hpbGQsXG4gICAgICAgICAgdW5yZWdpc3RlckFzTmVzdGVkQ2hpbGQ6IHRoaXMuX3VucmVnaXN0ZXJBc05lc3RlZENoaWxkLFxuICAgICAgICB9fT5cbiAgICAgICAge1JlYWN0LmNsb25lRWxlbWVudChcbiAgICAgICAgICAoXG4gICAgICAgICAgICB0aGlzLnByb3BzLnJlbmRlclNjcm9sbENvbXBvbmVudCB8fFxuICAgICAgICAgICAgdGhpcy5fZGVmYXVsdFJlbmRlclNjcm9sbENvbXBvbmVudFxuICAgICAgICAgICkoc2Nyb2xsUHJvcHMpLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHJlZjogdGhpcy5fY2FwdHVyZVNjcm9sbFJlZixcbiAgICAgICAgICB9LFxuICAgICAgICAgIGNlbGxzLFxuICAgICAgICApfVxuICAgICAgPC9WaXJ0dWFsaXplZExpc3RDb250ZXh0UHJvdmlkZXI+XG4gICAgKTtcbiAgICBsZXQgcmV0OiBSZWFjdC5Ob2RlID0gaW5uZXJSZXQ7XG4gICAgaWYgKF9fREVWX18pIHtcbiAgICAgIHJldCA9IChcbiAgICAgICAgPFNjcm9sbFZpZXcuQ29udGV4dC5Db25zdW1lcj5cbiAgICAgICAgICB7c2Nyb2xsQ29udGV4dCA9PiB7XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgIHNjcm9sbENvbnRleHQgIT0gbnVsbCAmJlxuICAgICAgICAgICAgICAhc2Nyb2xsQ29udGV4dC5ob3Jpem9udGFsID09PVxuICAgICAgICAgICAgICAgICFob3Jpem9udGFsT3JEZWZhdWx0KHRoaXMucHJvcHMuaG9yaXpvbnRhbCkgJiZcbiAgICAgICAgICAgICAgIXRoaXMuX2hhc1dhcm5lZC5uZXN0aW5nICYmXG4gICAgICAgICAgICAgIHRoaXMuY29udGV4dCA9PSBudWxsICYmXG4gICAgICAgICAgICAgIHRoaXMucHJvcHMuc2Nyb2xsRW5hYmxlZCAhPT0gZmFsc2VcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAvLyBUT0RPIChUNDY1NDcwNDQpOiB1c2UgUmVhY3Qud2FybiBvbmNlIDE2LjkgaXMgc3luYydkOiBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QvcHVsbC8xNTE3MFxuICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAgICdWaXJ0dWFsaXplZExpc3RzIHNob3VsZCBuZXZlciBiZSBuZXN0ZWQgaW5zaWRlIHBsYWluIFNjcm9sbFZpZXdzIHdpdGggdGhlIHNhbWUgJyArXG4gICAgICAgICAgICAgICAgICAnb3JpZW50YXRpb24gYmVjYXVzZSBpdCBjYW4gYnJlYWsgd2luZG93aW5nIGFuZCBvdGhlciBmdW5jdGlvbmFsaXR5IC0gdXNlIGFub3RoZXIgJyArXG4gICAgICAgICAgICAgICAgICAnVmlydHVhbGl6ZWRMaXN0LWJhY2tlZCBjb250YWluZXIgaW5zdGVhZC4nLFxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB0aGlzLl9oYXNXYXJuZWQubmVzdGluZyA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gaW5uZXJSZXQ7XG4gICAgICAgICAgfX1cbiAgICAgICAgPC9TY3JvbGxWaWV3LkNvbnRleHQuQ29uc3VtZXI+XG4gICAgICApO1xuICAgIH1cbiAgICBpZiAodGhpcy5wcm9wcy5kZWJ1Zykge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPFZpZXcgc3R5bGU9e3N0eWxlcy5kZWJ1Z30+XG4gICAgICAgICAge3JldH1cbiAgICAgICAgICB7dGhpcy5fcmVuZGVyRGVidWdPdmVybGF5KCl9XG4gICAgICAgIDwvVmlldz5cbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiByZXQ7XG4gICAgfVxuICB9XG5cbiAgY29tcG9uZW50RGlkVXBkYXRlKHByZXZQcm9wczogUHJvcHMpIHtcbiAgICBjb25zdCB7ZGF0YSwgZXh0cmFEYXRhfSA9IHRoaXMucHJvcHM7XG4gICAgaWYgKGRhdGEgIT09IHByZXZQcm9wcy5kYXRhIHx8IGV4dHJhRGF0YSAhPT0gcHJldlByb3BzLmV4dHJhRGF0YSkge1xuICAgICAgLy8gY2xlYXIgdGhlIHZpZXdhYmxlSW5kaWNlcyBjYWNoZSB0byBhbHNvIHRyaWdnZXJcbiAgICAgIC8vIHRoZSBvblZpZXdhYmxlSXRlbXNDaGFuZ2VkIGNhbGxiYWNrIHdpdGggdGhlIG5ldyBkYXRhXG4gICAgICB0aGlzLl92aWV3YWJpbGl0eVR1cGxlcy5mb3JFYWNoKHR1cGxlID0+IHtcbiAgICAgICAgdHVwbGUudmlld2FiaWxpdHlIZWxwZXIucmVzZXRWaWV3YWJsZUluZGljZXMoKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICAvLyBUaGUgYHRoaXMuX2hpUHJpSW5Qcm9ncmVzc2AgaXMgZ3VhcmFudGVlaW5nIGEgaGlQcmkgY2VsbCB1cGRhdGUgd2lsbCBvbmx5IGhhcHBlblxuICAgIC8vIG9uY2UgcGVyIGZpYmVyIHVwZGF0ZS4gVGhlIGBfc2NoZWR1bGVDZWxsc1RvUmVuZGVyVXBkYXRlYCB3aWxsIHNldCBpdCB0byB0cnVlXG4gICAgLy8gaWYgYSBoaVByaSB1cGRhdGUgbmVlZHMgdG8gcGVyZm9ybS4gSWYgYGNvbXBvbmVudERpZFVwZGF0ZWAgaXMgdHJpZ2dlcmVkIHdpdGhcbiAgICAvLyBgdGhpcy5faGlQcmlJblByb2dyZXNzPXRydWVgLCBtZWFucyBpdCdzIHRyaWdnZXJlZCBieSB0aGUgaGlQcmkgdXBkYXRlLiBUaGVcbiAgICAvLyBgX3NjaGVkdWxlQ2VsbHNUb1JlbmRlclVwZGF0ZWAgd2lsbCBjaGVjayB0aGlzIGNvbmRpdGlvbiBhbmQgbm90IHBlcmZvcm1cbiAgICAvLyBhbm90aGVyIGhpUHJpIHVwZGF0ZS5cbiAgICBjb25zdCBoaVByaUluUHJvZ3Jlc3MgPSB0aGlzLl9oaVByaUluUHJvZ3Jlc3M7XG4gICAgdGhpcy5fc2NoZWR1bGVDZWxsc1RvUmVuZGVyVXBkYXRlKCk7XG4gICAgLy8gTWFrZSBzdXJlIHNldHRpbmcgYHRoaXMuX2hpUHJpSW5Qcm9ncmVzc2AgYmFjayB0byBmYWxzZSBhZnRlciBgY29tcG9uZW50RGlkVXBkYXRlYFxuICAgIC8vIGlzIHRyaWdnZXJlZCB3aXRoIGB0aGlzLl9oaVByaUluUHJvZ3Jlc3MgPSB0cnVlYFxuICAgIGlmIChoaVByaUluUHJvZ3Jlc3MpIHtcbiAgICAgIHRoaXMuX2hpUHJpSW5Qcm9ncmVzcyA9IGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIF9hdmVyYWdlQ2VsbExlbmd0aCA9IDA7XG4gIF9jZWxsUmVmczoge1tzdHJpbmddOiBudWxsIHwgQ2VsbFJlbmRlcmVyPGFueT59ID0ge307XG4gIF9maWxsUmF0ZUhlbHBlcjogRmlsbFJhdGVIZWxwZXI7XG4gIF9mcmFtZXM6IHtcbiAgICBbc3RyaW5nXToge1xuICAgICAgaW5MYXlvdXQ/OiBib29sZWFuLFxuICAgICAgaW5kZXg6IG51bWJlcixcbiAgICAgIGxlbmd0aDogbnVtYmVyLFxuICAgICAgb2Zmc2V0OiBudW1iZXIsXG4gICAgfSxcbiAgfSA9IHt9O1xuICBfZm9vdGVyTGVuZ3RoID0gMDtcbiAgLy8gVXNlZCBmb3IgcHJldmVudGluZyBzY3JvbGxUb0luZGV4IGZyb20gYmVpbmcgY2FsbGVkIG11bHRpcGxlIHRpbWVzIGZvciBpbml0aWFsU2Nyb2xsSW5kZXhcbiAgX2hhc1RyaWdnZXJlZEluaXRpYWxTY3JvbGxUb0luZGV4ID0gZmFsc2U7XG4gIF9oYXNJbnRlcmFjdGVkID0gZmFsc2U7XG4gIF9oYXNNb3JlID0gZmFsc2U7XG4gIF9oYXNXYXJuZWQ6IHtbc3RyaW5nXTogYm9vbGVhbn0gPSB7fTtcbiAgX2hlYWRlckxlbmd0aCA9IDA7XG4gIF9oaVByaUluUHJvZ3Jlc3M6IGJvb2xlYW4gPSBmYWxzZTsgLy8gZmxhZyB0byBwcmV2ZW50IGluZmluaXRlIGhpUHJpIGNlbGwgbGltaXQgdXBkYXRlXG4gIF9oaWdoZXN0TWVhc3VyZWRGcmFtZUluZGV4ID0gMDtcbiAgX2luZGljZXNUb0tleXM6IE1hcDxudW1iZXIsIHN0cmluZz4gPSBuZXcgTWFwKCk7XG4gIF9sYXN0Rm9jdXNlZENlbGxLZXk6ID9zdHJpbmcgPSBudWxsO1xuICBfbmVzdGVkQ2hpbGRMaXN0czogQ2hpbGRMaXN0Q29sbGVjdGlvbjxWaXJ0dWFsaXplZExpc3Q+ID1cbiAgICBuZXcgQ2hpbGRMaXN0Q29sbGVjdGlvbigpO1xuICBfb2Zmc2V0RnJvbVBhcmVudFZpcnR1YWxpemVkTGlzdDogbnVtYmVyID0gMDtcbiAgX3ByZXZQYXJlbnRPZmZzZXQ6IG51bWJlciA9IDA7XG4gIC8vICRGbG93Rml4TWVbbWlzc2luZy1sb2NhbC1hbm5vdF1cbiAgX3Njcm9sbE1ldHJpY3MgPSB7XG4gICAgY29udGVudExlbmd0aDogMCxcbiAgICBkT2Zmc2V0OiAwLFxuICAgIGR0OiAxMCxcbiAgICBvZmZzZXQ6IDAsXG4gICAgdGltZXN0YW1wOiAwLFxuICAgIHZlbG9jaXR5OiAwLFxuICAgIHZpc2libGVMZW5ndGg6IDAsXG4gICAgem9vbVNjYWxlOiAxLFxuICB9O1xuICBfc2Nyb2xsUmVmOiA/UmVhY3QuRWxlbWVudFJlZjxhbnk+ID0gbnVsbDtcbiAgX3NlbnRTdGFydEZvckNvbnRlbnRMZW5ndGggPSAwO1xuICBfc2VudEVuZEZvckNvbnRlbnRMZW5ndGggPSAwO1xuICBfdG90YWxDZWxsTGVuZ3RoID0gMDtcbiAgX3RvdGFsQ2VsbHNNZWFzdXJlZCA9IDA7XG4gIF91cGRhdGVDZWxsc1RvUmVuZGVyQmF0Y2hlcjogQmF0Y2hpbmF0b3I7XG4gIF92aWV3YWJpbGl0eVR1cGxlczogQXJyYXk8Vmlld2FiaWxpdHlIZWxwZXJDYWxsYmFja1R1cGxlPiA9IFtdO1xuXG4gIC8qICRGbG93Rml4TWVbbWlzc2luZy1sb2NhbC1hbm5vdF0gVGhlIHR5cGUgYW5ub3RhdGlvbihzKSByZXF1aXJlZCBieSBGbG93J3NcbiAgICogTFRJIHVwZGF0ZSBjb3VsZCBub3QgYmUgYWRkZWQgdmlhIGNvZGVtb2QgKi9cbiAgX2NhcHR1cmVTY3JvbGxSZWYgPSByZWYgPT4ge1xuICAgIHRoaXMuX3Njcm9sbFJlZiA9IHJlZjtcbiAgfTtcblxuICBfY29tcHV0ZUJsYW5rbmVzcygpIHtcbiAgICB0aGlzLl9maWxsUmF0ZUhlbHBlci5jb21wdXRlQmxhbmtuZXNzKFxuICAgICAgdGhpcy5wcm9wcyxcbiAgICAgIHRoaXMuc3RhdGUuY2VsbHNBcm91bmRWaWV3cG9ydCxcbiAgICAgIHRoaXMuX3Njcm9sbE1ldHJpY3MsXG4gICAgKTtcbiAgfVxuXG4gIC8qICRGbG93Rml4TWVbbWlzc2luZy1sb2NhbC1hbm5vdF0gVGhlIHR5cGUgYW5ub3RhdGlvbihzKSByZXF1aXJlZCBieSBGbG93J3NcbiAgICogTFRJIHVwZGF0ZSBjb3VsZCBub3QgYmUgYWRkZWQgdmlhIGNvZGVtb2QgKi9cbiAgX2RlZmF1bHRSZW5kZXJTY3JvbGxDb21wb25lbnQgPSBwcm9wcyA9PiB7XG4gICAgY29uc3Qgb25SZWZyZXNoID0gcHJvcHMub25SZWZyZXNoO1xuICAgIGlmICh0aGlzLl9pc05lc3RlZFdpdGhTYW1lT3JpZW50YXRpb24oKSkge1xuICAgICAgLy8gJEZsb3dGaXhNZVtwcm9wLW1pc3NpbmddIC0gVHlwaW5nIFJlYWN0TmF0aXZlQ29tcG9uZW50IHJldmVhbGVkIGVycm9yc1xuICAgICAgcmV0dXJuIDxWaWV3IHsuLi5wcm9wc30gLz47XG4gICAgfSBlbHNlIGlmIChvblJlZnJlc2gpIHtcbiAgICAgIGludmFyaWFudChcbiAgICAgICAgdHlwZW9mIHByb3BzLnJlZnJlc2hpbmcgPT09ICdib29sZWFuJyxcbiAgICAgICAgJ2ByZWZyZXNoaW5nYCBwcm9wIG11c3QgYmUgc2V0IGFzIGEgYm9vbGVhbiBpbiBvcmRlciB0byB1c2UgYG9uUmVmcmVzaGAsIGJ1dCBnb3QgYCcgK1xuICAgICAgICAgIEpTT04uc3RyaW5naWZ5KHByb3BzLnJlZnJlc2hpbmcgPz8gJ3VuZGVmaW5lZCcpICtcbiAgICAgICAgICAnYCcsXG4gICAgICApO1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgLy8gJEZsb3dGaXhNZVtwcm9wLW1pc3NpbmddIEludmFsaWQgcHJvcCB1c2FnZVxuICAgICAgICAvLyAkRmxvd0ZpeE1lW2luY29tcGF0aWJsZS11c2VdXG4gICAgICAgIDxTY3JvbGxWaWV3XG4gICAgICAgICAgey4uLnByb3BzfVxuICAgICAgICAgIHJlZnJlc2hDb250cm9sPXtcbiAgICAgICAgICAgIHByb3BzLnJlZnJlc2hDb250cm9sID09IG51bGwgPyAoXG4gICAgICAgICAgICAgIDxSZWZyZXNoQ29udHJvbFxuICAgICAgICAgICAgICAgIC8vICRGbG93Rml4TWVbaW5jb21wYXRpYmxlLXR5cGVdXG4gICAgICAgICAgICAgICAgcmVmcmVzaGluZz17cHJvcHMucmVmcmVzaGluZ31cbiAgICAgICAgICAgICAgICBvblJlZnJlc2g9e29uUmVmcmVzaH1cbiAgICAgICAgICAgICAgICBwcm9ncmVzc1ZpZXdPZmZzZXQ9e3Byb3BzLnByb2dyZXNzVmlld09mZnNldH1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgIHByb3BzLnJlZnJlc2hDb250cm9sXG4gICAgICAgICAgICApXG4gICAgICAgICAgfVxuICAgICAgICAvPlxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gJEZsb3dGaXhNZVtwcm9wLW1pc3NpbmddIEludmFsaWQgcHJvcCB1c2FnZVxuICAgICAgLy8gJEZsb3dGaXhNZVtpbmNvbXBhdGlibGUtdXNlXVxuICAgICAgcmV0dXJuIDxTY3JvbGxWaWV3IHsuLi5wcm9wc30gLz47XG4gICAgfVxuICB9O1xuXG4gIF9vbkNlbGxMYXlvdXQgPSAoZTogTGF5b3V0RXZlbnQsIGNlbGxLZXk6IHN0cmluZywgaW5kZXg6IG51bWJlcik6IHZvaWQgPT4ge1xuICAgIGNvbnN0IGxheW91dCA9IGUubmF0aXZlRXZlbnQubGF5b3V0O1xuICAgIGNvbnN0IG5leHQgPSB7XG4gICAgICBvZmZzZXQ6IHRoaXMuX3NlbGVjdE9mZnNldChsYXlvdXQpLFxuICAgICAgbGVuZ3RoOiB0aGlzLl9zZWxlY3RMZW5ndGgobGF5b3V0KSxcbiAgICAgIGluZGV4LFxuICAgICAgaW5MYXlvdXQ6IHRydWUsXG4gICAgfTtcbiAgICBjb25zdCBjdXJyID0gdGhpcy5fZnJhbWVzW2NlbGxLZXldO1xuICAgIGlmIChcbiAgICAgICFjdXJyIHx8XG4gICAgICBuZXh0Lm9mZnNldCAhPT0gY3Vyci5vZmZzZXQgfHxcbiAgICAgIG5leHQubGVuZ3RoICE9PSBjdXJyLmxlbmd0aCB8fFxuICAgICAgaW5kZXggIT09IGN1cnIuaW5kZXhcbiAgICApIHtcbiAgICAgIHRoaXMuX3RvdGFsQ2VsbExlbmd0aCArPSBuZXh0Lmxlbmd0aCAtIChjdXJyID8gY3Vyci5sZW5ndGggOiAwKTtcbiAgICAgIHRoaXMuX3RvdGFsQ2VsbHNNZWFzdXJlZCArPSBjdXJyID8gMCA6IDE7XG4gICAgICB0aGlzLl9hdmVyYWdlQ2VsbExlbmd0aCA9XG4gICAgICAgIHRoaXMuX3RvdGFsQ2VsbExlbmd0aCAvIHRoaXMuX3RvdGFsQ2VsbHNNZWFzdXJlZDtcbiAgICAgIHRoaXMuX2ZyYW1lc1tjZWxsS2V5XSA9IG5leHQ7XG4gICAgICB0aGlzLl9oaWdoZXN0TWVhc3VyZWRGcmFtZUluZGV4ID0gTWF0aC5tYXgoXG4gICAgICAgIHRoaXMuX2hpZ2hlc3RNZWFzdXJlZEZyYW1lSW5kZXgsXG4gICAgICAgIGluZGV4LFxuICAgICAgKTtcbiAgICAgIHRoaXMuX3NjaGVkdWxlQ2VsbHNUb1JlbmRlclVwZGF0ZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9mcmFtZXNbY2VsbEtleV0uaW5MYXlvdXQgPSB0cnVlO1xuICAgIH1cblxuICAgIHRoaXMuX3RyaWdnZXJSZW1lYXN1cmVGb3JDaGlsZExpc3RzSW5DZWxsKGNlbGxLZXkpO1xuXG4gICAgdGhpcy5fY29tcHV0ZUJsYW5rbmVzcygpO1xuICAgIHRoaXMuX3VwZGF0ZVZpZXdhYmxlSXRlbXModGhpcy5wcm9wcywgdGhpcy5zdGF0ZS5jZWxsc0Fyb3VuZFZpZXdwb3J0KTtcbiAgfTtcblxuICBfb25DZWxsRm9jdXNDYXB0dXJlKGNlbGxLZXk6IHN0cmluZykge1xuICAgIHRoaXMuX2xhc3RGb2N1c2VkQ2VsbEtleSA9IGNlbGxLZXk7XG4gICAgdGhpcy5fdXBkYXRlQ2VsbHNUb1JlbmRlcigpO1xuICB9XG5cbiAgX29uQ2VsbFVubW91bnQgPSAoY2VsbEtleTogc3RyaW5nKSA9PiB7XG4gICAgZGVsZXRlIHRoaXMuX2NlbGxSZWZzW2NlbGxLZXldO1xuICAgIGNvbnN0IGN1cnIgPSB0aGlzLl9mcmFtZXNbY2VsbEtleV07XG4gICAgaWYgKGN1cnIpIHtcbiAgICAgIHRoaXMuX2ZyYW1lc1tjZWxsS2V5XSA9IHsuLi5jdXJyLCBpbkxheW91dDogZmFsc2V9O1xuICAgIH1cbiAgfTtcblxuICBfdHJpZ2dlclJlbWVhc3VyZUZvckNoaWxkTGlzdHNJbkNlbGwoY2VsbEtleTogc3RyaW5nKTogdm9pZCB7XG4gICAgdGhpcy5fbmVzdGVkQ2hpbGRMaXN0cy5mb3JFYWNoSW5DZWxsKGNlbGxLZXksIGNoaWxkTGlzdCA9PiB7XG4gICAgICBjaGlsZExpc3QubWVhc3VyZUxheW91dFJlbGF0aXZlVG9Db250YWluaW5nTGlzdCgpO1xuICAgIH0pO1xuICB9XG5cbiAgbWVhc3VyZUxheW91dFJlbGF0aXZlVG9Db250YWluaW5nTGlzdCgpOiB2b2lkIHtcbiAgICAvLyBUT0RPIChUMzU1NzQ1MzgpOiBmaW5kTm9kZUhhbmRsZSBzb21ldGltZXMgY3Jhc2hlcyB3aXRoIFwiVW5hYmxlIHRvIGZpbmRcbiAgICAvLyBub2RlIG9uIGFuIHVubW91bnRlZCBjb21wb25lbnRcIiBkdXJpbmcgc2Nyb2xsaW5nXG4gICAgdHJ5IHtcbiAgICAgIGlmICghdGhpcy5fc2Nyb2xsUmVmKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIC8vIFdlIGFyZSBhc3N1bWluZyB0aGF0IGdldE91dGVybW9zdFBhcmVudExpc3RSZWYoKS5nZXRTY3JvbGxSZWYoKVxuICAgICAgLy8gaXMgYSBub24tbnVsbCByZWZlcmVuY2UgdG8gYSBTY3JvbGxWaWV3XG4gICAgICB0aGlzLl9zY3JvbGxSZWYubWVhc3VyZUxheW91dChcbiAgICAgICAgdGhpcy5jb250ZXh0LmdldE91dGVybW9zdFBhcmVudExpc3RSZWYoKS5nZXRTY3JvbGxSZWYoKSxcbiAgICAgICAgKHgsIHksIHdpZHRoLCBoZWlnaHQpID0+IHtcbiAgICAgICAgICB0aGlzLl9vZmZzZXRGcm9tUGFyZW50VmlydHVhbGl6ZWRMaXN0ID0gdGhpcy5fc2VsZWN0T2Zmc2V0KHt4LCB5fSk7XG4gICAgICAgICAgdGhpcy5fc2Nyb2xsTWV0cmljcy5jb250ZW50TGVuZ3RoID0gdGhpcy5fc2VsZWN0TGVuZ3RoKHtcbiAgICAgICAgICAgIHdpZHRoLFxuICAgICAgICAgICAgaGVpZ2h0LFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGNvbnN0IHNjcm9sbE1ldHJpY3MgPSB0aGlzLl9jb252ZXJ0UGFyZW50U2Nyb2xsTWV0cmljcyhcbiAgICAgICAgICAgIHRoaXMuY29udGV4dC5nZXRTY3JvbGxNZXRyaWNzKCksXG4gICAgICAgICAgKTtcblxuICAgICAgICAgIGNvbnN0IG1ldHJpY3NDaGFuZ2VkID1cbiAgICAgICAgICAgIHRoaXMuX3Njcm9sbE1ldHJpY3MudmlzaWJsZUxlbmd0aCAhPT0gc2Nyb2xsTWV0cmljcy52aXNpYmxlTGVuZ3RoIHx8XG4gICAgICAgICAgICB0aGlzLl9zY3JvbGxNZXRyaWNzLm9mZnNldCAhPT0gc2Nyb2xsTWV0cmljcy5vZmZzZXQ7XG5cbiAgICAgICAgICBpZiAobWV0cmljc0NoYW5nZWQpIHtcbiAgICAgICAgICAgIHRoaXMuX3Njcm9sbE1ldHJpY3MudmlzaWJsZUxlbmd0aCA9IHNjcm9sbE1ldHJpY3MudmlzaWJsZUxlbmd0aDtcbiAgICAgICAgICAgIHRoaXMuX3Njcm9sbE1ldHJpY3Mub2Zmc2V0ID0gc2Nyb2xsTWV0cmljcy5vZmZzZXQ7XG5cbiAgICAgICAgICAgIC8vIElmIG1ldHJpY3Mgb2YgdGhlIHNjcm9sbFZpZXcgY2hhbmdlZCwgdGhlbiB3ZSB0cmlnZ2VyZWQgcmVtZWFzdXJlIGZvciBjaGlsZCBsaXN0XG4gICAgICAgICAgICAvLyB0byBlbnN1cmUgVmlydHVhbGl6ZWRMaXN0IGhhcyB0aGUgcmlnaHQgaW5mb3JtYXRpb24uXG4gICAgICAgICAgICB0aGlzLl9uZXN0ZWRDaGlsZExpc3RzLmZvckVhY2goY2hpbGRMaXN0ID0+IHtcbiAgICAgICAgICAgICAgY2hpbGRMaXN0Lm1lYXN1cmVMYXlvdXRSZWxhdGl2ZVRvQ29udGFpbmluZ0xpc3QoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZXJyb3IgPT4ge1xuICAgICAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgICAgIFwiVmlydHVhbGl6ZWRMaXN0OiBFbmNvdW50ZXJlZCBhbiBlcnJvciB3aGlsZSBtZWFzdXJpbmcgYSBsaXN0J3NcIiArXG4gICAgICAgICAgICAgICcgb2Zmc2V0IGZyb20gaXRzIGNvbnRhaW5pbmcgVmlydHVhbGl6ZWRMaXN0LicsXG4gICAgICAgICAgKTtcbiAgICAgICAgfSxcbiAgICAgICk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgJ21lYXN1cmVMYXlvdXRSZWxhdGl2ZVRvQ29udGFpbmluZ0xpc3QgdGhyZXcgYW4gZXJyb3InLFxuICAgICAgICBlcnJvci5zdGFjayxcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgX29uTGF5b3V0ID0gKGU6IExheW91dEV2ZW50KSA9PiB7XG4gICAgaWYgKHRoaXMuX2lzTmVzdGVkV2l0aFNhbWVPcmllbnRhdGlvbigpKSB7XG4gICAgICAvLyBOZWVkIHRvIGFkanVzdCBvdXIgc2Nyb2xsIG1ldHJpY3MgdG8gYmUgcmVsYXRpdmUgdG8gb3VyIGNvbnRhaW5pbmdcbiAgICAgIC8vIFZpcnR1YWxpemVkTGlzdCBiZWZvcmUgd2UgY2FuIG1ha2UgY2xhaW1zIGFib3V0IGxpc3QgaXRlbSB2aWV3YWJpbGl0eVxuICAgICAgdGhpcy5tZWFzdXJlTGF5b3V0UmVsYXRpdmVUb0NvbnRhaW5pbmdMaXN0KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX3Njcm9sbE1ldHJpY3MudmlzaWJsZUxlbmd0aCA9IHRoaXMuX3NlbGVjdExlbmd0aChcbiAgICAgICAgZS5uYXRpdmVFdmVudC5sYXlvdXQsXG4gICAgICApO1xuICAgIH1cbiAgICB0aGlzLnByb3BzLm9uTGF5b3V0ICYmIHRoaXMucHJvcHMub25MYXlvdXQoZSk7XG4gICAgdGhpcy5fc2NoZWR1bGVDZWxsc1RvUmVuZGVyVXBkYXRlKCk7XG4gICAgdGhpcy5fbWF5YmVDYWxsT25FZGdlUmVhY2hlZCgpO1xuICB9O1xuXG4gIF9vbkxheW91dEVtcHR5ID0gKGU6IExheW91dEV2ZW50KSA9PiB7XG4gICAgdGhpcy5wcm9wcy5vbkxheW91dCAmJiB0aGlzLnByb3BzLm9uTGF5b3V0KGUpO1xuICB9O1xuXG4gIF9nZXRGb290ZXJDZWxsS2V5KCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuX2dldENlbGxLZXkoKSArICctZm9vdGVyJztcbiAgfVxuXG4gIF9vbkxheW91dEZvb3RlciA9IChlOiBMYXlvdXRFdmVudCkgPT4ge1xuICAgIHRoaXMuX3RyaWdnZXJSZW1lYXN1cmVGb3JDaGlsZExpc3RzSW5DZWxsKHRoaXMuX2dldEZvb3RlckNlbGxLZXkoKSk7XG4gICAgdGhpcy5fZm9vdGVyTGVuZ3RoID0gdGhpcy5fc2VsZWN0TGVuZ3RoKGUubmF0aXZlRXZlbnQubGF5b3V0KTtcbiAgfTtcblxuICBfb25MYXlvdXRIZWFkZXIgPSAoZTogTGF5b3V0RXZlbnQpID0+IHtcbiAgICB0aGlzLl9oZWFkZXJMZW5ndGggPSB0aGlzLl9zZWxlY3RMZW5ndGgoZS5uYXRpdmVFdmVudC5sYXlvdXQpO1xuICB9O1xuXG4gIC8vICRGbG93Rml4TWVbbWlzc2luZy1sb2NhbC1hbm5vdF1cbiAgX3JlbmRlckRlYnVnT3ZlcmxheSgpIHtcbiAgICBjb25zdCBub3JtYWxpemUgPVxuICAgICAgdGhpcy5fc2Nyb2xsTWV0cmljcy52aXNpYmxlTGVuZ3RoIC9cbiAgICAgICh0aGlzLl9zY3JvbGxNZXRyaWNzLmNvbnRlbnRMZW5ndGggfHwgMSk7XG4gICAgY29uc3QgZnJhbWVzSW5MYXlvdXQgPSBbXTtcbiAgICBjb25zdCBpdGVtQ291bnQgPSB0aGlzLnByb3BzLmdldEl0ZW1Db3VudCh0aGlzLnByb3BzLmRhdGEpO1xuICAgIGZvciAobGV0IGlpID0gMDsgaWkgPCBpdGVtQ291bnQ7IGlpKyspIHtcbiAgICAgIGNvbnN0IGZyYW1lID0gdGhpcy5fX2dldEZyYW1lTWV0cmljc0FwcHJveChpaSwgdGhpcy5wcm9wcyk7XG4gICAgICAvKiAkRmxvd0ZpeE1lW3Byb3AtbWlzc2luZ10gKD49MC42OC4wIHNpdGU9cmVhY3RfbmF0aXZlX2ZiKSBUaGlzIGNvbW1lbnRcbiAgICAgICAqIHN1cHByZXNzZXMgYW4gZXJyb3IgZm91bmQgd2hlbiBGbG93IHYwLjY4IHdhcyBkZXBsb3llZC4gVG8gc2VlIHRoZVxuICAgICAgICogZXJyb3IgZGVsZXRlIHRoaXMgY29tbWVudCBhbmQgcnVuIEZsb3cuICovXG4gICAgICBpZiAoZnJhbWUuaW5MYXlvdXQpIHtcbiAgICAgICAgZnJhbWVzSW5MYXlvdXQucHVzaChmcmFtZSk7XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IHdpbmRvd1RvcCA9IHRoaXMuX19nZXRGcmFtZU1ldHJpY3NBcHByb3goXG4gICAgICB0aGlzLnN0YXRlLmNlbGxzQXJvdW5kVmlld3BvcnQuZmlyc3QsXG4gICAgICB0aGlzLnByb3BzLFxuICAgICkub2Zmc2V0O1xuICAgIGNvbnN0IGZyYW1lTGFzdCA9IHRoaXMuX19nZXRGcmFtZU1ldHJpY3NBcHByb3goXG4gICAgICB0aGlzLnN0YXRlLmNlbGxzQXJvdW5kVmlld3BvcnQubGFzdCxcbiAgICAgIHRoaXMucHJvcHMsXG4gICAgKTtcbiAgICBjb25zdCB3aW5kb3dMZW4gPSBmcmFtZUxhc3Qub2Zmc2V0ICsgZnJhbWVMYXN0Lmxlbmd0aCAtIHdpbmRvd1RvcDtcbiAgICBjb25zdCB2aXNUb3AgPSB0aGlzLl9zY3JvbGxNZXRyaWNzLm9mZnNldDtcbiAgICBjb25zdCB2aXNMZW4gPSB0aGlzLl9zY3JvbGxNZXRyaWNzLnZpc2libGVMZW5ndGg7XG5cbiAgICByZXR1cm4gKFxuICAgICAgPFZpZXcgc3R5bGU9e1tzdHlsZXMuZGVidWdPdmVybGF5QmFzZSwgc3R5bGVzLmRlYnVnT3ZlcmxheV19PlxuICAgICAgICB7ZnJhbWVzSW5MYXlvdXQubWFwKChmLCBpaSkgPT4gKFxuICAgICAgICAgIDxWaWV3XG4gICAgICAgICAgICBrZXk9eydmJyArIGlpfVxuICAgICAgICAgICAgc3R5bGU9e1tcbiAgICAgICAgICAgICAgc3R5bGVzLmRlYnVnT3ZlcmxheUJhc2UsXG4gICAgICAgICAgICAgIHN0eWxlcy5kZWJ1Z092ZXJsYXlGcmFtZSxcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRvcDogZi5vZmZzZXQgKiBub3JtYWxpemUsXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiBmLmxlbmd0aCAqIG5vcm1hbGl6ZSxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF19XG4gICAgICAgICAgLz5cbiAgICAgICAgKSl9XG4gICAgICAgIDxWaWV3XG4gICAgICAgICAgc3R5bGU9e1tcbiAgICAgICAgICAgIHN0eWxlcy5kZWJ1Z092ZXJsYXlCYXNlLFxuICAgICAgICAgICAgc3R5bGVzLmRlYnVnT3ZlcmxheUZyYW1lTGFzdCxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgdG9wOiB3aW5kb3dUb3AgKiBub3JtYWxpemUsXG4gICAgICAgICAgICAgIGhlaWdodDogd2luZG93TGVuICogbm9ybWFsaXplLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICBdfVxuICAgICAgICAvPlxuICAgICAgICA8Vmlld1xuICAgICAgICAgIHN0eWxlPXtbXG4gICAgICAgICAgICBzdHlsZXMuZGVidWdPdmVybGF5QmFzZSxcbiAgICAgICAgICAgIHN0eWxlcy5kZWJ1Z092ZXJsYXlGcmFtZVZpcyxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgdG9wOiB2aXNUb3AgKiBub3JtYWxpemUsXG4gICAgICAgICAgICAgIGhlaWdodDogdmlzTGVuICogbm9ybWFsaXplLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICBdfVxuICAgICAgICAvPlxuICAgICAgPC9WaWV3PlxuICAgICk7XG4gIH1cblxuICBfc2VsZWN0TGVuZ3RoKFxuICAgIG1ldHJpY3M6ICRSZWFkT25seTx7XG4gICAgICBoZWlnaHQ6IG51bWJlcixcbiAgICAgIHdpZHRoOiBudW1iZXIsXG4gICAgICAuLi5cbiAgICB9PixcbiAgKTogbnVtYmVyIHtcbiAgICByZXR1cm4gIWhvcml6b250YWxPckRlZmF1bHQodGhpcy5wcm9wcy5ob3Jpem9udGFsKVxuICAgICAgPyBtZXRyaWNzLmhlaWdodFxuICAgICAgOiBtZXRyaWNzLndpZHRoO1xuICB9XG5cbiAgX3NlbGVjdE9mZnNldChcbiAgICBtZXRyaWNzOiAkUmVhZE9ubHk8e1xuICAgICAgeDogbnVtYmVyLFxuICAgICAgeTogbnVtYmVyLFxuICAgICAgLi4uXG4gICAgfT4sXG4gICk6IG51bWJlciB7XG4gICAgcmV0dXJuICFob3Jpem9udGFsT3JEZWZhdWx0KHRoaXMucHJvcHMuaG9yaXpvbnRhbCkgPyBtZXRyaWNzLnkgOiBtZXRyaWNzLng7XG4gIH1cblxuICBfbWF5YmVDYWxsT25FZGdlUmVhY2hlZCgpIHtcbiAgICBjb25zdCB7XG4gICAgICBkYXRhLFxuICAgICAgZ2V0SXRlbUNvdW50LFxuICAgICAgb25TdGFydFJlYWNoZWQsXG4gICAgICBvblN0YXJ0UmVhY2hlZFRocmVzaG9sZCxcbiAgICAgIG9uRW5kUmVhY2hlZCxcbiAgICAgIG9uRW5kUmVhY2hlZFRocmVzaG9sZCxcbiAgICB9ID0gdGhpcy5wcm9wcztcbiAgICAvLyBJZiB3ZSBoYXZlIGFueSBwZW5kaW5nIHNjcm9sbCB1cGRhdGVzIGl0IG1lYW5zIHRoYXQgdGhlIHNjcm9sbCBtZXRyaWNzXG4gICAgLy8gYXJlIG91dCBvZiBkYXRlIGFuZCB3ZSBzaG91bGQgbm90IGNhbGwgYW55IG9mIHRoZSBlZGdlIHJlYWNoZWQgY2FsbGJhY2tzLlxuICAgIGlmICh0aGlzLnN0YXRlLnBlbmRpbmdTY3JvbGxVcGRhdGVDb3VudCA+IDApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCB7Y29udGVudExlbmd0aCwgdmlzaWJsZUxlbmd0aCwgb2Zmc2V0fSA9IHRoaXMuX3Njcm9sbE1ldHJpY3M7XG4gICAgbGV0IGRpc3RhbmNlRnJvbVN0YXJ0ID0gb2Zmc2V0O1xuICAgIGxldCBkaXN0YW5jZUZyb21FbmQgPSBjb250ZW50TGVuZ3RoIC0gdmlzaWJsZUxlbmd0aCAtIG9mZnNldDtcblxuICAgIC8vIEVzcGVjaWFsbHkgd2hlbiBvRVJUIGlzIHplcm8gaXQncyBuZWNlc3NhcnkgdG8gJ2Zsb29yJyB2ZXJ5IHNtYWxsIGRpc3RhbmNlIHZhbHVlcyB0byBiZSAwXG4gICAgLy8gc2luY2UgZGVib3VuY2luZyBjYXVzZXMgdXMgdG8gbm90IGZpcmUgdGhpcyBldmVudCBmb3IgZXZlcnkgc2luZ2xlIFwicGl4ZWxcIiB3ZSBzY3JvbGwgYW5kIGNhbiB0aHVzXG4gICAgLy8gYmUgYXQgdGhlIGVkZ2Ugb2YgdGhlIGxpc3Qgd2l0aCBhIGRpc3RhbmNlIGFwcHJveGltYXRpbmcgMCBidXQgbm90IHF1aXRlIHRoZXJlLlxuICAgIGlmIChkaXN0YW5jZUZyb21TdGFydCA8IE9OX0VER0VfUkVBQ0hFRF9FUFNJTE9OKSB7XG4gICAgICBkaXN0YW5jZUZyb21TdGFydCA9IDA7XG4gICAgfVxuICAgIGlmIChkaXN0YW5jZUZyb21FbmQgPCBPTl9FREdFX1JFQUNIRURfRVBTSUxPTikge1xuICAgICAgZGlzdGFuY2VGcm9tRW5kID0gMDtcbiAgICB9XG5cbiAgICAvLyBUT0RPOiBUMTIxMTcyMTcyIExvb2sgaW50byB3aHkgd2UncmUgXCJkZWZhdWx0aW5nXCIgdG8gYSB0aHJlc2hvbGQgb2YgMnB4XG4gICAgLy8gd2hlbiBvRVJUIGlzIG5vdCBwcmVzZW50IChkaWZmZXJlbnQgZnJvbSAyIHZpZXdwb3J0cyB1c2VkIGVsc2V3aGVyZSlcbiAgICBjb25zdCBERUZBVUxUX1RIUkVTSE9MRF9QWCA9IDI7XG5cbiAgICBjb25zdCBzdGFydFRocmVzaG9sZCA9XG4gICAgICBvblN0YXJ0UmVhY2hlZFRocmVzaG9sZCAhPSBudWxsXG4gICAgICAgID8gb25TdGFydFJlYWNoZWRUaHJlc2hvbGQgKiB2aXNpYmxlTGVuZ3RoXG4gICAgICAgIDogREVGQVVMVF9USFJFU0hPTERfUFg7XG4gICAgY29uc3QgZW5kVGhyZXNob2xkID1cbiAgICAgIG9uRW5kUmVhY2hlZFRocmVzaG9sZCAhPSBudWxsXG4gICAgICAgID8gb25FbmRSZWFjaGVkVGhyZXNob2xkICogdmlzaWJsZUxlbmd0aFxuICAgICAgICA6IERFRkFVTFRfVEhSRVNIT0xEX1BYO1xuICAgIGNvbnN0IGlzV2l0aGluU3RhcnRUaHJlc2hvbGQgPSBkaXN0YW5jZUZyb21TdGFydCA8PSBzdGFydFRocmVzaG9sZDtcbiAgICBjb25zdCBpc1dpdGhpbkVuZFRocmVzaG9sZCA9IGRpc3RhbmNlRnJvbUVuZCA8PSBlbmRUaHJlc2hvbGQ7XG5cbiAgICAvLyBGaXJzdCBjaGVjayBpZiB0aGUgdXNlciBqdXN0IHNjcm9sbGVkIHdpdGhpbiB0aGUgZW5kIHRocmVzaG9sZFxuICAgIC8vIGFuZCBjYWxsIG9uRW5kUmVhY2hlZCBvbmx5IG9uY2UgZm9yIGEgZ2l2ZW4gY29udGVudCBsZW5ndGgsXG4gICAgLy8gYW5kIG9ubHkgaWYgb25TdGFydFJlYWNoZWQgaXMgbm90IGJlaW5nIGV4ZWN1dGVkXG4gICAgaWYgKFxuICAgICAgb25FbmRSZWFjaGVkICYmXG4gICAgICB0aGlzLnN0YXRlLmNlbGxzQXJvdW5kVmlld3BvcnQubGFzdCA9PT0gZ2V0SXRlbUNvdW50KGRhdGEpIC0gMSAmJlxuICAgICAgaXNXaXRoaW5FbmRUaHJlc2hvbGQgJiZcbiAgICAgIHRoaXMuX3Njcm9sbE1ldHJpY3MuY29udGVudExlbmd0aCAhPT0gdGhpcy5fc2VudEVuZEZvckNvbnRlbnRMZW5ndGhcbiAgICApIHtcbiAgICAgIHRoaXMuX3NlbnRFbmRGb3JDb250ZW50TGVuZ3RoID0gdGhpcy5fc2Nyb2xsTWV0cmljcy5jb250ZW50TGVuZ3RoO1xuICAgICAgb25FbmRSZWFjaGVkKHtkaXN0YW5jZUZyb21FbmR9KTtcbiAgICB9XG5cbiAgICAvLyBOZXh0IGNoZWNrIGlmIHRoZSB1c2VyIGp1c3Qgc2Nyb2xsZWQgd2l0aGluIHRoZSBzdGFydCB0aHJlc2hvbGRcbiAgICAvLyBhbmQgY2FsbCBvblN0YXJ0UmVhY2hlZCBvbmx5IG9uY2UgZm9yIGEgZ2l2ZW4gY29udGVudCBsZW5ndGgsXG4gICAgLy8gYW5kIG9ubHkgaWYgb25FbmRSZWFjaGVkIGlzIG5vdCBiZWluZyBleGVjdXRlZFxuICAgIGVsc2UgaWYgKFxuICAgICAgb25TdGFydFJlYWNoZWQgIT0gbnVsbCAmJlxuICAgICAgdGhpcy5zdGF0ZS5jZWxsc0Fyb3VuZFZpZXdwb3J0LmZpcnN0ID09PSAwICYmXG4gICAgICBpc1dpdGhpblN0YXJ0VGhyZXNob2xkICYmXG4gICAgICB0aGlzLl9zY3JvbGxNZXRyaWNzLmNvbnRlbnRMZW5ndGggIT09IHRoaXMuX3NlbnRTdGFydEZvckNvbnRlbnRMZW5ndGhcbiAgICApIHtcbiAgICAgIHRoaXMuX3NlbnRTdGFydEZvckNvbnRlbnRMZW5ndGggPSB0aGlzLl9zY3JvbGxNZXRyaWNzLmNvbnRlbnRMZW5ndGg7XG4gICAgICBvblN0YXJ0UmVhY2hlZCh7ZGlzdGFuY2VGcm9tU3RhcnR9KTtcbiAgICB9XG5cbiAgICAvLyBJZiB0aGUgdXNlciBzY3JvbGxzIGF3YXkgZnJvbSB0aGUgc3RhcnQgb3IgZW5kIGFuZCBiYWNrIGFnYWluLFxuICAgIC8vIGNhdXNlIG9uU3RhcnRSZWFjaGVkIG9yIG9uRW5kUmVhY2hlZCB0byBiZSB0cmlnZ2VyZWQgYWdhaW5cbiAgICBlbHNlIHtcbiAgICAgIHRoaXMuX3NlbnRTdGFydEZvckNvbnRlbnRMZW5ndGggPSBpc1dpdGhpblN0YXJ0VGhyZXNob2xkXG4gICAgICAgID8gdGhpcy5fc2VudFN0YXJ0Rm9yQ29udGVudExlbmd0aFxuICAgICAgICA6IDA7XG4gICAgICB0aGlzLl9zZW50RW5kRm9yQ29udGVudExlbmd0aCA9IGlzV2l0aGluRW5kVGhyZXNob2xkXG4gICAgICAgID8gdGhpcy5fc2VudEVuZEZvckNvbnRlbnRMZW5ndGhcbiAgICAgICAgOiAwO1xuICAgIH1cbiAgfVxuXG4gIF9vbkNvbnRlbnRTaXplQ2hhbmdlID0gKHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyKSA9PiB7XG4gICAgaWYgKFxuICAgICAgd2lkdGggPiAwICYmXG4gICAgICBoZWlnaHQgPiAwICYmXG4gICAgICB0aGlzLnByb3BzLmluaXRpYWxTY3JvbGxJbmRleCAhPSBudWxsICYmXG4gICAgICB0aGlzLnByb3BzLmluaXRpYWxTY3JvbGxJbmRleCA+IDAgJiZcbiAgICAgICF0aGlzLl9oYXNUcmlnZ2VyZWRJbml0aWFsU2Nyb2xsVG9JbmRleFxuICAgICkge1xuICAgICAgaWYgKHRoaXMucHJvcHMuY29udGVudE9mZnNldCA9PSBudWxsKSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICB0aGlzLnByb3BzLmluaXRpYWxTY3JvbGxJbmRleCA8XG4gICAgICAgICAgdGhpcy5wcm9wcy5nZXRJdGVtQ291bnQodGhpcy5wcm9wcy5kYXRhKVxuICAgICAgICApIHtcbiAgICAgICAgICB0aGlzLnNjcm9sbFRvSW5kZXgoe1xuICAgICAgICAgICAgYW5pbWF0ZWQ6IGZhbHNlLFxuICAgICAgICAgICAgaW5kZXg6IG51bGx0aHJvd3ModGhpcy5wcm9wcy5pbml0aWFsU2Nyb2xsSW5kZXgpLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuc2Nyb2xsVG9FbmQoe2FuaW1hdGVkOiBmYWxzZX0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB0aGlzLl9oYXNUcmlnZ2VyZWRJbml0aWFsU2Nyb2xsVG9JbmRleCA9IHRydWU7XG4gICAgfVxuICAgIGlmICh0aGlzLnByb3BzLm9uQ29udGVudFNpemVDaGFuZ2UpIHtcbiAgICAgIHRoaXMucHJvcHMub25Db250ZW50U2l6ZUNoYW5nZSh3aWR0aCwgaGVpZ2h0KTtcbiAgICB9XG4gICAgdGhpcy5fc2Nyb2xsTWV0cmljcy5jb250ZW50TGVuZ3RoID0gdGhpcy5fc2VsZWN0TGVuZ3RoKHtoZWlnaHQsIHdpZHRofSk7XG4gICAgdGhpcy5fc2NoZWR1bGVDZWxsc1RvUmVuZGVyVXBkYXRlKCk7XG4gICAgdGhpcy5fbWF5YmVDYWxsT25FZGdlUmVhY2hlZCgpO1xuICB9O1xuXG4gIC8qIFRyYW5zbGF0ZXMgbWV0cmljcyBmcm9tIGEgc2Nyb2xsIGV2ZW50IGluIGEgcGFyZW50IFZpcnR1YWxpemVkTGlzdCBpbnRvXG4gICAqIGNvb3JkaW5hdGVzIHJlbGF0aXZlIHRvIHRoZSBjaGlsZCBsaXN0LlxuICAgKi9cbiAgX2NvbnZlcnRQYXJlbnRTY3JvbGxNZXRyaWNzID0gKG1ldHJpY3M6IHtcbiAgICB2aXNpYmxlTGVuZ3RoOiBudW1iZXIsXG4gICAgb2Zmc2V0OiBudW1iZXIsXG4gICAgLi4uXG4gIH0pOiAkRmxvd0ZpeE1lID0+IHtcbiAgICAvLyBPZmZzZXQgb2YgdGhlIHRvcCBvZiB0aGUgbmVzdGVkIGxpc3QgcmVsYXRpdmUgdG8gdGhlIHRvcCBvZiBpdHMgcGFyZW50J3Mgdmlld3BvcnRcbiAgICBjb25zdCBvZmZzZXQgPSBtZXRyaWNzLm9mZnNldCAtIHRoaXMuX29mZnNldEZyb21QYXJlbnRWaXJ0dWFsaXplZExpc3Q7XG4gICAgLy8gQ2hpbGQncyB2aXNpYmxlIGxlbmd0aCBpcyB0aGUgc2FtZSBhcyBpdHMgcGFyZW50J3NcbiAgICBjb25zdCB2aXNpYmxlTGVuZ3RoID0gbWV0cmljcy52aXNpYmxlTGVuZ3RoO1xuICAgIGNvbnN0IGRPZmZzZXQgPSBvZmZzZXQgLSB0aGlzLl9zY3JvbGxNZXRyaWNzLm9mZnNldDtcbiAgICBjb25zdCBjb250ZW50TGVuZ3RoID0gdGhpcy5fc2Nyb2xsTWV0cmljcy5jb250ZW50TGVuZ3RoO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIHZpc2libGVMZW5ndGgsXG4gICAgICBjb250ZW50TGVuZ3RoLFxuICAgICAgb2Zmc2V0LFxuICAgICAgZE9mZnNldCxcbiAgICB9O1xuICB9O1xuXG4gIF9vblNjcm9sbCA9IChlOiBPYmplY3QpID0+IHtcbiAgICB0aGlzLl9uZXN0ZWRDaGlsZExpc3RzLmZvckVhY2goY2hpbGRMaXN0ID0+IHtcbiAgICAgIGNoaWxkTGlzdC5fb25TY3JvbGwoZSk7XG4gICAgfSk7XG4gICAgaWYgKHRoaXMucHJvcHMub25TY3JvbGwpIHtcbiAgICAgIHRoaXMucHJvcHMub25TY3JvbGwoZSk7XG4gICAgfVxuICAgIGNvbnN0IHRpbWVzdGFtcCA9IGUudGltZVN0YW1wO1xuICAgIGxldCB2aXNpYmxlTGVuZ3RoID0gdGhpcy5fc2VsZWN0TGVuZ3RoKGUubmF0aXZlRXZlbnQubGF5b3V0TWVhc3VyZW1lbnQpO1xuICAgIGxldCBjb250ZW50TGVuZ3RoID0gdGhpcy5fc2VsZWN0TGVuZ3RoKGUubmF0aXZlRXZlbnQuY29udGVudFNpemUpO1xuICAgIGxldCBvZmZzZXQgPSB0aGlzLl9zZWxlY3RPZmZzZXQoZS5uYXRpdmVFdmVudC5jb250ZW50T2Zmc2V0KTtcbiAgICBsZXQgZE9mZnNldCA9IG9mZnNldCAtIHRoaXMuX3Njcm9sbE1ldHJpY3Mub2Zmc2V0O1xuXG4gICAgaWYgKHRoaXMuX2lzTmVzdGVkV2l0aFNhbWVPcmllbnRhdGlvbigpKSB7XG4gICAgICBpZiAodGhpcy5fc2Nyb2xsTWV0cmljcy5jb250ZW50TGVuZ3RoID09PSAwKSB7XG4gICAgICAgIC8vIElnbm9yZSBzY3JvbGwgZXZlbnRzIHVudGlsIG9uTGF5b3V0IGhhcyBiZWVuIGNhbGxlZCBhbmQgd2VcbiAgICAgICAgLy8ga25vdyBvdXIgb2Zmc2V0IGZyb20gb3VyIG9mZnNldCBmcm9tIG91ciBwYXJlbnRcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgKHt2aXNpYmxlTGVuZ3RoLCBjb250ZW50TGVuZ3RoLCBvZmZzZXQsIGRPZmZzZXR9ID1cbiAgICAgICAgdGhpcy5fY29udmVydFBhcmVudFNjcm9sbE1ldHJpY3Moe1xuICAgICAgICAgIHZpc2libGVMZW5ndGgsXG4gICAgICAgICAgb2Zmc2V0LFxuICAgICAgICB9KSk7XG4gICAgfVxuXG4gICAgY29uc3QgZHQgPSB0aGlzLl9zY3JvbGxNZXRyaWNzLnRpbWVzdGFtcFxuICAgICAgPyBNYXRoLm1heCgxLCB0aW1lc3RhbXAgLSB0aGlzLl9zY3JvbGxNZXRyaWNzLnRpbWVzdGFtcClcbiAgICAgIDogMTtcbiAgICBjb25zdCB2ZWxvY2l0eSA9IGRPZmZzZXQgLyBkdDtcblxuICAgIGlmIChcbiAgICAgIGR0ID4gNTAwICYmXG4gICAgICB0aGlzLl9zY3JvbGxNZXRyaWNzLmR0ID4gNTAwICYmXG4gICAgICBjb250ZW50TGVuZ3RoID4gNSAqIHZpc2libGVMZW5ndGggJiZcbiAgICAgICF0aGlzLl9oYXNXYXJuZWQucGVyZlxuICAgICkge1xuICAgICAgaW5mb0xvZyhcbiAgICAgICAgJ1ZpcnR1YWxpemVkTGlzdDogWW91IGhhdmUgYSBsYXJnZSBsaXN0IHRoYXQgaXMgc2xvdyB0byB1cGRhdGUgLSBtYWtlIHN1cmUgeW91ciAnICtcbiAgICAgICAgICAncmVuZGVySXRlbSBmdW5jdGlvbiByZW5kZXJzIGNvbXBvbmVudHMgdGhhdCBmb2xsb3cgUmVhY3QgcGVyZm9ybWFuY2UgYmVzdCBwcmFjdGljZXMgJyArXG4gICAgICAgICAgJ2xpa2UgUHVyZUNvbXBvbmVudCwgc2hvdWxkQ29tcG9uZW50VXBkYXRlLCBldGMuJyxcbiAgICAgICAge2R0LCBwcmV2RHQ6IHRoaXMuX3Njcm9sbE1ldHJpY3MuZHQsIGNvbnRlbnRMZW5ndGh9LFxuICAgICAgKTtcbiAgICAgIHRoaXMuX2hhc1dhcm5lZC5wZXJmID0gdHJ1ZTtcbiAgICB9XG5cbiAgICAvLyBGb3IgaW52YWxpZCBuZWdhdGl2ZSB2YWx1ZXMgKHcvIFJUTCksIHNldCB0aGlzIHRvIDEuXG4gICAgY29uc3Qgem9vbVNjYWxlID0gZS5uYXRpdmVFdmVudC56b29tU2NhbGUgPCAwID8gMSA6IGUubmF0aXZlRXZlbnQuem9vbVNjYWxlO1xuICAgIHRoaXMuX3Njcm9sbE1ldHJpY3MgPSB7XG4gICAgICBjb250ZW50TGVuZ3RoLFxuICAgICAgZHQsXG4gICAgICBkT2Zmc2V0LFxuICAgICAgb2Zmc2V0LFxuICAgICAgdGltZXN0YW1wLFxuICAgICAgdmVsb2NpdHksXG4gICAgICB2aXNpYmxlTGVuZ3RoLFxuICAgICAgem9vbVNjYWxlLFxuICAgIH07XG4gICAgaWYgKHRoaXMuc3RhdGUucGVuZGluZ1Njcm9sbFVwZGF0ZUNvdW50ID4gMCkge1xuICAgICAgdGhpcy5zZXRTdGF0ZShzdGF0ZSA9PiAoe1xuICAgICAgICBwZW5kaW5nU2Nyb2xsVXBkYXRlQ291bnQ6IHN0YXRlLnBlbmRpbmdTY3JvbGxVcGRhdGVDb3VudCAtIDEsXG4gICAgICB9KSk7XG4gICAgfVxuICAgIHRoaXMuX3VwZGF0ZVZpZXdhYmxlSXRlbXModGhpcy5wcm9wcywgdGhpcy5zdGF0ZS5jZWxsc0Fyb3VuZFZpZXdwb3J0KTtcbiAgICBpZiAoIXRoaXMucHJvcHMpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5fbWF5YmVDYWxsT25FZGdlUmVhY2hlZCgpO1xuICAgIGlmICh2ZWxvY2l0eSAhPT0gMCkge1xuICAgICAgdGhpcy5fZmlsbFJhdGVIZWxwZXIuYWN0aXZhdGUoKTtcbiAgICB9XG4gICAgdGhpcy5fY29tcHV0ZUJsYW5rbmVzcygpO1xuICAgIHRoaXMuX3NjaGVkdWxlQ2VsbHNUb1JlbmRlclVwZGF0ZSgpO1xuICB9O1xuXG4gIF9zY2hlZHVsZUNlbGxzVG9SZW5kZXJVcGRhdGUoKSB7XG4gICAgY29uc3Qge2ZpcnN0LCBsYXN0fSA9IHRoaXMuc3RhdGUuY2VsbHNBcm91bmRWaWV3cG9ydDtcbiAgICBjb25zdCB7b2Zmc2V0LCB2aXNpYmxlTGVuZ3RoLCB2ZWxvY2l0eX0gPSB0aGlzLl9zY3JvbGxNZXRyaWNzO1xuICAgIGNvbnN0IGl0ZW1Db3VudCA9IHRoaXMucHJvcHMuZ2V0SXRlbUNvdW50KHRoaXMucHJvcHMuZGF0YSk7XG4gICAgbGV0IGhpUHJpID0gZmFsc2U7XG4gICAgY29uc3Qgb25TdGFydFJlYWNoZWRUaHJlc2hvbGQgPSBvblN0YXJ0UmVhY2hlZFRocmVzaG9sZE9yRGVmYXVsdChcbiAgICAgIHRoaXMucHJvcHMub25TdGFydFJlYWNoZWRUaHJlc2hvbGQsXG4gICAgKTtcbiAgICBjb25zdCBvbkVuZFJlYWNoZWRUaHJlc2hvbGQgPSBvbkVuZFJlYWNoZWRUaHJlc2hvbGRPckRlZmF1bHQoXG4gICAgICB0aGlzLnByb3BzLm9uRW5kUmVhY2hlZFRocmVzaG9sZCxcbiAgICApO1xuICAgIC8vIE1hcmsgYXMgaGlnaCBwcmlvcml0eSBpZiB3ZSdyZSBjbG9zZSB0byB0aGUgc3RhcnQgb2YgdGhlIGZpcnN0IGl0ZW1cbiAgICAvLyBCdXQgb25seSBpZiB0aGVyZSBhcmUgaXRlbXMgYmVmb3JlIHRoZSBmaXJzdCByZW5kZXJlZCBpdGVtXG4gICAgaWYgKGZpcnN0ID4gMCkge1xuICAgICAgY29uc3QgZGlzdFRvcCA9XG4gICAgICAgIG9mZnNldCAtIHRoaXMuX19nZXRGcmFtZU1ldHJpY3NBcHByb3goZmlyc3QsIHRoaXMucHJvcHMpLm9mZnNldDtcbiAgICAgIGhpUHJpID1cbiAgICAgICAgZGlzdFRvcCA8IDAgfHxcbiAgICAgICAgKHZlbG9jaXR5IDwgLTIgJiZcbiAgICAgICAgICBkaXN0VG9wIDxcbiAgICAgICAgICAgIGdldFNjcm9sbGluZ1RocmVzaG9sZChvblN0YXJ0UmVhY2hlZFRocmVzaG9sZCwgdmlzaWJsZUxlbmd0aCkpO1xuICAgIH1cbiAgICAvLyBNYXJrIGFzIGhpZ2ggcHJpb3JpdHkgaWYgd2UncmUgY2xvc2UgdG8gdGhlIGVuZCBvZiB0aGUgbGFzdCBpdGVtXG4gICAgLy8gQnV0IG9ubHkgaWYgdGhlcmUgYXJlIGl0ZW1zIGFmdGVyIHRoZSBsYXN0IHJlbmRlcmVkIGl0ZW1cbiAgICBpZiAoIWhpUHJpICYmIGxhc3QgPj0gMCAmJiBsYXN0IDwgaXRlbUNvdW50IC0gMSkge1xuICAgICAgY29uc3QgZGlzdEJvdHRvbSA9XG4gICAgICAgIHRoaXMuX19nZXRGcmFtZU1ldHJpY3NBcHByb3gobGFzdCwgdGhpcy5wcm9wcykub2Zmc2V0IC1cbiAgICAgICAgKG9mZnNldCArIHZpc2libGVMZW5ndGgpO1xuICAgICAgaGlQcmkgPVxuICAgICAgICBkaXN0Qm90dG9tIDwgMCB8fFxuICAgICAgICAodmVsb2NpdHkgPiAyICYmXG4gICAgICAgICAgZGlzdEJvdHRvbSA8XG4gICAgICAgICAgICBnZXRTY3JvbGxpbmdUaHJlc2hvbGQob25FbmRSZWFjaGVkVGhyZXNob2xkLCB2aXNpYmxlTGVuZ3RoKSk7XG4gICAgfVxuICAgIC8vIE9ubHkgdHJpZ2dlciBoaWdoLXByaW9yaXR5IHVwZGF0ZXMgaWYgd2UndmUgYWN0dWFsbHkgcmVuZGVyZWQgY2VsbHMsXG4gICAgLy8gYW5kIHdpdGggdGhhdCBzaXplIGVzdGltYXRlLCBhY2N1cmF0ZWx5IGNvbXB1dGUgaG93IG1hbnkgY2VsbHMgd2Ugc2hvdWxkIHJlbmRlci5cbiAgICAvLyBPdGhlcndpc2UsIGl0IHdvdWxkIGp1c3QgcmVuZGVyIGFzIG1hbnkgY2VsbHMgYXMgaXQgY2FuIChvZiB6ZXJvIGRpbWVuc2lvbiksXG4gICAgLy8gZWFjaCB0aW1lIHRocm91Z2ggYXR0ZW1wdGluZyB0byByZW5kZXIgbW9yZSAobGltaXRlZCBieSBtYXhUb1JlbmRlclBlckJhdGNoKSxcbiAgICAvLyBzdGFydmluZyB0aGUgcmVuZGVyZXIgZnJvbSBhY3R1YWxseSBsYXlpbmcgb3V0IHRoZSBvYmplY3RzIGFuZCBjb21wdXRpbmcgX2F2ZXJhZ2VDZWxsTGVuZ3RoLlxuICAgIC8vIElmIHRoaXMgaXMgdHJpZ2dlcmVkIGluIGFuIGBjb21wb25lbnREaWRVcGRhdGVgIGZvbGxvd2VkIGJ5IGEgaGlQcmkgY2VsbFRvUmVuZGVyVXBkYXRlXG4gICAgLy8gV2Ugc2hvdWxkbid0IGRvIGFub3RoZXIgaGlwcmkgY2VsbFRvUmVuZGVyVXBkYXRlXG4gICAgaWYgKFxuICAgICAgaGlQcmkgJiZcbiAgICAgICh0aGlzLl9hdmVyYWdlQ2VsbExlbmd0aCB8fCB0aGlzLnByb3BzLmdldEl0ZW1MYXlvdXQpICYmXG4gICAgICAhdGhpcy5faGlQcmlJblByb2dyZXNzXG4gICAgKSB7XG4gICAgICB0aGlzLl9oaVByaUluUHJvZ3Jlc3MgPSB0cnVlO1xuICAgICAgLy8gRG9uJ3Qgd29ycnkgYWJvdXQgaW50ZXJhY3Rpb25zIHdoZW4gc2Nyb2xsaW5nIHF1aWNrbHk7IGZvY3VzIG9uIGZpbGxpbmcgY29udGVudCBhcyBmYXN0XG4gICAgICAvLyBhcyBwb3NzaWJsZS5cbiAgICAgIHRoaXMuX3VwZGF0ZUNlbGxzVG9SZW5kZXJCYXRjaGVyLmRpc3Bvc2Uoe2Fib3J0OiB0cnVlfSk7XG4gICAgICB0aGlzLl91cGRhdGVDZWxsc1RvUmVuZGVyKCk7XG4gICAgICByZXR1cm47XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX3VwZGF0ZUNlbGxzVG9SZW5kZXJCYXRjaGVyLnNjaGVkdWxlKCk7XG4gICAgfVxuICB9XG5cbiAgX29uU2Nyb2xsQmVnaW5EcmFnID0gKGU6IFNjcm9sbEV2ZW50KTogdm9pZCA9PiB7XG4gICAgdGhpcy5fbmVzdGVkQ2hpbGRMaXN0cy5mb3JFYWNoKGNoaWxkTGlzdCA9PiB7XG4gICAgICBjaGlsZExpc3QuX29uU2Nyb2xsQmVnaW5EcmFnKGUpO1xuICAgIH0pO1xuICAgIHRoaXMuX3ZpZXdhYmlsaXR5VHVwbGVzLmZvckVhY2godHVwbGUgPT4ge1xuICAgICAgdHVwbGUudmlld2FiaWxpdHlIZWxwZXIucmVjb3JkSW50ZXJhY3Rpb24oKTtcbiAgICB9KTtcbiAgICB0aGlzLl9oYXNJbnRlcmFjdGVkID0gdHJ1ZTtcbiAgICB0aGlzLnByb3BzLm9uU2Nyb2xsQmVnaW5EcmFnICYmIHRoaXMucHJvcHMub25TY3JvbGxCZWdpbkRyYWcoZSk7XG4gIH07XG5cbiAgX29uU2Nyb2xsRW5kRHJhZyA9IChlOiBTY3JvbGxFdmVudCk6IHZvaWQgPT4ge1xuICAgIHRoaXMuX25lc3RlZENoaWxkTGlzdHMuZm9yRWFjaChjaGlsZExpc3QgPT4ge1xuICAgICAgY2hpbGRMaXN0Ll9vblNjcm9sbEVuZERyYWcoZSk7XG4gICAgfSk7XG4gICAgY29uc3Qge3ZlbG9jaXR5fSA9IGUubmF0aXZlRXZlbnQ7XG4gICAgaWYgKHZlbG9jaXR5KSB7XG4gICAgICB0aGlzLl9zY3JvbGxNZXRyaWNzLnZlbG9jaXR5ID0gdGhpcy5fc2VsZWN0T2Zmc2V0KHZlbG9jaXR5KTtcbiAgICB9XG4gICAgdGhpcy5fY29tcHV0ZUJsYW5rbmVzcygpO1xuICAgIHRoaXMucHJvcHMub25TY3JvbGxFbmREcmFnICYmIHRoaXMucHJvcHMub25TY3JvbGxFbmREcmFnKGUpO1xuICB9O1xuXG4gIF9vbk1vbWVudHVtU2Nyb2xsQmVnaW4gPSAoZTogU2Nyb2xsRXZlbnQpOiB2b2lkID0+IHtcbiAgICB0aGlzLl9uZXN0ZWRDaGlsZExpc3RzLmZvckVhY2goY2hpbGRMaXN0ID0+IHtcbiAgICAgIGNoaWxkTGlzdC5fb25Nb21lbnR1bVNjcm9sbEJlZ2luKGUpO1xuICAgIH0pO1xuICAgIHRoaXMucHJvcHMub25Nb21lbnR1bVNjcm9sbEJlZ2luICYmIHRoaXMucHJvcHMub25Nb21lbnR1bVNjcm9sbEJlZ2luKGUpO1xuICB9O1xuXG4gIF9vbk1vbWVudHVtU2Nyb2xsRW5kID0gKGU6IFNjcm9sbEV2ZW50KTogdm9pZCA9PiB7XG4gICAgdGhpcy5fbmVzdGVkQ2hpbGRMaXN0cy5mb3JFYWNoKGNoaWxkTGlzdCA9PiB7XG4gICAgICBjaGlsZExpc3QuX29uTW9tZW50dW1TY3JvbGxFbmQoZSk7XG4gICAgfSk7XG4gICAgdGhpcy5fc2Nyb2xsTWV0cmljcy52ZWxvY2l0eSA9IDA7XG4gICAgdGhpcy5fY29tcHV0ZUJsYW5rbmVzcygpO1xuICAgIHRoaXMucHJvcHMub25Nb21lbnR1bVNjcm9sbEVuZCAmJiB0aGlzLnByb3BzLm9uTW9tZW50dW1TY3JvbGxFbmQoZSk7XG4gIH07XG5cbiAgX3VwZGF0ZUNlbGxzVG9SZW5kZXIgPSAoKSA9PiB7XG4gICAgdGhpcy5fdXBkYXRlVmlld2FibGVJdGVtcyh0aGlzLnByb3BzLCB0aGlzLnN0YXRlLmNlbGxzQXJvdW5kVmlld3BvcnQpO1xuXG4gICAgdGhpcy5zZXRTdGF0ZSgoc3RhdGUsIHByb3BzKSA9PiB7XG4gICAgICBjb25zdCBjZWxsc0Fyb3VuZFZpZXdwb3J0ID0gdGhpcy5fYWRqdXN0Q2VsbHNBcm91bmRWaWV3cG9ydChcbiAgICAgICAgcHJvcHMsXG4gICAgICAgIHN0YXRlLmNlbGxzQXJvdW5kVmlld3BvcnQsXG4gICAgICAgIHN0YXRlLnBlbmRpbmdTY3JvbGxVcGRhdGVDb3VudCxcbiAgICAgICk7XG4gICAgICBjb25zdCByZW5kZXJNYXNrID0gVmlydHVhbGl6ZWRMaXN0Ll9jcmVhdGVSZW5kZXJNYXNrKFxuICAgICAgICBwcm9wcyxcbiAgICAgICAgY2VsbHNBcm91bmRWaWV3cG9ydCxcbiAgICAgICAgdGhpcy5fZ2V0Tm9uVmlld3BvcnRSZW5kZXJSZWdpb25zKHByb3BzKSxcbiAgICAgICk7XG5cbiAgICAgIGlmIChcbiAgICAgICAgY2VsbHNBcm91bmRWaWV3cG9ydC5maXJzdCA9PT0gc3RhdGUuY2VsbHNBcm91bmRWaWV3cG9ydC5maXJzdCAmJlxuICAgICAgICBjZWxsc0Fyb3VuZFZpZXdwb3J0Lmxhc3QgPT09IHN0YXRlLmNlbGxzQXJvdW5kVmlld3BvcnQubGFzdCAmJlxuICAgICAgICByZW5kZXJNYXNrLmVxdWFscyhzdGF0ZS5yZW5kZXJNYXNrKVxuICAgICAgKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4ge2NlbGxzQXJvdW5kVmlld3BvcnQsIHJlbmRlck1hc2t9O1xuICAgIH0pO1xuICB9O1xuXG4gIF9jcmVhdGVWaWV3VG9rZW4gPSAoXG4gICAgaW5kZXg6IG51bWJlcixcbiAgICBpc1ZpZXdhYmxlOiBib29sZWFuLFxuICAgIHByb3BzOiBGcmFtZU1ldHJpY1Byb3BzLFxuICAgIC8vICRGbG93Rml4TWVbbWlzc2luZy1sb2NhbC1hbm5vdF1cbiAgKSA9PiB7XG4gICAgY29uc3Qge2RhdGEsIGdldEl0ZW19ID0gcHJvcHM7XG4gICAgY29uc3QgaXRlbSA9IGdldEl0ZW0oZGF0YSwgaW5kZXgpO1xuICAgIHJldHVybiB7XG4gICAgICBpbmRleCxcbiAgICAgIGl0ZW0sXG4gICAgICBrZXk6IFZpcnR1YWxpemVkTGlzdC5fa2V5RXh0cmFjdG9yKGl0ZW0sIGluZGV4LCBwcm9wcyksXG4gICAgICBpc1ZpZXdhYmxlLFxuICAgIH07XG4gIH07XG5cbiAgLyoqXG4gICAqIEdldHMgYW4gYXBwcm94aW1hdGUgb2Zmc2V0IHRvIGFuIGl0ZW0gYXQgYSBnaXZlbiBpbmRleC4gU3VwcG9ydHNcbiAgICogZnJhY3Rpb25hbCBpbmRpY2VzLlxuICAgKi9cbiAgX2dldE9mZnNldEFwcHJveCA9IChpbmRleDogbnVtYmVyLCBwcm9wczogRnJhbWVNZXRyaWNQcm9wcyk6IG51bWJlciA9PiB7XG4gICAgaWYgKE51bWJlci5pc0ludGVnZXIoaW5kZXgpKSB7XG4gICAgICByZXR1cm4gdGhpcy5fX2dldEZyYW1lTWV0cmljc0FwcHJveChpbmRleCwgcHJvcHMpLm9mZnNldDtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgZnJhbWVNZXRyaWNzID0gdGhpcy5fX2dldEZyYW1lTWV0cmljc0FwcHJveChcbiAgICAgICAgTWF0aC5mbG9vcihpbmRleCksXG4gICAgICAgIHByb3BzLFxuICAgICAgKTtcbiAgICAgIGNvbnN0IHJlbWFpbmRlciA9IGluZGV4IC0gTWF0aC5mbG9vcihpbmRleCk7XG4gICAgICByZXR1cm4gZnJhbWVNZXRyaWNzLm9mZnNldCArIHJlbWFpbmRlciAqIGZyYW1lTWV0cmljcy5sZW5ndGg7XG4gICAgfVxuICB9O1xuXG4gIF9fZ2V0RnJhbWVNZXRyaWNzQXBwcm94OiAoXG4gICAgaW5kZXg6IG51bWJlcixcbiAgICBwcm9wczogRnJhbWVNZXRyaWNQcm9wcyxcbiAgKSA9PiB7XG4gICAgbGVuZ3RoOiBudW1iZXIsXG4gICAgb2Zmc2V0OiBudW1iZXIsXG4gICAgLi4uXG4gIH0gPSAoaW5kZXgsIHByb3BzKSA9PiB7XG4gICAgY29uc3QgZnJhbWUgPSB0aGlzLl9nZXRGcmFtZU1ldHJpY3MoaW5kZXgsIHByb3BzKTtcbiAgICBpZiAoZnJhbWUgJiYgZnJhbWUuaW5kZXggPT09IGluZGV4KSB7XG4gICAgICAvLyBjaGVjayBmb3IgaW52YWxpZCBmcmFtZXMgZHVlIHRvIHJvdyByZS1vcmRlcmluZ1xuICAgICAgcmV0dXJuIGZyYW1lO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCB7ZGF0YSwgZ2V0SXRlbUNvdW50LCBnZXRJdGVtTGF5b3V0fSA9IHByb3BzO1xuICAgICAgaW52YXJpYW50KFxuICAgICAgICBpbmRleCA+PSAwICYmIGluZGV4IDwgZ2V0SXRlbUNvdW50KGRhdGEpLFxuICAgICAgICAnVHJpZWQgdG8gZ2V0IGZyYW1lIGZvciBvdXQgb2YgcmFuZ2UgaW5kZXggJyArIGluZGV4LFxuICAgICAgKTtcbiAgICAgIGludmFyaWFudChcbiAgICAgICAgIWdldEl0ZW1MYXlvdXQsXG4gICAgICAgICdTaG91bGQgbm90IGhhdmUgdG8gZXN0aW1hdGUgZnJhbWVzIHdoZW4gYSBtZWFzdXJlbWVudCBtZXRyaWNzIGZ1bmN0aW9uIGlzIHByb3ZpZGVkJyxcbiAgICAgICk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBsZW5ndGg6IHRoaXMuX2F2ZXJhZ2VDZWxsTGVuZ3RoLFxuICAgICAgICBvZmZzZXQ6IHRoaXMuX2F2ZXJhZ2VDZWxsTGVuZ3RoICogaW5kZXgsXG4gICAgICB9O1xuICAgIH1cbiAgfTtcblxuICBfZ2V0RnJhbWVNZXRyaWNzID0gKFxuICAgIGluZGV4OiBudW1iZXIsXG4gICAgcHJvcHM6IEZyYW1lTWV0cmljUHJvcHMsXG4gICk6ID97XG4gICAgbGVuZ3RoOiBudW1iZXIsXG4gICAgb2Zmc2V0OiBudW1iZXIsXG4gICAgaW5kZXg6IG51bWJlcixcbiAgICBpbkxheW91dD86IGJvb2xlYW4sXG4gICAgLi4uXG4gIH0gPT4ge1xuICAgIGNvbnN0IHtkYXRhLCBnZXRJdGVtQ291bnQsIGdldEl0ZW1MYXlvdXR9ID0gcHJvcHM7XG4gICAgaW52YXJpYW50KFxuICAgICAgaW5kZXggPj0gMCAmJiBpbmRleCA8IGdldEl0ZW1Db3VudChkYXRhKSxcbiAgICAgICdUcmllZCB0byBnZXQgZnJhbWUgZm9yIG91dCBvZiByYW5nZSBpbmRleCAnICsgaW5kZXgsXG4gICAgKTtcbiAgICBjb25zdCBmcmFtZSA9IHRoaXMuX2ZyYW1lc1tWaXJ0dWFsaXplZExpc3QuX2dldEl0ZW1LZXkocHJvcHMsIGluZGV4KV07XG4gICAgaWYgKCFmcmFtZSB8fCBmcmFtZS5pbmRleCAhPT0gaW5kZXgpIHtcbiAgICAgIGlmIChnZXRJdGVtTGF5b3V0KSB7XG4gICAgICAgIC8qICRGbG93Rml4TWVbcHJvcC1taXNzaW5nXSAoPj0wLjYzLjAgc2l0ZT1yZWFjdF9uYXRpdmVfZmIpIFRoaXMgY29tbWVudFxuICAgICAgICAgKiBzdXBwcmVzc2VzIGFuIGVycm9yIGZvdW5kIHdoZW4gRmxvdyB2MC42MyB3YXMgZGVwbG95ZWQuIFRvIHNlZSB0aGUgZXJyb3JcbiAgICAgICAgICogZGVsZXRlIHRoaXMgY29tbWVudCBhbmQgcnVuIEZsb3cuICovXG4gICAgICAgIHJldHVybiBnZXRJdGVtTGF5b3V0KGRhdGEsIGluZGV4KTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZyYW1lO1xuICB9O1xuXG4gIF9nZXROb25WaWV3cG9ydFJlbmRlclJlZ2lvbnMgPSAoXG4gICAgcHJvcHM6IEZyYW1lTWV0cmljUHJvcHMsXG4gICk6ICRSZWFkT25seUFycmF5PHtcbiAgICBmaXJzdDogbnVtYmVyLFxuICAgIGxhc3Q6IG51bWJlcixcbiAgfT4gPT4ge1xuICAgIC8vIEtlZXAgYSB2aWV3cG9ydCdzIHdvcnRoIG9mIGNvbnRlbnQgYXJvdW5kIHRoZSBsYXN0IGZvY3VzZWQgY2VsbCB0byBhbGxvd1xuICAgIC8vIHJhbmRvbSBuYXZpZ2F0aW9uIGFyb3VuZCBpdCB3aXRob3V0IGFueSBibGFua2luZy4gRS5nLiB0YWJiaW5nIGZyb20gb25lXG4gICAgLy8gZm9jdXNlZCBpdGVtIG91dCBvZiB2aWV3cG9ydCB0byBhbm90aGVyLlxuICAgIGlmIChcbiAgICAgICEodGhpcy5fbGFzdEZvY3VzZWRDZWxsS2V5ICYmIHRoaXMuX2NlbGxSZWZzW3RoaXMuX2xhc3RGb2N1c2VkQ2VsbEtleV0pXG4gICAgKSB7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuXG4gICAgY29uc3QgbGFzdEZvY3VzZWRDZWxsUmVuZGVyZXIgPSB0aGlzLl9jZWxsUmVmc1t0aGlzLl9sYXN0Rm9jdXNlZENlbGxLZXldO1xuICAgIGNvbnN0IGZvY3VzZWRDZWxsSW5kZXggPSBsYXN0Rm9jdXNlZENlbGxSZW5kZXJlci5wcm9wcy5pbmRleDtcbiAgICBjb25zdCBpdGVtQ291bnQgPSBwcm9wcy5nZXRJdGVtQ291bnQocHJvcHMuZGF0YSk7XG5cbiAgICAvLyBUaGUgbGFzdCBjZWxsIHdlIHJlbmRlcmVkIG1heSBiZSBhdCBhIG5ldyBpbmRleC4gQmFpbCBpZiB3ZSBkb24ndCBrbm93XG4gICAgLy8gd2hlcmUgaXQgaXMuXG4gICAgaWYgKFxuICAgICAgZm9jdXNlZENlbGxJbmRleCA+PSBpdGVtQ291bnQgfHxcbiAgICAgIFZpcnR1YWxpemVkTGlzdC5fZ2V0SXRlbUtleShwcm9wcywgZm9jdXNlZENlbGxJbmRleCkgIT09XG4gICAgICAgIHRoaXMuX2xhc3RGb2N1c2VkQ2VsbEtleVxuICAgICkge1xuICAgICAgcmV0dXJuIFtdO1xuICAgIH1cblxuICAgIGxldCBmaXJzdCA9IGZvY3VzZWRDZWxsSW5kZXg7XG4gICAgbGV0IGhlaWdodE9mQ2VsbHNCZWZvcmVGb2N1c2VkID0gMDtcbiAgICBmb3IgKFxuICAgICAgbGV0IGkgPSBmaXJzdCAtIDE7XG4gICAgICBpID49IDAgJiYgaGVpZ2h0T2ZDZWxsc0JlZm9yZUZvY3VzZWQgPCB0aGlzLl9zY3JvbGxNZXRyaWNzLnZpc2libGVMZW5ndGg7XG4gICAgICBpLS1cbiAgICApIHtcbiAgICAgIGZpcnN0LS07XG4gICAgICBoZWlnaHRPZkNlbGxzQmVmb3JlRm9jdXNlZCArPSB0aGlzLl9fZ2V0RnJhbWVNZXRyaWNzQXBwcm94KFxuICAgICAgICBpLFxuICAgICAgICBwcm9wcyxcbiAgICAgICkubGVuZ3RoO1xuICAgIH1cblxuICAgIGxldCBsYXN0ID0gZm9jdXNlZENlbGxJbmRleDtcbiAgICBsZXQgaGVpZ2h0T2ZDZWxsc0FmdGVyRm9jdXNlZCA9IDA7XG4gICAgZm9yIChcbiAgICAgIGxldCBpID0gbGFzdCArIDE7XG4gICAgICBpIDwgaXRlbUNvdW50ICYmXG4gICAgICBoZWlnaHRPZkNlbGxzQWZ0ZXJGb2N1c2VkIDwgdGhpcy5fc2Nyb2xsTWV0cmljcy52aXNpYmxlTGVuZ3RoO1xuICAgICAgaSsrXG4gICAgKSB7XG4gICAgICBsYXN0Kys7XG4gICAgICBoZWlnaHRPZkNlbGxzQWZ0ZXJGb2N1c2VkICs9IHRoaXMuX19nZXRGcmFtZU1ldHJpY3NBcHByb3goXG4gICAgICAgIGksXG4gICAgICAgIHByb3BzLFxuICAgICAgKS5sZW5ndGg7XG4gICAgfVxuXG4gICAgcmV0dXJuIFt7Zmlyc3QsIGxhc3R9XTtcbiAgfTtcblxuICBfdXBkYXRlVmlld2FibGVJdGVtcyhcbiAgICBwcm9wczogRnJhbWVNZXRyaWNQcm9wcyxcbiAgICBjZWxsc0Fyb3VuZFZpZXdwb3J0OiB7Zmlyc3Q6IG51bWJlciwgbGFzdDogbnVtYmVyfSxcbiAgKSB7XG4gICAgLy8gSWYgd2UgaGF2ZSBhbnkgcGVuZGluZyBzY3JvbGwgdXBkYXRlcyBpdCBtZWFucyB0aGF0IHRoZSBzY3JvbGwgbWV0cmljc1xuICAgIC8vIGFyZSBvdXQgb2YgZGF0ZSBhbmQgd2Ugc2hvdWxkIG5vdCBjYWxsIGFueSBvZiB0aGUgdmlzaWJpbGl0eSBjYWxsYmFja3MuXG4gICAgaWYgKHRoaXMuc3RhdGUucGVuZGluZ1Njcm9sbFVwZGF0ZUNvdW50ID4gMCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLl92aWV3YWJpbGl0eVR1cGxlcy5mb3JFYWNoKHR1cGxlID0+IHtcbiAgICAgIHR1cGxlLnZpZXdhYmlsaXR5SGVscGVyLm9uVXBkYXRlKFxuICAgICAgICBwcm9wcyxcbiAgICAgICAgdGhpcy5fc2Nyb2xsTWV0cmljcy5vZmZzZXQsXG4gICAgICAgIHRoaXMuX3Njcm9sbE1ldHJpY3MudmlzaWJsZUxlbmd0aCxcbiAgICAgICAgdGhpcy5fZ2V0RnJhbWVNZXRyaWNzLFxuICAgICAgICB0aGlzLl9jcmVhdGVWaWV3VG9rZW4sXG4gICAgICAgIHR1cGxlLm9uVmlld2FibGVJdGVtc0NoYW5nZWQsXG4gICAgICAgIGNlbGxzQXJvdW5kVmlld3BvcnQsXG4gICAgICApO1xuICAgIH0pO1xuICB9XG59XG5cbmNvbnN0IHN0eWxlcyA9IFN0eWxlU2hlZXQuY3JlYXRlKHtcbiAgdmVydGljYWxseUludmVydGVkOlxuICAgIFBsYXRmb3JtLk9TID09PSAnYW5kcm9pZCdcbiAgICAgID8ge3RyYW5zZm9ybTogW3tzY2FsZTogLTF9XX1cbiAgICAgIDoge3RyYW5zZm9ybTogW3tzY2FsZVk6IC0xfV19LFxuICBob3Jpem9udGFsbHlJbnZlcnRlZDoge1xuICAgIHRyYW5zZm9ybTogW3tzY2FsZVg6IC0xfV0sXG4gIH0sXG4gIGRlYnVnOiB7XG4gICAgZmxleDogMSxcbiAgfSxcbiAgZGVidWdPdmVybGF5QmFzZToge1xuICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgIHRvcDogMCxcbiAgICByaWdodDogMCxcbiAgfSxcbiAgZGVidWdPdmVybGF5OiB7XG4gICAgYm90dG9tOiAwLFxuICAgIHdpZHRoOiAyMCxcbiAgICBib3JkZXJDb2xvcjogJ2JsdWUnLFxuICAgIGJvcmRlcldpZHRoOiAxLFxuICB9LFxuICBkZWJ1Z092ZXJsYXlGcmFtZToge1xuICAgIGxlZnQ6IDAsXG4gICAgYmFja2dyb3VuZENvbG9yOiAnb3JhbmdlJyxcbiAgfSxcbiAgZGVidWdPdmVybGF5RnJhbWVMYXN0OiB7XG4gICAgbGVmdDogMCxcbiAgICBib3JkZXJDb2xvcjogJ2dyZWVuJyxcbiAgICBib3JkZXJXaWR0aDogMixcbiAgfSxcbiAgZGVidWdPdmVybGF5RnJhbWVWaXM6IHtcbiAgICBsZWZ0OiAwLFxuICAgIGJvcmRlckNvbG9yOiAncmVkJyxcbiAgICBib3JkZXJXaWR0aDogMixcbiAgfSxcbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFZpcnR1YWxpemVkTGlzdDtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUEwQkEsSUFBQUEsWUFBQSxHQUFBQyxPQUFBO0FBUUEsSUFBQUMsWUFBQSxHQUFBQyxzQkFBQSxDQUFBRixPQUFBO0FBQ0EsSUFBQUcsTUFBQSxHQUFBRCxzQkFBQSxDQUFBRixPQUFBO0FBQ0EsSUFBQUksUUFBQSxHQUFBRixzQkFBQSxDQUFBRixPQUFBO0FBQ0EsSUFBQUssZUFBQSxHQUFBTCxPQUFBO0FBQ0EsSUFBQU0sb0JBQUEsR0FBQUosc0JBQUEsQ0FBQUYsT0FBQTtBQUNBLElBQUFPLGVBQUEsR0FBQUwsc0JBQUEsQ0FBQUYsT0FBQTtBQUNBLElBQUFRLHVCQUFBLEdBQUFOLHNCQUFBLENBQUFGLE9BQUE7QUFDQSxJQUFBUyxrQkFBQSxHQUFBUCxzQkFBQSxDQUFBRixPQUFBO0FBQ0EsSUFBQVUsNEJBQUEsR0FBQVIsc0JBQUEsQ0FBQUYsT0FBQTtBQUNBLElBQUFXLHVCQUFBLEdBQUFYLE9BQUE7QUFLQSxJQUFBWSxnQkFBQSxHQUFBWixPQUFBO0FBSUEsSUFBQWEsVUFBQSxHQUFBWCxzQkFBQSxDQUFBRixPQUFBO0FBQ0EsSUFBQWMsV0FBQSxHQUFBWixzQkFBQSxDQUFBRixPQUFBO0FBQ0EsSUFBQWUsS0FBQSxHQUFBQyx1QkFBQSxDQUFBaEIsT0FBQTtBQUErQixJQUFBaUIsV0FBQSxHQUFBakIsT0FBQTtBQUFBLFNBQUFnQix3QkFBQUUsQ0FBQSxFQUFBQyxDQUFBLDZCQUFBQyxPQUFBLE1BQUFDLENBQUEsT0FBQUQsT0FBQSxJQUFBRSxDQUFBLE9BQUFGLE9BQUEsWUFBQUosdUJBQUEsWUFBQUEsd0JBQUFFLENBQUEsRUFBQUMsQ0FBQSxTQUFBQSxDQUFBLElBQUFELENBQUEsSUFBQUEsQ0FBQSxDQUFBSyxVQUFBLFNBQUFMLENBQUEsTUFBQU0sQ0FBQSxFQUFBQyxDQUFBLEVB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SUFBSTtRQUN2QixJQUFJNkssSUFBSSxDQUFDb1AsSUFBSSxJQUFJcFAsSUFBSSxDQUFDb1AsSUFBSSxDQUFDQyxXQUFXLEVBQUU7VUFDdENqYSx5QkFBeUIsR0FBRzRLLElBQUksQ0FBQ29QLElBQUksQ0FBQ0MsV0FBVztRQUNuRDtNQUNGO01BQ0EsT0FBTy9XLEdBQUc7SUFDWjtFQUFDO0FBQUEsRUE3dkIyQmdYLCtCQUFzQjtBQUE5QzVZLGVBQWUsQ0FDWjZZLFdBQVcsR0FBa0NDLDhDQUFzQjtBQWkyRDVFLElBQU0zSCxNQUFNLEdBQUd6RCx1QkFBVSxDQUFDcUwsTUFBTSxDQUFDO0VBQy9CMUgsa0JBQWtCLEVBQ2hCMkgscUJBQVEsQ0FBQ0MsRUFBRSxLQUFLLFNBQVMsR0FDckI7SUFBQ0MsU0FBUyxFQUFFLENBQUM7TUFBQ0MsS0FBSyxFQUFFLENBQUM7SUFBQyxDQUFDO0VBQUMsQ0FBQyxHQUMxQjtJQUFDRCxTQUFTLEVBQUUsQ0FBQztNQUFDRSxNQUFNLEVBQUUsQ0FBQztJQUFDLENBQUM7RUFBQyxDQUFDO0VBQ2pDaEksb0JBQW9CLEVBQUU7SUFDcEI4SCxTQUFTLEVBQUUsQ0FBQztNQUFDRyxNQUFNLEVBQUUsQ0FBQztJQUFDLENBQUM7RUFDMUIsQ0FBQztFQUNEeEosS0FBSyxFQUFFO0lBQ0x5SixJQUFJLEVBQUU7RUFDUixDQUFDO0VBQ0RuRSxnQkFBZ0IsRUFBRTtJQUNoQm9FLFFBQVEsRUFBRSxVQUFVO0lBQ3BCakUsR0FBRyxFQUFFLENBQUM7SUFDTmtFLEtBQUssRUFBRTtFQUNULENBQUM7RUFDRHBFLFlBQVksRUFBRTtJQUNacUUsTUFBTSxFQUFFLENBQUM7SUFDVGxULEtBQUssRUFBRSxFQUFFO0lBQ1RtVCxXQUFXLEVBQUUsTUFBTTtJQUNuQkMsV0FBVyxFQUFFO0VBQ2YsQ0FBQztFQUNEdEUsaUJBQWlCLEVBQUU7SUFDakJ1RSxJQUFJLEVBQUUsQ0FBQztJQUNQQyxlQUFlLEVBQUU7RUFDbkIsQ0FBQztFQUNEdEUscUJBQXFCLEVBQUU7SUFDckJxRSxJQUFJLEVBQUUsQ0FBQztJQUNQRixXQUFXLEVBQUUsT0FBTztJQUNwQkMsV0FBVyxFQUFFO0VBQ2YsQ0FBQztFQUNEbkUsb0JBQW9CLEVBQUU7SUFDcEJvRSxJQUFJLEVBQUUsQ0FBQztJQUNQRixXQUFXLEVBQUUsS0FBSztJQUNsQkMsV0FBVyxFQUFFO0VBQ2Y7QUFDRixDQUFDLENBQUM7QUFFRkcsTUFBTSxDQUFDQyxPQUFPLEdBQUcvWixlQUFlIiwiaWdub3JlTGlzdCI6W119